{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _utils = require(\"../utils\");\n\nvar _utils2 = require(\"./utils\");\n\nvar _EachText = require(\"./wrapper/EachText\");\n\nvar _EachText2 = _interopRequireDefault(_EachText);\n\nvar _HoverTextNearMouse = require(\"./components/HoverTextNearMouse\");\n\nvar _HoverTextNearMouse2 = _interopRequireDefault(_HoverTextNearMouse);\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InteractiveText = function (_Component) {\n  _inherits(InteractiveText, _Component);\n\n  function InteractiveText(props) {\n    _classCallCheck(this, InteractiveText);\n\n    var _this = _possibleConstructorReturn(this, (InteractiveText.__proto__ || Object.getPrototypeOf(InteractiveText)).call(this, props));\n\n    _this.handleDraw = _this.handleDraw.bind(_this);\n    _this.handleDrag = _this.handleDrag.bind(_this);\n    _this.handleDragComplete = _this.handleDragComplete.bind(_this);\n    _this.terminate = _utils2.terminate.bind(_this);\n    _this.saveNodeType = _utils2.saveNodeType.bind(_this);\n    _this.getSelectionState = (0, _utils2.isHoverForInteractiveType)(\"textList\").bind(_this);\n    _this.nodes = [];\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(InteractiveText, [{\n    key: \"handleDrag\",\n    value: function handleDrag(index, position) {\n      this.setState({\n        override: {\n          index: index,\n          position: position\n        }\n      });\n    }\n  }, {\n    key: \"handleDragComplete\",\n    value: function handleDragComplete(moreProps) {\n      var _this2 = this;\n\n      var override = this.state.override;\n\n      if ((0, _utils.isDefined)(override)) {\n        var textList = this.props.textList;\n        var newTextList = textList.map(function (each, idx) {\n          var selected = idx === override.index;\n          return selected ? _extends({}, each, {\n            position: override.position,\n            selected: selected\n          }) : _extends({}, each, {\n            selected: selected\n          });\n        });\n        this.setState({\n          override: null\n        }, function () {\n          _this2.props.onDragComplete(newTextList, moreProps);\n        });\n      }\n    }\n  }, {\n    key: \"handleDrawLine\",\n    value: function handleDrawLine(xyValue) {\n      var current = this.state.current;\n\n      if ((0, _utils.isDefined)(current) && (0, _utils.isDefined)(current.start)) {\n        this.setState({\n          current: {\n            start: current.start,\n            end: xyValue\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleDraw\",\n    value: function handleDraw(moreProps, e) {\n      var enabled = this.props.enabled;\n\n      if (enabled) {\n        var _moreProps$mouseXY = _slicedToArray(moreProps.mouseXY, 2),\n            mouseY = _moreProps$mouseXY[1],\n            yScale = moreProps.chartConfig.yScale,\n            xAccessor = moreProps.xAccessor,\n            currentItem = moreProps.currentItem;\n\n        var xyValue = [xAccessor(currentItem), yScale.invert(mouseY)];\n        var _props = this.props,\n            defaultText = _props.defaultText,\n            onChoosePosition = _props.onChoosePosition;\n\n        var newText = _extends({}, defaultText, {\n          position: xyValue\n        });\n\n        onChoosePosition(newText, moreProps, e);\n      }\n      /*  else {\n      this.handleClick(moreProps, e);\n      } */\n\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _props2 = this.props,\n          textList = _props2.textList,\n          defaultText = _props2.defaultText,\n          hoverText = _props2.hoverText;\n      var override = this.state.override;\n      return _react2.default.createElement(\"g\", null, textList.map(function (each, idx) {\n        var defaultHoverText = InteractiveText.defaultProps.hoverText;\n\n        var props = _extends({}, defaultText, each, {\n          hoverText: _extends({}, defaultHoverText, hoverText, each.hoverText || {})\n        });\n\n        return _react2.default.createElement(_EachText2.default, _extends({\n          key: idx,\n          ref: _this3.saveNodeType(idx),\n          index: idx\n        }, props, {\n          selected: each.selected,\n          position: (0, _utils2.getValueFromOverride)(override, idx, \"position\", each.position),\n          onDrag: _this3.handleDrag,\n          onDragComplete: _this3.handleDragComplete,\n          edgeInteractiveCursor: \"react-stockcharts-move-cursor\"\n        }));\n      }), _react2.default.createElement(_GenericChartComponent2.default, {\n        onClick: this.handleDraw,\n        svgDraw: _utils.noop,\n        canvasDraw: _utils.noop,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\"]\n      }), \";\");\n    }\n  }]);\n\n  return InteractiveText;\n}(_react.Component);\n\nInteractiveText.propTypes = {\n  onChoosePosition: _propTypes2.default.func.isRequired,\n  onDragComplete: _propTypes2.default.func.isRequired,\n  onSelect: _propTypes2.default.func,\n  defaultText: _propTypes2.default.shape({\n    bgFill: _propTypes2.default.string.isRequired,\n    bgOpacity: _propTypes2.default.number.isRequired,\n    bgStrokeWidth: _propTypes2.default.number,\n    bgStroke: _propTypes2.default.string,\n    textFill: _propTypes2.default.string.isRequired,\n    fontFamily: _propTypes2.default.string.isRequired,\n    fontWeight: _propTypes2.default.string.isRequired,\n    fontStyle: _propTypes2.default.string.isRequired,\n    fontSize: _propTypes2.default.number.isRequired,\n    text: _propTypes2.default.string.isRequired\n  }).isRequired,\n  hoverText: _propTypes2.default.object.isRequired,\n  textList: _propTypes2.default.array.isRequired,\n  enabled: _propTypes2.default.bool.isRequired\n};\nInteractiveText.defaultProps = {\n  onChoosePosition: _utils.noop,\n  onDragComplete: _utils.noop,\n  onSelect: _utils.noop,\n  defaultText: {\n    bgFill: \"#D3D3D3\",\n    bgOpacity: 1,\n    bgStrokeWidth: 1,\n    textFill: \"#F10040\",\n    fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n    fontSize: 12,\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    text: \"Lorem ipsum...\"\n  },\n  hoverText: _extends({}, _HoverTextNearMouse2.default.defaultProps, {\n    enable: true,\n    bgHeight: \"auto\",\n    bgWidth: \"auto\",\n    text: \"Click to select object\",\n    selectedText: \"\"\n  }),\n  textList: []\n};\nInteractiveText.contextTypes = {\n  subscribe: _propTypes2.default.func.isRequired,\n  unsubscribe: _propTypes2.default.func.isRequired,\n  generateSubscriptionId: _propTypes2.default.func.isRequired,\n  chartId: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]).isRequired\n};\nexports.default = InteractiveText;","map":{"version":3,"mappings":"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","names":["InteractiveText","props","_classCallCheck","_this","handleDraw","bind","handleDrag","handleDragComplete","terminate","_utils2","saveNodeType","getSelectionState","nodes","state","index","position","setState","override","moreProps","textList","newTextList","map","each","idx","selected","_this2","onDragComplete","xyValue","current","start","end","e","enabled","mouseXY","mouseY","yScale","chartConfig","xAccessor","currentItem","invert","defaultText","onChoosePosition","newText","hoverText","_react2","defaultHoverText","defaultProps","key","ref","_this3","onDrag","edgeInteractiveCursor","onClick","svgDraw","canvasDraw","canvasToDraw","drawOn","propTypes","_propTypes2","func","isRequired","onSelect","shape","bgFill","string","bgOpacity","number","bgStrokeWidth","bgStroke","textFill","fontFamily","fontWeight","fontStyle","fontSize","text","object","array","bool","_HoverTextNearMouse2","enable","bgHeight","bgWidth","selectedText","contextTypes","subscribe","unsubscribe","generateSubscriptionId","chartId","oneOfType"],"sources":["../../../src/lib/interactive/InteractiveText.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { isDefined, noop } from \"../utils\";\n\nimport {\n\tgetValueFromOverride,\n\tterminate,\n\tsaveNodeType,\n\tisHoverForInteractiveType,\n} from \"./utils\";\nimport EachText from \"./wrapper/EachText\";\nimport HoverTextNearMouse from \"./components/HoverTextNearMouse\";\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nclass InteractiveText extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleDraw = this.handleDraw.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\t\tthis.terminate = terminate.bind(this);\n\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.getSelectionState = isHoverForInteractiveType(\"textList\")\n\t\t\t.bind(this);\n\n\t\tthis.nodes = [];\n\t\tthis.state = {};\n\t}\n\thandleDrag(index, position) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tposition,\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete(moreProps) {\n\t\tconst { override } = this.state;\n\t\tif (isDefined(override)) {\n\t\t\tconst { textList } = this.props;\n\t\t\tconst newTextList = textList\n\t\t\t\t.map((each, idx) => {\n\t\t\t\t\tconst selected = (idx === override.index);\n\t\t\t\t\treturn selected\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t...each,\n\t\t\t\t\t\t\tposition: override.position,\n\t\t\t\t\t\t\tselected,\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t...each,\n\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tthis.setState({\n\t\t\t\toverride: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onDragComplete(newTextList, moreProps);\n\t\t\t});\n\t\t}\n\t}\n\thandleDrawLine(xyValue) {\n\t\tconst { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: current.start,\n\t\t\t\t\tend: xyValue,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDraw(moreProps, e) {\n\t\tconst { enabled } = this.props;\n\t\tif (enabled) {\n\t\t\tconst {\n\t\t\t\tmouseXY: [, mouseY],\n\t\t\t\tchartConfig: { yScale },\n\t\t\t\txAccessor,\n\t\t\t\tcurrentItem,\n\t\t\t} = moreProps;\n\n\t\t\tconst xyValue = [xAccessor(currentItem), yScale.invert(mouseY)];\n\n\t\t\tconst { defaultText, onChoosePosition } = this.props;\n\n\t\t\tconst newText = {\n\t\t\t\t...defaultText,\n\t\t\t\tposition: xyValue,\n\t\t\t};\n\t\t\tonChoosePosition(newText, moreProps, e);\n\t\t}/*  else {\n\t\t\tthis.handleClick(moreProps, e);\n\t\t} */\n\t}\n\trender() {\n\t\tconst { textList, defaultText, hoverText } = this.props;\n\t\tconst { override } = this.state;\n\t\treturn <g>\n\t\t\t{textList.map((each, idx) => {\n\t\t\t\tconst defaultHoverText = InteractiveText.defaultProps.hoverText;\n\t\t\t\tconst props = {\n\t\t\t\t\t...defaultText,\n\t\t\t\t\t...each,\n\t\t\t\t\thoverText: {\n\t\t\t\t\t\t...defaultHoverText,\n\t\t\t\t\t\t...hoverText,\n\t\t\t\t\t\t...(each.hoverText || {})\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t\treturn <EachText key={idx}\n\t\t\t\t\tref={this.saveNodeType(idx)}\n\t\t\t\t\tindex={idx}\n\t\t\t\t\t{...props}\n\t\t\t\t\tselected={each.selected}\n\t\t\t\t\tposition={getValueFromOverride(override, idx, \"position\", each.position)}\n\n\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t\tedgeInteractiveCursor=\"react-stockcharts-move-cursor\"\n\t\t\t\t/>;\n\t\t\t})}\n\t\t\t<GenericChartComponent\n\n\t\t\t\tonClick={this.handleDraw}\n\n\t\t\t\tsvgDraw={noop}\n\t\t\t\tcanvasDraw={noop}\n\t\t\t\tcanvasToDraw={getMouseCanvas}\n\n\t\t\t\tdrawOn={[\"mousemove\", \"pan\"]}\n\t\t\t/>;\n\t\t</g>;\n\t}\n}\n\nInteractiveText.propTypes = {\n\tonChoosePosition: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func,\n\n\tdefaultText: PropTypes.shape({\n\t\tbgFill: PropTypes.string.isRequired,\n\t\tbgOpacity: PropTypes.number.isRequired,\n\t\tbgStrokeWidth: PropTypes.number,\n\t\tbgStroke: PropTypes.string,\n\t\ttextFill: PropTypes.string.isRequired,\n\t\tfontFamily: PropTypes.string.isRequired,\n\t\tfontWeight: PropTypes.string.isRequired,\n\t\tfontStyle: PropTypes.string.isRequired,\n\t\tfontSize: PropTypes.number.isRequired,\n\t\ttext: PropTypes.string.isRequired,\n\t}).isRequired,\n\n\thoverText: PropTypes.object.isRequired,\n\ttextList: PropTypes.array.isRequired,\n\tenabled: PropTypes.bool.isRequired,\n};\n\nInteractiveText.defaultProps = {\n\tonChoosePosition: noop,\n\tonDragComplete: noop,\n\tonSelect: noop,\n\n\tdefaultText: {\n\t\tbgFill: \"#D3D3D3\",\n\t\tbgOpacity: 1,\n\t\tbgStrokeWidth: 1,\n\t\ttextFill: \"#F10040\",\n\t\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\t\tfontSize: 12,\n\t\tfontStyle: \"normal\",\n\t\tfontWeight: \"normal\",\n\t\ttext: \"Lorem ipsum...\"\n\t},\n\thoverText: {\n\t\t...HoverTextNearMouse.defaultProps,\n\t\tenable: true,\n\t\tbgHeight: \"auto\",\n\t\tbgWidth: \"auto\",\n\t\ttext: \"Click to select object\",\n\t\tselectedText: \"\",\n\t},\n\ttextList: [],\n};\n\nInteractiveText.contextTypes = {\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n\tgenerateSubscriptionId: PropTypes.func.isRequired,\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n};\n\nexport default InteractiveText;\n"]},"metadata":{},"sourceType":"script"}