{"ast":null,"code":"import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport { transformer } from \"../transform.js\";\nimport { fitExtent, fitSize, fitWidth, fitHeight } from \"./fit.js\";\nimport { cos, degrees, radians, sin } from \"../math.js\";\nexport default function () {\n  var k = 1,\n      tx = 0,\n      ty = 0,\n      sx = 1,\n      sy = 1,\n      // scale, translate and reflect\n  alpha = 0,\n      ca,\n      sa,\n      // angle\n  x0 = null,\n      y0,\n      x1,\n      y1,\n      // clip extent\n  kx = 1,\n      ky = 1,\n      transform = transformer({\n    point: function (x, y) {\n      var p = projection([x, y]);\n      this.stream.point(p[0], p[1]);\n    }\n  }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection(p) {\n    var x = p[0] * kx,\n        y = p[1] * ky;\n\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }\n\n    return [x + tx, y + ty];\n  }\n\n  projection.invert = function (p) {\n    var x = p[0] - tx,\n        y = p[1] - ty;\n\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n\n    return [x / kx, y / ky];\n  };\n\n  projection.stream = function (stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n\n  projection.postclip = function (_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipExtent = function (_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function (_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n\n  projection.translate = function (_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  };\n\n  projection.angle = function (_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n\n  projection.reflectX = function (_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n\n  projection.reflectY = function (_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n\n  projection.fitExtent = function (extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function (size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function (width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function (height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}","map":{"version":3,"names":["clipRectangle","identity","transformer","fitExtent","fitSize","fitWidth","fitHeight","cos","degrees","radians","sin","k","tx","ty","sx","sy","alpha","ca","sa","x0","y0","x1","y1","kx","ky","transform","point","x","y","p","projection","stream","postclip","cache","cacheStream","reset","t","invert","_","arguments","length","clipExtent","scale","translate","angle","reflectX","reflectY","extent","object","size","width","height"],"sources":["/home/chenak/QbitesReact/my-app/node_modules/d3-geo/src/projection/identity.js"],"sourcesContent":["import clipRectangle from \"../clip/rectangle.js\";\nimport identity from \"../identity.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport {cos, degrees, radians, sin} from \"../math.js\";\n\nexport default function() {\n  var k = 1, tx = 0, ty = 0, sx = 1, sy = 1, // scale, translate and reflect\n      alpha = 0, ca, sa, // angle\n      x0 = null, y0, x1, y1, // clip extent\n      kx = 1, ky = 1,\n      transform = transformer({\n        point: function(x, y) {\n          var p = projection([x, y])\n          this.stream.point(p[0], p[1]);\n        }\n      }),\n      postclip = identity,\n      cache,\n      cacheStream;\n\n  function reset() {\n    kx = k * sx;\n    ky = k * sy;\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  function projection (p) {\n    var x = p[0] * kx, y = p[1] * ky;\n    if (alpha) {\n      var t = y * ca - x * sa;\n      x = x * ca + y * sa;\n      y = t;\n    }    \n    return [x + tx, y + ty];\n  }\n  projection.invert = function(p) {\n    var x = p[0] - tx, y = p[1] - ty;\n    if (alpha) {\n      var t = y * ca + x * sa;\n      x = x * ca - y * sa;\n      y = t;\n    }\n    return [x / kx, y / ky];\n  };\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transform(postclip(cacheStream = stream));\n  };\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, reset()) : k;\n  };\n  projection.translate = function(_) {\n    return arguments.length ? (tx = +_[0], ty = +_[1], reset()) : [tx, ty];\n  }\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, sa = sin(alpha), ca = cos(alpha), reset()) : alpha * degrees;\n  };\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, reset()) : sx < 0;\n  };\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, reset()) : sy < 0;\n  };\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  return projection;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}