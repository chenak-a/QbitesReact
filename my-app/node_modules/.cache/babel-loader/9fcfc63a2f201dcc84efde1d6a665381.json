{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _EdgeCoordinateV = require(\"./EdgeCoordinateV3\");\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar MouseCoordinateX = function (_Component) {\n  _inherits(MouseCoordinateX, _Component);\n\n  function MouseCoordinateX(props) {\n    _classCallCheck(this, MouseCoordinateX);\n\n    var _this = _possibleConstructorReturn(this, (MouseCoordinateX.__proto__ || Object.getPrototypeOf(MouseCoordinateX)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n\n  _createClass(MouseCoordinateX, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var props = helper(this.props, moreProps);\n      if ((0, _utils.isNotDefined)(props)) return null;\n      (0, _EdgeCoordinateV.drawOnCanvas)(ctx, props);\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var props = helper(this.props, moreProps);\n      if ((0, _utils.isNotDefined)(props)) return null;\n      return (0, _EdgeCoordinateV.renderSVG)(props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        svgDraw: this.renderSVG,\n        clip: false,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\", \"drag\"]\n      });\n    }\n  }]);\n\n  return MouseCoordinateX;\n}(_react.Component);\n\nMouseCoordinateX.propTypes = {\n  displayFormat: _propTypes2.default.func.isRequired,\n  yAxisPad: _propTypes2.default.number,\n  rectWidth: _propTypes2.default.number,\n  rectHeight: _propTypes2.default.number,\n  orient: _propTypes2.default.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n  at: _propTypes2.default.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n  fill: _propTypes2.default.string,\n  opacity: _propTypes2.default.number,\n  fontFamily: _propTypes2.default.string,\n  fontSize: _propTypes2.default.number,\n  textFill: _propTypes2.default.string,\n  snapX: _propTypes2.default.bool\n};\n\nfunction customX(props, moreProps) {\n  var xScale = moreProps.xScale,\n      xAccessor = moreProps.xAccessor,\n      currentItem = moreProps.currentItem,\n      mouseXY = moreProps.mouseXY;\n  var snapX = props.snapX;\n  var x = snapX ? xScale(xAccessor(currentItem)) : mouseXY[0];\n  var displayXAccessor = moreProps.displayXAccessor;\n  var displayFormat = props.displayFormat;\n  var coordinate = snapX ? displayFormat(displayXAccessor(currentItem)) : displayFormat(xScale.invert(x));\n  return {\n    x: x,\n    coordinate: coordinate\n  };\n}\n\nMouseCoordinateX.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 80,\n  rectHeight: 20,\n  // rectRadius: 5,\n  // stroke: \"#684F1D\",\n  strokeOpacity: 1,\n  strokeWidth: 1,\n  orient: \"bottom\",\n  at: \"bottom\",\n  fill: \"#525252\",\n  opacity: 1,\n  fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n  fontSize: 13,\n  textFill: \"#FFFFFF\",\n  snapX: true,\n  customX: customX\n};\n\nfunction helper(props, moreProps) {\n  var show = moreProps.show,\n      currentItem = moreProps.currentItem;\n  var height = moreProps.chartConfig.height;\n  if ((0, _utils.isNotDefined)(currentItem)) return null;\n  var customX = props.customX;\n  var orient = props.orient,\n      at = props.at;\n  var stroke = props.stroke,\n      strokeOpacity = props.strokeOpacity,\n      strokeWidth = props.strokeWidth;\n  var rectRadius = props.rectRadius,\n      rectWidth = props.rectWidth,\n      rectHeight = props.rectHeight;\n  var fill = props.fill,\n      opacity = props.opacity,\n      fontFamily = props.fontFamily,\n      fontSize = props.fontSize,\n      textFill = props.textFill;\n  var edgeAt = at === \"bottom\" ? height : 0;\n\n  var _customX = customX(props, moreProps),\n      x = _customX.x,\n      coordinate = _customX.coordinate;\n\n  var type = \"vertical\";\n  var y1 = 0,\n      y2 = height;\n  var hideLine = true;\n  var coordinateProps = {\n    coordinate: coordinate,\n    show: show,\n    type: type,\n    orient: orient,\n    edgeAt: edgeAt,\n    hideLine: hideLine,\n    fill: fill,\n    opacity: opacity,\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    textFill: textFill,\n    stroke: stroke,\n    strokeOpacity: strokeOpacity,\n    strokeWidth: strokeWidth,\n    rectWidth: rectWidth,\n    rectHeight: rectHeight,\n    rectRadius: rectRadius,\n    arrowWidth: 0,\n    x1: x,\n    x2: x,\n    y1: y1,\n    y2: y2\n  };\n  return coordinateProps;\n}\n\nexports.default = MouseCoordinateX;","map":{"version":3,"mappings":"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","names":["MouseCoordinateX","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","_react2","svgDraw","clip","canvasDraw","canvasToDraw","drawOn","propTypes","displayFormat","_propTypes2","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","fill","string","opacity","fontFamily","fontSize","textFill","snapX","bool","customX","xScale","xAccessor","currentItem","mouseXY","x","displayXAccessor","coordinate","invert","defaultProps","strokeOpacity","strokeWidth","show","height","chartConfig","stroke","rectRadius","edgeAt","type","y1","y2","hideLine","coordinateProps","arrowWidth","x1","x2"],"sources":["../../../src/lib/coordinates/MouseCoordinateX.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateX extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tclip={false}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\n\t\t/>;\n\t}\n}\n\nMouseCoordinateX.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n\tyAxisPad: PropTypes.number,\n\trectWidth: PropTypes.number,\n\trectHeight: PropTypes.number,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\ttextFill: PropTypes.string,\n\tsnapX: PropTypes.bool\n};\n\nfunction customX(props, moreProps) {\n\tconst { xScale, xAccessor, currentItem, mouseXY } = moreProps;\n\tconst { snapX } = props;\n\tconst x = snapX\n\t\t? xScale(xAccessor(currentItem))\n\t\t: mouseXY[0];\n\n\tconst { displayXAccessor } = moreProps;\n\tconst { displayFormat } = props;\n\tconst coordinate = snapX\n\t\t? displayFormat(displayXAccessor(currentItem))\n\t\t: displayFormat(xScale.invert(x));\n\treturn { x, coordinate };\n}\n\nMouseCoordinateX.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 80,\n\trectHeight: 20,\n\n\t// rectRadius: 5,\n\t// stroke: \"#684F1D\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 1,\n\n\torient: \"bottom\",\n\tat: \"bottom\",\n\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tsnapX: true,\n\tcustomX: customX,\n};\n\nfunction helper(props, moreProps) {\n\tconst { show, currentItem } = moreProps;\n\tconst { chartConfig: { height } } = moreProps;\n\n\tif (isNotDefined(currentItem)) return null;\n\n\tconst { customX } = props;\n\n\tconst { orient, at } = props;\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\n\tconst { rectRadius, rectWidth, rectHeight } = props;\n\tconst { fill, opacity, fontFamily, fontSize, textFill } = props;\n\n\tconst edgeAt = (at === \"bottom\")\n\t\t? height\n\t\t: 0;\n\n\tconst {\n\t\tx,\n\t\tcoordinate\n\t } = customX(props, moreProps);\n\n\tconst type = \"vertical\";\n\tconst y1 = 0, y2 = height;\n\tconst hideLine = true;\n\n\tconst coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill, opacity, fontFamily, fontSize, textFill,\n\t\tstroke, strokeOpacity, strokeWidth,\n\t\trectWidth,\n\t\trectHeight,\n\t\trectRadius,\n\t\tarrowWidth: 0,\n\t\tx1: x,\n\t\tx2: x,\n\t\ty1,\n\t\ty2\n\t};\n\treturn coordinateProps;\n}\n\nexport default MouseCoordinateX;\n"]},"metadata":{},"sourceType":"script"}