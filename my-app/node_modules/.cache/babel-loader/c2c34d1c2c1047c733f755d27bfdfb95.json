{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Axis = require(\"./Axis\");\n\nvar _Axis2 = _interopRequireDefault(_Axis);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar YAxis = function (_Component) {\n  _inherits(YAxis, _Component);\n\n  function YAxis(props, context) {\n    _classCallCheck(this, YAxis);\n\n    var _this = _possibleConstructorReturn(this, (YAxis.__proto__ || Object.getPrototypeOf(YAxis)).call(this, props, context));\n\n    _this.axisZoomCallback = _this.axisZoomCallback.bind(_this);\n    return _this;\n  }\n\n  _createClass(YAxis, [{\n    key: \"axisZoomCallback\",\n    value: function axisZoomCallback(newYDomain) {\n      var _context = this.context,\n          chartId = _context.chartId,\n          yAxisZoom = _context.yAxisZoom;\n      yAxisZoom(chartId, newYDomain);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _helper = helper(this.props, this.context),\n          zoomEnabled = _helper.zoomEnabled,\n          moreProps = _objectWithoutProperties(_helper, [\"zoomEnabled\"]);\n\n      return _react2.default.createElement(_Axis2.default, _extends({}, this.props, moreProps, {\n        zoomEnabled: this.props.zoomEnabled && zoomEnabled,\n        edgeClip: true,\n        axisZoomCallback: this.axisZoomCallback,\n        zoomCursorClassName: \"react-stockcharts-ns-resize-cursor\"\n      }));\n    }\n  }]);\n\n  return YAxis;\n}(_react.Component);\n\nYAxis.propTypes = {\n  axisAt: _propTypes2.default.oneOfType([_propTypes2.default.oneOf([\"left\", \"right\", \"middle\"]), _propTypes2.default.number]).isRequired,\n  orient: _propTypes2.default.oneOf([\"left\", \"right\"]).isRequired,\n  innerTickSize: _propTypes2.default.number,\n  outerTickSize: _propTypes2.default.number,\n  tickFormat: _propTypes2.default.func,\n  tickPadding: _propTypes2.default.number,\n  tickSize: _propTypes2.default.number,\n  ticks: _propTypes2.default.number,\n  yZoomWidth: _propTypes2.default.number,\n  tickValues: _propTypes2.default.array,\n  showTicks: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  zoomEnabled: _propTypes2.default.bool,\n  onContextMenu: _propTypes2.default.func,\n  onDoubleClick: _propTypes2.default.func\n};\nYAxis.defaultProps = {\n  showTicks: true,\n  showTickLabel: true,\n  showDomain: true,\n  className: \"react-stockcharts-y-axis\",\n  ticks: 10,\n  outerTickSize: 0,\n  domainClassName: \"react-stockcharts-axis-domain\",\n  fill: \"none\",\n  stroke: \"#FFFFFF\",\n  strokeWidth: 1,\n  opacity: 1,\n  innerTickSize: 5,\n  tickPadding: 6,\n  tickStroke: \"#000000\",\n  tickStrokeOpacity: 1,\n  fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n  fontSize: 12,\n  fontWeight: 400,\n  yZoomWidth: 40,\n  zoomEnabled: true,\n  getMouseDelta: function getMouseDelta(startXY, mouseXY) {\n    return startXY[1] - mouseXY[1];\n  }\n};\nYAxis.contextTypes = {\n  yAxisZoom: _propTypes2.default.func.isRequired,\n  chartId: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]).isRequired,\n  chartConfig: _propTypes2.default.object.isRequired\n};\n\nfunction helper(props, context) {\n  var axisAt = props.axisAt,\n      yZoomWidth = props.yZoomWidth,\n      orient = props.orient;\n  var _context$chartConfig = context.chartConfig,\n      width = _context$chartConfig.width,\n      height = _context$chartConfig.height;\n  var axisLocation = void 0;\n  var y = 0,\n      w = yZoomWidth,\n      h = height;\n\n  if (axisAt === \"left\") {\n    axisLocation = 0;\n  } else if (axisAt === \"right\") {\n    axisLocation = width;\n  } else if (axisAt === \"middle\") {\n    axisLocation = width / 2;\n  } else {\n    axisLocation = axisAt;\n  }\n\n  var x = orient === \"left\" ? -yZoomWidth : 0;\n  return {\n    transform: [axisLocation, 0],\n    range: [0, height],\n    getScale: getYScale,\n    bg: {\n      x: x,\n      y: y,\n      h: h,\n      w: w\n    },\n    zoomEnabled: context.chartConfig.yPan\n  };\n}\n\nfunction getYScale(moreProps) {\n  var _moreProps$chartConfi = moreProps.chartConfig,\n      scale = _moreProps$chartConfi.yScale,\n      flipYScale = _moreProps$chartConfi.flipYScale,\n      height = _moreProps$chartConfi.height;\n\n  if (scale.invert) {\n    var trueRange = flipYScale ? [0, height] : [height, 0];\n    var trueDomain = trueRange.map(scale.invert);\n    return scale.copy().domain(trueDomain).range(trueRange);\n  }\n\n  return scale;\n}\n\nexports.default = YAxis;","map":{"version":3,"mappings":"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","names":["YAxis","props","context","_classCallCheck","_this","axisZoomCallback","bind","newYDomain","chartId","yAxisZoom","helper","zoomEnabled","moreProps","_react2","edgeClip","zoomCursorClassName","propTypes","axisAt","_propTypes2","oneOfType","oneOf","number","isRequired","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","yZoomWidth","tickValues","array","showTicks","bool","className","string","onContextMenu","onDoubleClick","defaultProps","showTickLabel","showDomain","domainClassName","fill","stroke","strokeWidth","opacity","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","width","height","axisLocation","y","w","h","x","transform","range","getScale","getYScale","bg","yPan","scale","yScale","flipYScale","invert","trueRange","trueDomain","map","copy","domain"],"sources":["../../../src/lib/axes/YAxis.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Axis from \"./Axis\";\n\nclass YAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newYDomain) {\n\t\tconst { chartId, yAxisZoom } = this.context;\n\t\tyAxisZoom(chartId, newYDomain);\n\t}\n\trender() {\n\t\tconst { zoomEnabled, ...moreProps } = helper(this.props, this.context);\n\t\treturn <Axis {...this.props} {...moreProps}\n\t\t\tzoomEnabled={this.props.zoomEnabled && zoomEnabled}\n\t\t\tedgeClip\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ns-resize-cursor\" />;\n\t}\n}\n\nYAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"left\", \"right\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"left\", \"right\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\tyZoomWidth: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tzoomEnabled: PropTypes.bool,\n\tonContextMenu: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n};\n\nYAxis.defaultProps = {\n\tshowTicks: true,\n\tshowTickLabel: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-y-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tfill: \"none\",\n\tstroke: \"#FFFFFF\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\",\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfontWeight: 400,\n\tyZoomWidth: 40,\n\tzoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[1] - mouseXY[1],\n};\n\nYAxis.contextTypes = {\n\tyAxisZoom: PropTypes.func.isRequired,\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n};\n\nfunction helper(props, context) {\n\tconst { axisAt, yZoomWidth, orient } = props;\n\tconst { chartConfig: { width, height } } = context;\n\n\tlet axisLocation;\n\tconst y = 0, w = yZoomWidth, h = height;\n\n\tif (axisAt === \"left\") {\n\t\taxisLocation = 0;\n\t} else if (axisAt === \"right\") {\n\t\taxisLocation = width;\n\t} else if (axisAt === \"middle\") {\n\t\taxisLocation = (width) / 2;\n\t} else {\n\t\taxisLocation = axisAt;\n\t}\n\n\tconst x = (orient === \"left\") ? -yZoomWidth : 0;\n\n\treturn {\n\t\ttransform: [axisLocation, 0],\n\t\trange: [0, height],\n\t\tgetScale: getYScale,\n\t\tbg: { x, y, h, w },\n\t\tzoomEnabled: context.chartConfig.yPan,\n\t};\n}\n\nfunction getYScale(moreProps) {\n\tconst { yScale: scale, flipYScale, height } = moreProps.chartConfig;\n\tif (scale.invert) {\n\t\tconst trueRange = flipYScale ? [0, height] : [height, 0];\n\t\tconst trueDomain = trueRange.map(scale.invert);\n\t\treturn scale.copy()\n\t\t\t.domain(trueDomain)\n\t\t\t.range(trueRange);\n\t}\n\treturn scale;\n}\n\nexport default YAxis;\n"]},"metadata":{},"sourceType":"script"}