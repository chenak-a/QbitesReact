{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = function () {\n  var options = _defaultOptionsForComputation.SMA;\n\n  function calculator(data) {\n    var _options = options,\n        windowSize = _options.windowSize,\n        sourcePath = _options.sourcePath;\n    var average = (0, _utils.slidingWindow)().windowSize(windowSize).sourcePath(sourcePath).accumulator(function (values) {\n      return (0, _d3Array.mean)(values);\n    });\n    return average(data);\n  }\n\n  calculator.undefinedLength = function () {\n    var _options2 = options,\n        windowSize = _options2.windowSize;\n    return windowSize - 1;\n  };\n\n  calculator.options = function (x) {\n    if (!arguments.length) {\n      return options;\n    }\n\n    options = _extends({}, _defaultOptionsForComputation.SMA, x);\n    return calculator;\n  };\n\n  return calculator;\n};\n\nvar _d3Array = require(\"d3-array\");\n\nvar _utils = require(\"../utils\");\n\nvar _defaultOptionsForComputation = require(\"./defaultOptionsForComputation\");","map":{"version":3,"sources":["../../../src/lib/calculator/sma.js"],"names":["options","windowSize","sourcePath","average","calculator","arguments"],"mappings":";;;;;;;;;;;;;;;;;;;;kBAOe,YAAW;AAEzB,MAAIA,OAAAA,GAAAA,6BAAAA,CAAJ,GAAA;;AAEA,WAAA,UAAA,CAAA,IAAA,EAA0B;AAAA,QAAA,QAAA,GAAA,OAAA;AAAA,QACjBC,UADiB,GAAA,QAAA,CAAA,UAAA;AAAA,QACLC,UADK,GAAA,QAAA,CAAA,UAAA;AAGzB,QAAMC,OAAAA,GAAU,CAAA,GAAA,MAAA,CAAA,aAAA,IAAA,UAAA,CAAA,UAAA,EAAA,UAAA,CAAA,UAAA,EAAA,WAAA,CAGF,UAAA,MAAA,EAAA;AAAA,aAAU,CAAA,GAAA,QAAA,CAAA,IAAA,EAAV,MAAU,CAAV;AAHd,KAAgB,CAAhB;AAKA,WAAOA,OAAAA,CAAP,IAAOA,CAAP;AACA;;AACDC,EAAAA,UAAAA,CAAAA,eAAAA,GAA6B,YAAW;AAAA,QAAA,SAAA,GAAA,OAAA;AAAA,QAC/BH,UAD+B,GAAA,SAAA,CAAA,UAAA;AAEvC,WAAOA,UAAAA,GAAP,CAAA;AAFDG,GAAAA;;AAIAA,EAAAA,UAAAA,CAAAA,OAAAA,GAAqB,UAAA,CAAA,EAAY;AAChC,QAAI,CAACC,SAAAA,CAAL,MAAA,EAAuB;AACtB,aAAA,OAAA;AACA;;AACDL,IAAAA,OAAAA,GAAAA,QAAAA,CAAAA,EAAAA,EAAAA,6BAAAA,CAAAA,GAAAA,EAAAA,CAAAA,CAAAA;AACA,WAAA,UAAA;AALDI,GAAAA;;AAQA,SAAA,UAAA;;;AA/BD,IAAA,QAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AACA,IAAA,6BAAA,GAAA,OAAA,CAAA,gCAAA,CAAA","sourcesContent":["\n\nimport { mean } from \"d3-array\";\n\nimport { slidingWindow } from \"../utils\";\nimport { SMA as defaultOptions } from \"./defaultOptionsForComputation\";\n\nexport default function() {\n\n\tlet options = defaultOptions;\n\n\tfunction calculator(data) {\n\t\tconst { windowSize, sourcePath } = options;\n\n\t\tconst average = slidingWindow()\n\t\t\t.windowSize(windowSize)\n\t\t\t.sourcePath(sourcePath)\n\t\t\t.accumulator(values => mean(values));\n\n\t\treturn average(data);\n\t}\n\tcalculator.undefinedLength = function() {\n\t\tconst { windowSize } = options;\n\t\treturn windowSize - 1;\n\t};\n\tcalculator.options = function(x) {\n\t\tif (!arguments.length) {\n\t\t\treturn options;\n\t\t}\n\t\toptions = { ...defaultOptions, ...x };\n\t\treturn calculator;\n\t};\n\n\treturn calculator;\n}\n"]},"metadata":{},"sourceType":"script"}