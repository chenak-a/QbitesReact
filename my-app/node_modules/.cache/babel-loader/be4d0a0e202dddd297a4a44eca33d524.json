{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.getYCoordinate = getYCoordinate;\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _EdgeCoordinateV = require(\"./EdgeCoordinateV3\");\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar MouseCoordinateY = function (_Component) {\n  _inherits(MouseCoordinateY, _Component);\n\n  function MouseCoordinateY(props) {\n    _classCallCheck(this, MouseCoordinateY);\n\n    var _this = _possibleConstructorReturn(this, (MouseCoordinateY.__proto__ || Object.getPrototypeOf(MouseCoordinateY)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n\n  _createClass(MouseCoordinateY, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var props = helper(this.props, moreProps);\n      if ((0, _utils.isNotDefined)(props)) return null;\n      (0, _EdgeCoordinateV.drawOnCanvas)(ctx, props);\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var props = helper(this.props, moreProps);\n      if ((0, _utils.isNotDefined)(props)) return null;\n      return (0, _EdgeCoordinateV.renderSVG)(props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        clip: false,\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\", \"drag\"]\n      });\n    }\n  }]);\n\n  return MouseCoordinateY;\n}(_react.Component);\n\nMouseCoordinateY.propTypes = {\n  displayFormat: _propTypes2.default.func.isRequired,\n  yAxisPad: _propTypes2.default.number,\n  rectWidth: _propTypes2.default.number,\n  rectHeight: _propTypes2.default.number,\n  orient: _propTypes2.default.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n  at: _propTypes2.default.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n  dx: _propTypes2.default.number,\n  fill: _propTypes2.default.string,\n  opacity: _propTypes2.default.number,\n  fontFamily: _propTypes2.default.string,\n  fontSize: _propTypes2.default.number,\n  textFill: _propTypes2.default.string\n};\nMouseCoordinateY.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 50,\n  rectHeight: 20,\n  orient: \"left\",\n  at: \"left\",\n  dx: 0,\n  arrowWidth: 10,\n  fill: \"#525252\",\n  opacity: 1,\n  fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n  fontSize: 13,\n  textFill: \"#FFFFFF\",\n  // stroke: \"#684F1D\",\n  strokeOpacity: 1,\n  strokeWidth: 1\n};\n\nfunction helper(props, moreProps) {\n  var chartId = moreProps.chartId;\n  var currentCharts = moreProps.currentCharts,\n      mouseXY = moreProps.mouseXY;\n  if ((0, _utils.isNotDefined)(mouseXY)) return null;\n  if (currentCharts.indexOf(chartId) < 0) return null;\n  var show = moreProps.show;\n  if (!show) return null;\n  var y = mouseXY[1];\n  var yScale = moreProps.chartConfig.yScale;\n  var displayFormat = props.displayFormat;\n  var coordinate = displayFormat(yScale.invert(y));\n  return getYCoordinate(y, coordinate, props, moreProps);\n}\n\nfunction getYCoordinate(y, displayValue, props, moreProps) {\n  var width = moreProps.width;\n  var orient = props.orient,\n      at = props.at,\n      rectWidth = props.rectWidth,\n      rectHeight = props.rectHeight,\n      dx = props.dx;\n  var fill = props.fill,\n      opacity = props.opacity,\n      fontFamily = props.fontFamily,\n      fontSize = props.fontSize,\n      textFill = props.textFill,\n      arrowWidth = props.arrowWidth;\n  var stroke = props.stroke,\n      strokeOpacity = props.strokeOpacity,\n      strokeWidth = props.strokeWidth;\n  var x1 = 0,\n      x2 = width;\n  var edgeAt = at === \"right\" ? width : 0;\n  var type = \"horizontal\";\n  var hideLine = true;\n  var coordinateProps = {\n    coordinate: displayValue,\n    show: true,\n    type: type,\n    orient: orient,\n    edgeAt: edgeAt,\n    hideLine: hideLine,\n    fill: fill,\n    opacity: opacity,\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    textFill: textFill,\n    stroke: stroke,\n    strokeOpacity: strokeOpacity,\n    strokeWidth: strokeWidth,\n    rectWidth: rectWidth,\n    rectHeight: rectHeight,\n    arrowWidth: arrowWidth,\n    dx: dx,\n    x1: x1,\n    x2: x2,\n    y1: y,\n    y2: y\n  };\n  return coordinateProps;\n}\n\nexports.default = MouseCoordinateY;","map":{"version":3,"mappings":"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","names":["getYCoordinate","MouseCoordinateY","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","_react2","clip","svgDraw","canvasDraw","canvasToDraw","drawOn","propTypes","displayFormat","_propTypes2","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","dx","fill","string","opacity","fontFamily","fontSize","textFill","defaultProps","arrowWidth","strokeOpacity","strokeWidth","chartId","currentCharts","mouseXY","indexOf","show","y","yScale","chartConfig","coordinate","invert","displayValue","width","stroke","x1","x2","edgeAt","type","hideLine","coordinateProps","y1","y2"],"sources":["../../../src/lib/coordinates/MouseCoordinateY.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nimport { isNotDefined } from \"../utils\";\n\nclass MouseCoordinateY extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tif (isNotDefined(props)) return null;\n\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\n\t\t/>;\n\t}\n}\n\nMouseCoordinateY.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n\tyAxisPad: PropTypes.number,\n\trectWidth: PropTypes.number,\n\trectHeight: PropTypes.number,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tdx: PropTypes.number,\n\tfill: PropTypes.string,\n\topacity: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\ttextFill: PropTypes.string,\n};\n\nMouseCoordinateY.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tdx: 0,\n\tarrowWidth: 10,\n\tfill: \"#525252\",\n\topacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\n\t// stroke: \"#684F1D\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 1,\n};\n\nfunction helper(props, moreProps) {\n\tconst { chartId } = moreProps;\n\tconst { currentCharts, mouseXY } = moreProps;\n\n\tif (isNotDefined(mouseXY)) return null;\n\tif (currentCharts.indexOf(chartId) < 0) return null;\n\n\tconst { show } = moreProps;\n\tif (!show) return null;\n\n\tconst y = mouseXY[1];\n\tconst { chartConfig: { yScale } } = moreProps;\n\tconst { displayFormat } = props;\n\n\tconst coordinate = displayFormat(yScale.invert(y));\n\n\treturn getYCoordinate(y, coordinate, props, moreProps);\n}\n\nexport function getYCoordinate(y, displayValue, props, moreProps) {\n\tconst { width } = moreProps;\n\n\tconst { orient, at, rectWidth, rectHeight, dx } = props;\n\tconst { fill, opacity, fontFamily, fontSize, textFill, arrowWidth } = props;\n\tconst { stroke, strokeOpacity, strokeWidth } = props;\n\n\tconst x1 = 0, x2 = width;\n\tconst edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tconst type = \"horizontal\";\n\tconst hideLine = true;\n\n\tconst coordinateProps = {\n\t\tcoordinate: displayValue,\n\t\tshow: true,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tfill,\n\t\topacity,\n\n\t\tfontFamily,\n\t\tfontSize,\n\t\ttextFill,\n\n\t\tstroke,\n\t\tstrokeOpacity,\n\t\tstrokeWidth,\n\n\t\trectWidth,\n\t\trectHeight,\n\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\nexport default MouseCoordinateY;\n"]},"metadata":{},"sourceType":"script"}