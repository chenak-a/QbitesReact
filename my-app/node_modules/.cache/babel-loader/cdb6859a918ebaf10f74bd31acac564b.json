{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar propTypes = {\n  xPosition: _propTypes2.default.func,\n  drawCoordinate: _propTypes2.default.func,\n  displayFormat: _propTypes2.default.func.isRequired,\n  at: _propTypes2.default.oneOf([\"bottom\", \"top\"]),\n  orient: _propTypes2.default.oneOf([\"bottom\", \"top\"]),\n  text: _propTypes2.default.shape({\n    fontStyle: _propTypes2.default.string,\n    fontWeight: _propTypes2.default.string,\n    fontFamily: _propTypes2.default.string,\n    fontSize: _propTypes2.default.number,\n    fill: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string])\n  }),\n  bg: _propTypes2.default.shape({\n    fill: _propTypes2.default.oneOfType([_propTypes2.default.func, _propTypes2.default.string]),\n    stroke: _propTypes2.default.string,\n    strokeWidth: _propTypes2.default.number,\n    padding: _propTypes2.default.shape({\n      left: _propTypes2.default.number,\n      right: _propTypes2.default.number,\n      top: _propTypes2.default.number,\n      bottom: _propTypes2.default.number\n    })\n  }),\n  dx: _propTypes2.default.number,\n  dy: _propTypes2.default.number\n};\nvar defaultProps = {\n  xPosition: xPosition,\n  drawCoordinate: drawCoordinate,\n  at: \"bottom\",\n  orient: \"bottom\",\n  text: {\n    fontStyle: \"\",\n    fontWeight: \"\",\n    fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n    fontSize: 13,\n    fill: \"rgb(35, 35, 35)\"\n  },\n  bg: {\n    fill: \"rgb(255, 255, 255)\",\n    stroke: \"rgb(35, 35, 35)\",\n    strokeWidth: 1,\n    padding: {\n      left: 7,\n      right: 7,\n      top: 4,\n      bottom: 4\n    }\n  },\n  dx: 7,\n  dy: 7\n};\n\nvar MouseCoordinateXV2 = function (_Component) {\n  _inherits(MouseCoordinateXV2, _Component);\n\n  function MouseCoordinateXV2(props) {\n    _classCallCheck(this, MouseCoordinateXV2);\n\n    var _this = _possibleConstructorReturn(this, (MouseCoordinateXV2.__proto__ || Object.getPrototypeOf(MouseCoordinateXV2)).call(this, props));\n\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n\n  _createClass(MouseCoordinateXV2, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var show = moreProps.show,\n          currentItem = moreProps.currentItem;\n      var drawCoordinate = this.props.drawCoordinate;\n\n      if (show && currentItem != null) {\n        var shape = getXCoordinateInfo(ctx, this.props, moreProps);\n        drawCoordinate(ctx, shape, this.props, moreProps);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        clip: false,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\", \"drag\"]\n      });\n    }\n  }]);\n\n  return MouseCoordinateXV2;\n}(_react.Component);\n\nMouseCoordinateXV2.defaultProps = defaultProps;\nMouseCoordinateXV2.propTypes = propTypes;\n\nfunction xPosition(props, moreProps) {\n  var currentItem = moreProps.currentItem,\n      xAccessor = moreProps.xAccessor;\n  return xAccessor(currentItem);\n}\n\nfunction getXCoordinateInfo(ctx, props, moreProps) {\n  var xPosition = props.xPosition;\n  var xValue = xPosition(props, moreProps);\n  var at = props.at,\n      displayFormat = props.displayFormat;\n  var text = props.text;\n  var xScale = moreProps.xScale,\n      height = moreProps.chartConfig.height;\n  ctx.font = text.fontStyle + \" \" + text.fontWeight + \" \" + text.fontSize + \"px \" + text.fontFamily;\n  var t = displayFormat(xValue);\n  var textWidth = ctx.measureText(t).width;\n  var y = at === \"bottom\" ? height : 0;\n  var x = Math.round(xScale(xValue));\n  return {\n    x: x,\n    y: y,\n    textWidth: textWidth,\n    text: t\n  };\n}\n\nfunction drawCoordinate(ctx, shape, props, moreProps) {\n  var x = shape.x,\n      y = shape.y,\n      textWidth = shape.textWidth,\n      text = shape.text;\n  var orient = props.orient,\n      dx = props.dx,\n      dy = props.dy;\n  var _props$bg = props.bg,\n      padding = _props$bg.padding,\n      fill = _props$bg.fill,\n      stroke = _props$bg.stroke,\n      strokeWidth = _props$bg.strokeWidth,\n      _props$text = props.text,\n      fontSize = _props$text.fontSize,\n      textFill = _props$text.fill;\n  ctx.textAlign = \"center\";\n  var sign = orient === \"top\" ? -1 : 1;\n  var halfWidth = Math.round(textWidth / 2 + padding.right);\n  var height = Math.round(fontSize + padding.top + padding.bottom);\n  ctx.strokeStyle = typeof stroke === \"function\" ? stroke(moreProps, ctx) : stroke;\n  ctx.fillStyle = typeof fill === \"function\" ? fill(moreProps, ctx) : fill;\n  ctx.lineWidth = typeof strokeWidth === \"function\" ? strokeWidth(moreProps) : strokeWidth;\n  ctx.beginPath();\n  ctx.moveTo(x, y);\n  ctx.lineTo(x + dx, y + sign * dy);\n  ctx.lineTo(x + halfWidth, y + sign * dy);\n  ctx.lineTo(x + halfWidth, y + sign * (dy + height));\n  ctx.lineTo(x - halfWidth, y + sign * (dy + height));\n  ctx.lineTo(x - halfWidth, y + sign * dy);\n  ctx.lineTo(x - dx, y + sign * dy);\n  ctx.closePath();\n  ctx.stroke();\n  ctx.fill();\n  ctx.beginPath();\n  ctx.fillStyle = typeof textFill === \"function\" ? textFill(moreProps, ctx) : textFill;\n  ctx.textBaseline = orient === \"top\" ? \"alphabetic\" : \"hanging\";\n  var pad = orient === \"top\" ? padding.bottom : padding.top;\n  ctx.fillText(text, x, y + sign * (dy + pad + 2));\n}\n\nexports.default = MouseCoordinateXV2;","map":{"version":3,"mappings":"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","names":["propTypes","xPosition","_propTypes2","func","drawCoordinate","displayFormat","isRequired","at","oneOf","orient","text","shape","fontStyle","string","fontWeight","fontFamily","fontSize","number","fill","oneOfType","bg","stroke","strokeWidth","padding","left","right","top","bottom","dx","dy","defaultProps","MouseCoordinateXV2","props","_classCallCheck","_this","drawOnCanvas","bind","ctx","moreProps","show","currentItem","getXCoordinateInfo","_react2","clip","canvasDraw","canvasToDraw","drawOn","xAccessor","xValue","xScale","height","chartConfig","font","t","textWidth","measureText","width","y","x","Math","round","textFill","textAlign","sign","halfWidth","strokeStyle","fillStyle","lineWidth","beginPath","moveTo","lineTo","closePath","textBaseline","pad","fillText"],"sources":["../../../src/lib/coordinates/MouseCoordinateXV2.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\n\nconst propTypes = {\n\txPosition: PropTypes.func,\n\tdrawCoordinate: PropTypes.func,\n\tdisplayFormat: PropTypes.func.isRequired,\n\tat: PropTypes.oneOf([\"bottom\", \"top\"]),\n\torient: PropTypes.oneOf([\"bottom\", \"top\"]),\n\ttext: PropTypes.shape({\n\t\tfontStyle: PropTypes.string,\n\t\tfontWeight: PropTypes.string,\n\t\tfontFamily: PropTypes.string,\n\t\tfontSize: PropTypes.number,\n\t\tfill: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\t}),\n\tbg: PropTypes.shape({\n\t\tfill: PropTypes.oneOfType([PropTypes.func, PropTypes.string]),\n\t\tstroke: PropTypes.string,\n\t\tstrokeWidth: PropTypes.number,\n\t\tpadding: PropTypes.shape({\n\t\t\tleft: PropTypes.number,\n\t\t\tright: PropTypes.number,\n\t\t\ttop: PropTypes.number,\n\t\t\tbottom: PropTypes.number\n\t\t}),\n\t}),\n\tdx: PropTypes.number,\n\tdy: PropTypes.number\n};\n\nconst defaultProps = {\n\txPosition,\n\tdrawCoordinate,\n\tat: \"bottom\",\n\torient: \"bottom\",\n\n\ttext: {\n\t\tfontStyle: \"\",\n\t\tfontWeight: \"\",\n\t\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\t\tfontSize: 13,\n\t\tfill: \"rgb(35, 35, 35)\"\n\t},\n\tbg: {\n\t\tfill: \"rgb(255, 255, 255)\",\n\t\tstroke: \"rgb(35, 35, 35)\",\n\t\tstrokeWidth: 1,\n\t\tpadding: {\n\t\t\tleft: 7,\n\t\t\tright: 7,\n\t\t\ttop: 4,\n\t\t\tbottom: 4\n\t\t}\n\t},\n\tdx: 7,\n\tdy: 7\n};\n\nclass MouseCoordinateXV2 extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst { show, currentItem } = moreProps;\n\t\tconst { drawCoordinate } = this.props;\n\n\t\tif (show && currentItem != null) {\n\t\t\tconst shape = getXCoordinateInfo(ctx, this.props, moreProps);\n\t\t\tdrawCoordinate(ctx, shape, this.props, moreProps);\n\t\t}\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<GenericChartComponent\n\t\t\t\tclip={false}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\t\tdrawOn={[\"mousemove\", \"pan\", \"drag\"]}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nMouseCoordinateXV2.defaultProps = defaultProps;\nMouseCoordinateXV2.propTypes = propTypes;\n\n\nfunction xPosition(props, moreProps) {\n\tconst { currentItem, xAccessor } = moreProps;\n\treturn xAccessor(currentItem);\n}\nfunction getXCoordinateInfo(ctx, props, moreProps) {\n\tconst { xPosition } = props;\n\tconst xValue = xPosition(props, moreProps);\n\tconst { at, displayFormat } = props;\n\tconst { text } = props;\n\tconst { xScale, chartConfig: { height } } = moreProps;\n\tctx.font = `${text.fontStyle} ${text.fontWeight} ${text.fontSize}px ${text.fontFamily}`;\n\n\tconst t = displayFormat(xValue);\n\tconst textWidth = ctx.measureText(t).width;\n\n\tconst y = at === \"bottom\" ? height : 0;\n\tconst x = Math.round(xScale(xValue));\n\n\treturn {\n\t\tx,\n\t\ty,\n\t\ttextWidth,\n\t\ttext: t\n\t};\n}\n\nfunction drawCoordinate(\n\tctx,\n\tshape,\n\tprops,\n\tmoreProps\n) {\n\tconst { x, y, textWidth, text } = shape;\n\tconst { orient, dx, dy } = props;\n\n\tconst {\n\t\tbg: { padding, fill, stroke, strokeWidth },\n\t\ttext: { fontSize, fill: textFill }\n\t} = props;\n\n\tctx.textAlign = \"center\";\n\n\tconst sign = orient === \"top\" ? -1 : 1;\n\tconst halfWidth = Math.round(textWidth / 2 + padding.right);\n\tconst height = Math.round(fontSize + padding.top + padding.bottom);\n\n\tctx.strokeStyle = typeof stroke === \"function\" ? stroke(moreProps, ctx) : stroke;\n\tctx.fillStyle = typeof fill === \"function\" ? fill(moreProps, ctx) : fill;\n\tctx.lineWidth = typeof strokeWidth === \"function\" ? strokeWidth(moreProps) : strokeWidth;\n\n\tctx.beginPath();\n\n\tctx.moveTo(x, y);\n\tctx.lineTo(x + dx, y + sign * dy);\n\tctx.lineTo(x + halfWidth, y + sign * dy);\n\tctx.lineTo(x + halfWidth, y + sign * (dy + height));\n\tctx.lineTo(x - halfWidth, y + sign * (dy + height));\n\tctx.lineTo(x - halfWidth, y + sign * dy);\n\tctx.lineTo(x - dx, y + sign * dy);\n\tctx.closePath();\n\tctx.stroke();\n\tctx.fill();\n\n\tctx.beginPath();\n\tctx.fillStyle = typeof textFill === \"function\" ? textFill(moreProps, ctx) : textFill;\n\n\tctx.textBaseline = orient === \"top\" ? \"alphabetic\" : \"hanging\";\n\tconst pad = orient === \"top\" ? padding.bottom : padding.top;\n\n\tctx.fillText(text, x, y + sign * (dy + pad + 2));\n}\n\nexport default MouseCoordinateXV2;"]},"metadata":{},"sourceType":"script"}