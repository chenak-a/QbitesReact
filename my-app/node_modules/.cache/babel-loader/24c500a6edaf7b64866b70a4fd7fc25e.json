{"ast":null,"code":"var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\"; // import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\nimport { last, noop } from \"./utils\";\n\nvar ZoomButtons = function (_Component) {\n  _inherits(ZoomButtons, _Component);\n\n  function ZoomButtons(props) {\n    _classCallCheck(this, ZoomButtons);\n\n    var _this = _possibleConstructorReturn(this, (ZoomButtons.__proto__ || Object.getPrototypeOf(ZoomButtons)).call(this, props));\n\n    _this.handleZoomOut = _this.handleZoomOut.bind(_this);\n    _this.handleZoomIn = _this.handleZoomIn.bind(_this);\n    _this.zoom = _this.zoom.bind(_this);\n    return _this;\n  }\n\n  _createClass(ZoomButtons, [{\n    key: \"zoom\",\n    value: function zoom(direction) {\n      var _this2 = this;\n\n      var _context = this.context,\n          xAxisZoom = _context.xAxisZoom,\n          xScale = _context.xScale,\n          plotData = _context.plotData,\n          xAccessor = _context.xAccessor;\n      var cx = xScale(xAccessor(last(plotData))); // mean(xScale.range());\n\n      var zoomMultiplier = this.props.zoomMultiplier;\n      var c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\n      var _xScale$domain = xScale.domain(),\n          _xScale$domain2 = _slicedToArray(_xScale$domain, 2),\n          start = _xScale$domain2[0],\n          end = _xScale$domain2[1];\n\n      var _xScale$range$map$map = xScale.range().map(function (x) {\n        return cx + (x - cx) * c;\n      }).map(xScale.invert),\n          _xScale$range$map$map2 = _slicedToArray(_xScale$range$map$map, 2),\n          newStart = _xScale$range$map$map2[0],\n          newEnd = _xScale$range$map$map2[1];\n\n      var left = interpolateNumber(start, newStart);\n      var right = interpolateNumber(end, newEnd);\n      var foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(function (i) {\n        return [left(i), right(i)];\n      });\n      this.interval = setInterval(function () {\n        xAxisZoom(foo.shift());\n\n        if (foo.length === 0) {\n          clearInterval(_this2.interval);\n          delete _this2.interval;\n        }\n      }, 10);\n    }\n  }, {\n    key: \"handleZoomOut\",\n    value: function handleZoomOut() {\n      if (this.interval) return;\n      this.zoom(1);\n    }\n  }, {\n    key: \"handleZoomIn\",\n    value: function handleZoomIn() {\n      if (this.interval) return;\n      this.zoom(-1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var chartConfig = this.context.chartConfig;\n      var width = chartConfig.width,\n          height = chartConfig.height;\n      var _props = this.props,\n          size = _props.size,\n          heightFromBase = _props.heightFromBase,\n          rx = _props.rx,\n          ry = _props.ry;\n      var _props2 = this.props,\n          stroke = _props2.stroke,\n          strokeOpacity = _props2.strokeOpacity,\n          fill = _props2.fill,\n          strokeWidth = _props2.strokeWidth,\n          fillOpacity = _props2.fillOpacity;\n      var _props3 = this.props,\n          textFill = _props3.textFill,\n          textStrokeWidth = _props3.textStrokeWidth;\n      var onReset = this.props.onReset;\n      var centerX = Math.round(width / 2);\n      var y = height - heightFromBase;\n\n      var _size = _slicedToArray(size, 2),\n          w = _size[0],\n          h = _size[1];\n\n      var hLength = 5;\n      var wLength = 6;\n      var textY = Math.round(y + h / 2);\n      var resetX = centerX;\n      var zoomOut = d3Path();\n      var zoomOutX = centerX - w - 2 * strokeWidth;\n      zoomOut.moveTo(zoomOutX - wLength, textY);\n      zoomOut.lineTo(zoomOutX + wLength, textY);\n      zoomOut.closePath();\n      var zoomIn = d3Path();\n      var zoomInX = centerX + w + 2 * strokeWidth;\n      zoomIn.moveTo(zoomInX - wLength, textY);\n      zoomIn.lineTo(zoomInX + wLength, textY);\n      zoomIn.moveTo(zoomInX, textY - hLength);\n      zoomIn.lineTo(zoomInX, textY + hLength); // zoomIn.closePath();\n\n      return React.createElement(\"g\", {\n        className: \"react-stockcharts-zoom-button\"\n      }, React.createElement(\"rect\", {\n        x: zoomOutX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"path\", {\n        d: zoomOut.toString(),\n        stroke: textFill,\n        strokeWidth: textStrokeWidth\n      }), React.createElement(\"rect\", {\n        x: resetX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"g\", {\n        transform: \"translate (\" + resetX + \", \" + (y + h / 4) + \") scale(.14)\"\n      }, React.createElement(\"path\", {\n        d: \"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\",\n        fill: textFill\n      })), React.createElement(\"rect\", {\n        x: zoomInX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"path\", {\n        d: zoomIn.toString(),\n        stroke: textFill,\n        strokeWidth: textStrokeWidth\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction out\",\n        onClick: this.handleZoomOut,\n        x: zoomOutX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction reset\",\n        onClick: onReset,\n        x: resetX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction in\",\n        onClick: this.handleZoomIn,\n        x: zoomInX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }));\n    }\n  }]);\n\n  return ZoomButtons;\n}(Component);\n\nZoomButtons.propTypes = {\n  zoomMultiplier: PropTypes.number.isRequired,\n  size: PropTypes.array.isRequired,\n  heightFromBase: PropTypes.number.isRequired,\n  rx: PropTypes.number.isRequired,\n  ry: PropTypes.number.isRequired,\n  stroke: PropTypes.string.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n  strokeOpacity: PropTypes.number.isRequired,\n  fill: PropTypes.string.isRequired,\n  fillOpacity: PropTypes.number.isRequired,\n  fontSize: PropTypes.number.isRequired,\n  textDy: PropTypes.string.isRequired,\n  textFill: PropTypes.string.isRequired,\n  textStrokeWidth: PropTypes.number.isRequired,\n  onReset: PropTypes.func\n};\nZoomButtons.defaultProps = {\n  size: [30, 24],\n  heightFromBase: 50,\n  rx: 3,\n  ry: 3,\n  stroke: \"#000000\",\n  strokeOpacity: 0.3,\n  strokeWidth: 1,\n  fill: \"#D6D6D6\",\n  fillOpacity: 0.4,\n  fontSize: 16,\n  textDy: \".3em\",\n  textFill: \"#000000\",\n  textStrokeWidth: 2,\n  zoomMultiplier: 1.5,\n  onReset: noop\n};\nZoomButtons.contextTypes = {\n  xScale: PropTypes.func.isRequired,\n  chartConfig: PropTypes.object.isRequired,\n  plotData: PropTypes.array.isRequired,\n  xAccessor: PropTypes.func.isRequired,\n  xAxisZoom: PropTypes.func.isRequired\n};\nexport default ZoomButtons;","map":{"version":3,"mappings":"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","names":["React","Component","PropTypes","path","d3Path","interpolateNumber","last","noop","ZoomButtons","props","_classCallCheck","_this","handleZoomOut","bind","handleZoomIn","zoom","direction","context","xAxisZoom","xScale","plotData","xAccessor","cx","zoomMultiplier","c","domain","start","end","range","map","x","invert","newStart","newEnd","left","right","foo","i","interval","setInterval","shift","length","clearInterval","_this2","chartConfig","width","height","size","heightFromBase","rx","ry","stroke","strokeOpacity","fill","strokeWidth","fillOpacity","textFill","textStrokeWidth","onReset","centerX","Math","round","y","w","h","hLength","wLength","textY","resetX","zoomOut","zoomOutX","moveTo","lineTo","closePath","zoomIn","zoomInX","className","d","toString","transform","onClick","propTypes","number","isRequired","array","string","fontSize","textDy","func","defaultProps","contextTypes","object"],"sources":["../../../src/lib/ZoomButtons.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n// import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\n\nimport { last, noop } from \"./utils\";\n\nclass ZoomButtons extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleZoomOut = this.handleZoomOut.bind(this);\n\t\tthis.handleZoomIn = this.handleZoomIn.bind(this);\n\t\tthis.zoom = this.zoom.bind(this);\n\t}\n\tzoom(direction) {\n\t\tconst { xAxisZoom, xScale, plotData, xAccessor } = this.context;\n\t\tconst cx = xScale(xAccessor(last(plotData)));\n\t\t// mean(xScale.range());\n\t\tconst { zoomMultiplier } = this.props;\n\n\t\tconst c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\n\t\tconst [start, end] = xScale.domain();\n\t\tconst [newStart, newEnd] = xScale.range()\n\t\t\t.map(x => cx + (x - cx) * c)\n\t\t\t.map(xScale.invert);\n\n\t\tconst left = interpolateNumber(start, newStart);\n\t\tconst right = interpolateNumber(end, newEnd);\n\n\t\tconst foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(i => {\n\t\t\treturn [left(i), right(i)];\n\t\t});\n\n\t\tthis.interval = setInterval(() => {\n\t\t\txAxisZoom(foo.shift());\n\t\t\tif (foo.length === 0) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tdelete this.interval;\n\t\t\t}\n\t\t}, 10);\n\t}\n\thandleZoomOut() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(1);\n\t}\n\thandleZoomIn() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(-1);\n\t}\n\trender() {\n\t\tconst { chartConfig } = this.context;\n\t\tconst { width, height } = chartConfig;\n\t\tconst { size, heightFromBase, rx, ry } = this.props;\n\t\tconst { stroke, strokeOpacity, fill, strokeWidth, fillOpacity } = this.props;\n\t\tconst { textFill, textStrokeWidth } = this.props;\n\t\tconst { onReset } = this.props;\n\t\tconst centerX = Math.round(width / 2);\n\t\tconst y = height - heightFromBase;\n\n\t\tconst [w, h] = size;\n\t\tconst hLength = 5;\n\t\tconst wLength = 6;\n\n\t\tconst textY = Math.round(y + h / 2);\n\n\t\tconst resetX = centerX;\n\n\t\tconst zoomOut = d3Path();\n\t\tconst zoomOutX = centerX - w - 2 * strokeWidth;\n\t\tzoomOut.moveTo(zoomOutX - wLength, textY);\n\t\tzoomOut.lineTo(zoomOutX + wLength, textY);\n\t\tzoomOut.closePath();\n\n\t\tconst zoomIn = d3Path();\n\t\tconst zoomInX = centerX + w + 2 * strokeWidth;\n\n\t\tzoomIn.moveTo(zoomInX - wLength, textY);\n\t\tzoomIn.lineTo(zoomInX + wLength, textY);\n\n\t\tzoomIn.moveTo(zoomInX, textY - hLength);\n\t\tzoomIn.lineTo(zoomInX, textY + hLength);\n\t\t// zoomIn.closePath();\n\n\t\treturn (\n\t\t\t<g className=\"react-stockcharts-zoom-button\">\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomOut.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<g transform={`translate (${resetX}, ${y + h / 4}) scale(.14)`}>\n\t\t\t\t\t<path d=\"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\"\n\t\t\t\t\t\tfill={textFill}\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomIn.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction out\"\n\t\t\t\t\tonClick={this.handleZoomOut}\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction reset\"\n\t\t\t\t\tonClick={onReset}\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction in\"\n\t\t\t\t\tonClick={this.handleZoomIn}\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nZoomButtons.propTypes = {\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tsize: PropTypes.array.isRequired,\n\theightFromBase: PropTypes.number.isRequired,\n\trx: PropTypes.number.isRequired,\n\try: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\ttextDy: PropTypes.string.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\ttextStrokeWidth: PropTypes.number.isRequired,\n\tonReset: PropTypes.func,\n};\n\nZoomButtons.defaultProps = {\n\tsize: [30, 24],\n\theightFromBase: 50,\n\trx: 3,\n\try: 3,\n\tstroke: \"#000000\",\n\tstrokeOpacity: 0.3,\n\tstrokeWidth: 1,\n\tfill: \"#D6D6D6\",\n\tfillOpacity: 0.4,\n\tfontSize: 16,\n\ttextDy: \".3em\",\n\ttextFill: \"#000000\",\n\ttextStrokeWidth: 2,\n\tzoomMultiplier: 1.5,\n\tonReset: noop,\n};\n\nZoomButtons.contextTypes = {\n\txScale: PropTypes.func.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nexport default ZoomButtons;\n"]},"metadata":{},"sourceType":"module"}