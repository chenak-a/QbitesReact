{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _EdgeCoordinateV = require(\"./EdgeCoordinateV3\");\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar PriceCoordinate = function (_Component) {\n  _inherits(PriceCoordinate, _Component);\n\n  function PriceCoordinate(props) {\n    _classCallCheck(this, PriceCoordinate);\n\n    var _this = _possibleConstructorReturn(this, (PriceCoordinate.__proto__ || Object.getPrototypeOf(PriceCoordinate)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n\n  _createClass(PriceCoordinate, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var props = helper(this.props, moreProps);\n      (0, _EdgeCoordinateV.drawOnCanvas)(ctx, props);\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var props = helper(this.props, moreProps);\n      return (0, _EdgeCoordinateV.renderSVG)(props);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        clip: false,\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getAxisCanvas,\n        drawOn: [\"pan\"]\n      });\n    }\n  }]);\n\n  return PriceCoordinate;\n}(_react.Component);\n\nPriceCoordinate.propTypes = {\n  displayFormat: _propTypes2.default.func.isRequired,\n  yAxisPad: _propTypes2.default.number,\n  rectWidth: _propTypes2.default.number,\n  rectHeight: _propTypes2.default.number,\n  orient: _propTypes2.default.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n  at: _propTypes2.default.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n  price: _propTypes2.default.number,\n  dx: _propTypes2.default.number,\n  arrowWidth: _propTypes2.default.number,\n  opacity: _propTypes2.default.number,\n  lineOpacity: _propTypes2.default.number,\n  lineStroke: _propTypes2.default.string,\n  fontFamily: _propTypes2.default.string,\n  fontSize: _propTypes2.default.number,\n  fill: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func]),\n  strokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes),\n  stroke: _propTypes2.default.string,\n  strokeOpacity: _propTypes2.default.number,\n  strokeWidth: _propTypes2.default.number,\n  textFill: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.func])\n};\nPriceCoordinate.defaultProps = {\n  yAxisPad: 0,\n  rectWidth: 50,\n  rectHeight: 20,\n  orient: \"left\",\n  at: \"left\",\n  price: 0,\n  dx: 0,\n  arrowWidth: 0,\n  fill: \"#BAB8b8\",\n  opacity: 1,\n  lineOpacity: 0.2,\n  lineStroke: \"#000000\",\n  fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n  fontSize: 13,\n  textFill: \"#FFFFFF\",\n  strokeOpacity: 1,\n  strokeWidth: 1,\n  strokeDasharray: \"Solid\"\n};\n\nfunction helper(props, moreProps) {\n  var width = moreProps.width;\n  var yScale = moreProps.chartConfig.yScale;\n\n  var _yScale$domain = yScale.domain(),\n      _yScale$domain2 = _slicedToArray(_yScale$domain, 2),\n      lowerYValue = _yScale$domain2[0],\n      upperYValue = _yScale$domain2[1];\n\n  var price = props.price,\n      stroke = props.stroke,\n      strokeDasharray = props.strokeDasharray,\n      strokeOpacity = props.strokeOpacity,\n      strokeWidth = props.strokeWidth;\n  var orient = props.orient,\n      at = props.at,\n      rectWidth = props.rectWidth,\n      rectHeight = props.rectHeight,\n      displayFormat = props.displayFormat,\n      dx = props.dx;\n  var fill = props.fill,\n      opacity = props.opacity,\n      fontFamily = props.fontFamily,\n      fontSize = props.fontSize,\n      textFill = props.textFill,\n      arrowWidth = props.arrowWidth,\n      lineOpacity = props.lineOpacity,\n      lineStroke = props.lineStroke;\n  var x1 = 0,\n      x2 = width;\n  var edgeAt = at === \"right\" ? width : 0;\n  var type = \"horizontal\";\n  var y = yScale(price);\n  var show = price <= upperYValue && price >= lowerYValue;\n  var coordinate = displayFormat(yScale.invert(y));\n  var hideLine = false;\n  var coordinateProps = {\n    coordinate: coordinate,\n    show: show,\n    type: type,\n    orient: orient,\n    edgeAt: edgeAt,\n    hideLine: hideLine,\n    lineOpacity: lineOpacity,\n    lineStroke: lineStroke,\n    lineStrokeDasharray: strokeDasharray,\n    stroke: stroke,\n    strokeOpacity: strokeOpacity,\n    strokeWidth: strokeWidth,\n    fill: (0, _utils.functor)(fill)(price),\n    textFill: (0, _utils.functor)(textFill)(price),\n    opacity: opacity,\n    fontFamily: fontFamily,\n    fontSize: fontSize,\n    rectWidth: rectWidth,\n    rectHeight: rectHeight,\n    arrowWidth: arrowWidth,\n    dx: dx,\n    x1: x1,\n    x2: x2,\n    y1: y,\n    y2: y\n  };\n  return coordinateProps;\n}\n\nexports.default = PriceCoordinate;","map":{"version":3,"mappings":"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","names":["PriceCoordinate","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","ctx","moreProps","helper","_react2","clip","svgDraw","canvasDraw","canvasToDraw","drawOn","propTypes","displayFormat","_propTypes2","func","isRequired","yAxisPad","number","rectWidth","rectHeight","orient","oneOf","at","price","dx","arrowWidth","opacity","lineOpacity","lineStroke","string","fontFamily","fontSize","fill","oneOfType","strokeDasharray","stroke","strokeOpacity","strokeWidth","textFill","defaultProps","width","yScale","chartConfig","domain","lowerYValue","upperYValue","x1","x2","edgeAt","type","y","show","coordinate","invert","hideLine","coordinateProps","lineStrokeDasharray","y1","y2"],"sources":["../../../src/lib/coordinates/PriceCoordinate.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { drawOnCanvas, renderSVG } from \"./EdgeCoordinateV3\";\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas } from \"../GenericComponent\";\nimport { functor, strokeDashTypes } from \"../utils\";\n\nclass PriceCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\tdrawOnCanvas(ctx, props);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst props = helper(this.props, moreProps);\n\t\treturn renderSVG(props);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tclip={false}\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\tdrawOn={[\"pan\"]}\n\t\t/>;\n\t}\n}\n\nPriceCoordinate.propTypes = {\n\tdisplayFormat: PropTypes.func.isRequired,\n\tyAxisPad: PropTypes.number,\n\trectWidth: PropTypes.number,\n\trectHeight: PropTypes.number,\n\torient: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tat: PropTypes.oneOf([\"bottom\", \"top\", \"left\", \"right\"]),\n\tprice: PropTypes.number,\n\tdx: PropTypes.number,\n\tarrowWidth: PropTypes.number,\n\topacity: PropTypes.number,\n\tlineOpacity: PropTypes.number,\n\tlineStroke: PropTypes.string,\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]),\n\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\tstroke: PropTypes.string,\n\tstrokeOpacity: PropTypes.number,\n\tstrokeWidth: PropTypes.number,\n\ttextFill: PropTypes.oneOfType([\n\t\tPropTypes.string,\n\t\tPropTypes.func,\n\t]),\n};\n\nPriceCoordinate.defaultProps = {\n\tyAxisPad: 0,\n\trectWidth: 50,\n\trectHeight: 20,\n\torient: \"left\",\n\tat: \"left\",\n\tprice: 0,\n\tdx: 0,\n\tarrowWidth: 0,\n\tfill: \"#BAB8b8\",\n\topacity: 1,\n\tlineOpacity: 0.2,\n\tlineStroke: \"#000000\",\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 13,\n\ttextFill: \"#FFFFFF\",\n\tstrokeOpacity: 1,\n\tstrokeWidth: 1,\n\tstrokeDasharray: \"Solid\",\n};\n\nfunction helper(props, moreProps) {\n\tconst { width } = moreProps;\n\tconst { chartConfig: { yScale } } = moreProps;\n\tconst [lowerYValue, upperYValue] = yScale.domain();\n\n\tconst { price, stroke, strokeDasharray, strokeOpacity, strokeWidth } = props;\n\tconst { orient, at, rectWidth, rectHeight, displayFormat, dx } = props;\n\tconst { fill, opacity, fontFamily, fontSize, textFill, arrowWidth, lineOpacity, lineStroke } = props;\n\n\tconst x1 = 0, x2 = width;\n\tconst edgeAt = (at === \"right\")\n\t\t? width\n\t\t: 0;\n\n\tconst type = \"horizontal\";\n\n\tconst y = yScale(price);\n\tconst show = (price <= upperYValue && price >= lowerYValue);\n\n\tconst coordinate = displayFormat(yScale.invert(y));\n\tconst hideLine = false;\n\n\tconst coordinateProps = {\n\t\tcoordinate,\n\t\tshow,\n\t\ttype,\n\t\torient,\n\t\tedgeAt,\n\t\thideLine,\n\t\tlineOpacity,\n\t\tlineStroke,\n\t\tlineStrokeDasharray: strokeDasharray,\n\t\tstroke,\n\t\tstrokeOpacity,\n\t\tstrokeWidth,\n\t\tfill: functor(fill)(price),\n\t\ttextFill: functor(textFill)(price),\n\t\topacity, fontFamily, fontSize,\n\t\trectWidth,\n\t\trectHeight,\n\t\tarrowWidth,\n\t\tdx,\n\t\tx1,\n\t\tx2,\n\t\ty1: y,\n\t\ty2: y,\n\t};\n\treturn coordinateProps;\n}\n\nexport default PriceCoordinate;\n"]},"metadata":{},"sourceType":"script"}