{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Axis = require(\"./Axis\");\n\nvar _Axis2 = _interopRequireDefault(_Axis);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar XAxis = function (_Component) {\n  _inherits(XAxis, _Component);\n\n  function XAxis(props, context) {\n    _classCallCheck(this, XAxis);\n\n    var _this = _possibleConstructorReturn(this, (XAxis.__proto__ || Object.getPrototypeOf(XAxis)).call(this, props, context));\n\n    _this.axisZoomCallback = _this.axisZoomCallback.bind(_this);\n    return _this;\n  }\n\n  _createClass(XAxis, [{\n    key: \"axisZoomCallback\",\n    value: function axisZoomCallback(newXDomain) {\n      var xAxisZoom = this.context.xAxisZoom;\n      xAxisZoom(newXDomain);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var showTicks = this.props.showTicks;\n      var moreProps = helper(this.props, this.context);\n      return _react2.default.createElement(_Axis2.default, _extends({}, this.props, moreProps, {\n        x: true,\n        zoomEnabled: this.props.zoomEnabled && showTicks,\n        axisZoomCallback: this.axisZoomCallback,\n        zoomCursorClassName: \"react-stockcharts-ew-resize-cursor\"\n      }));\n    }\n  }]);\n\n  return XAxis;\n}(_react.Component);\n\nXAxis.propTypes = {\n  axisAt: _propTypes2.default.oneOfType([_propTypes2.default.oneOf([\"top\", \"bottom\", \"middle\"]), _propTypes2.default.number]).isRequired,\n  orient: _propTypes2.default.oneOf([\"top\", \"bottom\"]).isRequired,\n  innerTickSize: _propTypes2.default.number,\n  outerTickSize: _propTypes2.default.number,\n  tickFormat: _propTypes2.default.func,\n  tickPadding: _propTypes2.default.number,\n  tickSize: _propTypes2.default.number,\n  ticks: _propTypes2.default.number,\n  tickValues: _propTypes2.default.array,\n  showTicks: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  zoomEnabled: _propTypes2.default.bool,\n  onContextMenu: _propTypes2.default.func,\n  onDoubleClick: _propTypes2.default.func\n};\nXAxis.defaultProps = {\n  showTicks: true,\n  showTickLabel: true,\n  showDomain: true,\n  className: \"react-stockcharts-x-axis\",\n  ticks: 10,\n  outerTickSize: 0,\n  fill: \"none\",\n  stroke: \"#000000\",\n  // x axis stroke color\n  strokeWidth: 1,\n  opacity: 1,\n  // x axis opacity\n  domainClassName: \"react-stockcharts-axis-domain\",\n  innerTickSize: 5,\n  tickPadding: 6,\n  tickStroke: \"#000000\",\n  // tick/grid stroke\n  tickStrokeOpacity: 1,\n  fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n  fontSize: 12,\n  fontWeight: 400,\n  xZoomHeight: 25,\n  zoomEnabled: true,\n  getMouseDelta: function getMouseDelta(startXY, mouseXY) {\n    return startXY[0] - mouseXY[0];\n  }\n};\nXAxis.contextTypes = {\n  chartConfig: _propTypes2.default.object.isRequired,\n  xAxisZoom: _propTypes2.default.func.isRequired\n};\n\nfunction helper(props, context) {\n  var axisAt = props.axisAt,\n      xZoomHeight = props.xZoomHeight,\n      orient = props.orient;\n  var _context$chartConfig = context.chartConfig,\n      width = _context$chartConfig.width,\n      height = _context$chartConfig.height;\n  var axisLocation = void 0;\n  var x = 0,\n      w = width,\n      h = xZoomHeight;\n  if (axisAt === \"top\") axisLocation = 0;else if (axisAt === \"bottom\") axisLocation = height;else if (axisAt === \"middle\") axisLocation = height / 2;else axisLocation = axisAt;\n  var y = orient === \"top\" ? -xZoomHeight : 0;\n  return {\n    transform: [0, axisLocation],\n    range: [0, width],\n    getScale: getXScale,\n    bg: {\n      x: x,\n      y: y,\n      h: h,\n      w: w\n    }\n  };\n}\n\nfunction getXScale(moreProps) {\n  var scale = moreProps.xScale,\n      width = moreProps.width;\n\n  if (scale.invert) {\n    var trueRange = [0, width];\n    var trueDomain = trueRange.map(scale.invert);\n    return scale.copy().domain(trueDomain).range(trueRange);\n  }\n\n  return scale;\n}\n\nexports.default = XAxis;","map":{"version":3,"sources":["../../../src/lib/axes/XAxis.js"],"names":["XAxis","newXDomain","xAxisZoom","showTicks","moreProps","helper","axisAt","orient","innerTickSize","outerTickSize","tickFormat","tickPadding","tickSize","ticks","tickValues","className","zoomEnabled","onContextMenu","onDoubleClick","func","showTickLabel","showDomain","fill","stroke","strokeWidth","opacity","domainClassName","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","xZoomHeight","getMouseDelta","startXY","mouseXY","chartConfig","isRequired","props","width","height","context","axisLocation","x","w","h","y","transform","range","getScale","bg","scale","trueRange","trueDomain"],"mappings":"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","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Axis from \"./Axis\";\n\nclass XAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newXDomain) {\n\t\tconst { xAxisZoom } = this.context;\n\t\txAxisZoom(newXDomain);\n\t}\n\trender() {\n\t\tconst { showTicks } = this.props;\n\t\tconst moreProps = helper(this.props, this.context);\n\n\t\treturn <Axis {...this.props} {...moreProps} x\n\t\t\tzoomEnabled={this.props.zoomEnabled && showTicks}\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tzoomEnabled: PropTypes.bool,\n\tonContextMenu: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n};\n\nXAxis.defaultProps = {\n\tshowTicks: true,\n\tshowTickLabel: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\", // x axis stroke color\n\tstrokeWidth: 1,\n\topacity: 1, // x axis opacity\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\", // tick/grid stroke\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfontWeight: 400,\n\txZoomHeight: 25,\n\tzoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\n};\n\nXAxis.contextTypes = {\n\tchartConfig: PropTypes.object.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nfunction helper(props, context) {\n\tconst { axisAt, xZoomHeight, orient } = props;\n\tconst { chartConfig: { width, height } } = context;\n\n\tlet axisLocation;\n\tconst x = 0, w = width, h = xZoomHeight;\n\n\tif (axisAt === \"top\") axisLocation = 0;\n\telse if (axisAt === \"bottom\") axisLocation = height;\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\n\telse axisLocation = axisAt;\n\n\tconst y = (orient === \"top\") ? -xZoomHeight : 0;\n\n\treturn {\n\t\ttransform: [0, axisLocation],\n\t\trange: [0, width],\n\t\tgetScale: getXScale,\n\t\tbg: { x, y, h, w },\n\t};\n}\n\nfunction getXScale(moreProps) {\n\tconst { xScale: scale, width } = moreProps;\n\n\tif (scale.invert) {\n\t\tconst trueRange = [0, width];\n\t\tconst trueDomain = trueRange.map(scale.invert);\n\t\treturn scale.copy()\n\t\t\t.domain(trueDomain)\n\t\t\t.range(trueRange);\n\t}\n\n\treturn scale;\n}\n\n\nexport default XAxis;\n"]},"metadata":{},"sourceType":"script"}