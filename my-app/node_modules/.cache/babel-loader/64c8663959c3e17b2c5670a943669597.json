{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GenericChartComponent = require(\"../../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../../GenericComponent\");\n\nvar _utils = require(\"../../utils\");\n\nvar _EdgeCoordinateV = require(\"../../coordinates/EdgeCoordinateV3\");\n\nvar _MouseCoordinateY = require(\"../../coordinates/MouseCoordinateY\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InteractiveYCoordinate = function (_Component) {\n  _inherits(InteractiveYCoordinate, _Component);\n\n  function InteractiveYCoordinate(props) {\n    _classCallCheck(this, InteractiveYCoordinate);\n\n    var _this = _possibleConstructorReturn(this, (InteractiveYCoordinate.__proto__ || Object.getPrototypeOf(InteractiveYCoordinate)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    _this.isHover = _this.isHover.bind(_this);\n    return _this;\n  }\n\n  _createClass(InteractiveYCoordinate, [{\n    key: \"isHover\",\n    value: function isHover(moreProps) {\n      var onHover = this.props.onHover;\n\n      if ((0, _utils.isDefined)(onHover)) {\n        var values = helper(this.props, moreProps);\n        if (values == null) return false;\n        var x1 = values.x1,\n            x2 = values.x2,\n            y = values.y,\n            rect = values.rect;\n\n        var _moreProps$mouseXY = _slicedToArray(moreProps.mouseXY, 2),\n            mouseX = _moreProps$mouseXY[0],\n            mouseY = _moreProps$mouseXY[1];\n\n        if (mouseX >= rect.x && mouseX <= rect.x + this.width && mouseY >= rect.y && mouseY <= rect.y + rect.height) {\n          return true;\n        }\n\n        if (x1 <= mouseX && x2 >= mouseX && Math.abs(mouseY - y) < 4) {\n          return true;\n        }\n      }\n\n      return false;\n    }\n  }, {\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var _props = this.props,\n          bgFill = _props.bgFill,\n          bgOpacity = _props.bgOpacity,\n          textFill = _props.textFill,\n          fontFamily = _props.fontFamily,\n          fontSize = _props.fontSize,\n          fontStyle = _props.fontStyle,\n          fontWeight = _props.fontWeight,\n          stroke = _props.stroke,\n          strokeWidth = _props.strokeWidth,\n          strokeOpacity = _props.strokeOpacity,\n          strokeDasharray = _props.strokeDasharray,\n          text = _props.text,\n          textBox = _props.textBox,\n          edge = _props.edge;\n      var _props2 = this.props,\n          selected = _props2.selected,\n          hovering = _props2.hovering;\n      var values = helper(this.props, moreProps);\n      if (values == null) return;\n      var x1 = values.x1,\n          x2 = values.x2,\n          y = values.y,\n          rect = values.rect;\n      ctx.strokeStyle = (0, _utils.hexToRGBA)(stroke, strokeOpacity);\n      ctx.beginPath();\n\n      if (selected || hovering) {\n        ctx.lineWidth = strokeWidth + 1;\n      } else {\n        ctx.lineWidth = strokeWidth;\n      }\n\n      ctx.textBaseline = \"middle\";\n      ctx.textAlign = \"start\";\n      ctx.font = fontStyle + \" \" + fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n      this.width = textBox.padding.left + ctx.measureText(text).width + textBox.padding.right + textBox.closeIcon.padding.left + textBox.closeIcon.width + textBox.closeIcon.padding.right;\n      ctx.setLineDash((0, _utils.getStrokeDasharrayCanvas)(strokeDasharray));\n      ctx.moveTo(x1, y);\n      ctx.lineTo(rect.x, y);\n      ctx.moveTo(rect.x + this.width, y);\n      ctx.lineTo(x2, y);\n      ctx.stroke();\n      ctx.setLineDash([]);\n      ctx.fillStyle = (0, _utils.hexToRGBA)(bgFill, bgOpacity);\n      ctx.fillRect(rect.x, rect.y, this.width, rect.height);\n      ctx.strokeRect(rect.x, rect.y, this.width, rect.height);\n      ctx.fillStyle = textFill;\n      ctx.beginPath();\n      ctx.fillText(text, rect.x + 10, y);\n\n      var newEdge = _extends({}, edge, {\n        textFill: textFill,\n        fontFamily: fontFamily,\n        fontSize: fontSize,\n        opacity: bgOpacity\n      });\n\n      var yValue = edge.displayFormat(this.props.yValue);\n      var yCoord = (0, _MouseCoordinateY.getYCoordinate)(y, yValue, newEdge, moreProps);\n      (0, _EdgeCoordinateV.drawOnCanvas)(ctx, yCoord);\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG() {\n      throw new Error(\"svg not implemented\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var interactiveCursorClass = this.props.interactiveCursorClass;\n      var _props3 = this.props,\n          onHover = _props3.onHover,\n          onUnHover = _props3.onUnHover;\n      var _props4 = this.props,\n          onDragStart = _props4.onDragStart,\n          onDrag = _props4.onDrag,\n          onDragComplete = _props4.onDragComplete;\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        clip: false,\n        xxxyyy: true,\n        isHover: this.isHover,\n        svgDraw: this.renderSVG,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        canvasDraw: this.drawOnCanvas,\n        interactiveCursorClass: interactiveCursorClass\n        /* selected={selected} */\n        ,\n        enableDragOnHover: true,\n        onDragStart: onDragStart,\n        onDrag: onDrag,\n        onDragComplete: onDragComplete,\n        onHover: onHover,\n        onUnHover: onUnHover,\n        drawOn: [\"mousemove\", \"mouseleave\", \"pan\", \"drag\"]\n      });\n    }\n  }]);\n\n  return InteractiveYCoordinate;\n}(_react.Component);\n\nfunction helper(props, moreProps) {\n  var yValue = props.yValue,\n      textBox = props.textBox;\n  var _moreProps$chartConfi = moreProps.chartConfig,\n      width = _moreProps$chartConfi.width,\n      yScale = _moreProps$chartConfi.yScale,\n      height = _moreProps$chartConfi.height;\n  var y = Math.round(yScale(yValue));\n\n  if (y >= 0 && y <= height) {\n    var rect = {\n      x: textBox.left,\n      y: y - textBox.height / 2,\n      height: textBox.height\n    };\n    return {\n      x1: 0,\n      x2: width,\n      y: y,\n      rect: rect\n    };\n  }\n}\n\nInteractiveYCoordinate.propTypes = {\n  bgFill: _propTypes2.default.string.isRequired,\n  bgOpacity: _propTypes2.default.number.isRequired,\n  stroke: _propTypes2.default.string.isRequired,\n  strokeWidth: _propTypes2.default.number.isRequired,\n  strokeOpacity: _propTypes2.default.number.isRequired,\n  strokeDasharray: _propTypes2.default.string.isRequired,\n  textFill: _propTypes2.default.string.isRequired,\n  fontFamily: _propTypes2.default.string.isRequired,\n  fontSize: _propTypes2.default.number.isRequired,\n  fontWeight: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]).isRequired,\n  fontStyle: _propTypes2.default.string.isRequired,\n  text: _propTypes2.default.string.isRequired,\n  edge: _propTypes2.default.object.isRequired,\n  textBox: _propTypes2.default.object.isRequired,\n  yValue: _propTypes2.default.number.isRequired,\n  onDragStart: _propTypes2.default.func.isRequired,\n  onDrag: _propTypes2.default.func.isRequired,\n  onDragComplete: _propTypes2.default.func.isRequired,\n  onHover: _propTypes2.default.func,\n  onUnHover: _propTypes2.default.func,\n  defaultClassName: _propTypes2.default.string,\n  interactiveCursorClass: _propTypes2.default.string,\n  tolerance: _propTypes2.default.number.isRequired,\n  selected: _propTypes2.default.bool.isRequired,\n  hovering: _propTypes2.default.bool.isRequired\n};\nInteractiveYCoordinate.defaultProps = {\n  onDragStart: _utils.noop,\n  onDrag: _utils.noop,\n  onDragComplete: _utils.noop,\n  fontWeight: \"normal\",\n  // standard dev\n  strokeWidth: 1,\n  tolerance: 4,\n  selected: false,\n  hovering: false\n};\nexports.default = InteractiveYCoordinate;","map":{"version":3,"mappings":"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","names":["InteractiveYCoordinate","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","isHover","moreProps","onHover","values","helper","x1","x2","y","rect","mouseXY","mouseX","mouseY","x","width","height","Math","abs","ctx","bgFill","bgOpacity","textFill","fontFamily","fontSize","fontStyle","fontWeight","stroke","strokeWidth","strokeOpacity","strokeDasharray","text","textBox","edge","selected","hovering","strokeStyle","beginPath","lineWidth","textBaseline","textAlign","font","padding","left","measureText","right","closeIcon","setLineDash","moveTo","lineTo","fillStyle","fillRect","strokeRect","fillText","newEdge","opacity","yValue","displayFormat","yCoord","Error","interactiveCursorClass","onUnHover","onDragStart","onDrag","onDragComplete","_react2","clip","xxxyyy","svgDraw","canvasToDraw","canvasDraw","enableDragOnHover","drawOn","chartConfig","yScale","round","propTypes","_propTypes2","string","isRequired","number","oneOfType","object","func","defaultClassName","tolerance","bool","defaultProps"],"sources":["../../../../src/lib/interactive/components/InteractiveYCoordinate.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../../GenericChartComponent\";\nimport { getMouseCanvas } from \"../../GenericComponent\";\nimport { isDefined, noop, hexToRGBA, getStrokeDasharrayCanvas } from \"../../utils\";\nimport { drawOnCanvas } from \"../../coordinates/EdgeCoordinateV3\";\nimport { getYCoordinate } from \"../../coordinates/MouseCoordinateY\";\n\nclass InteractiveYCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.isHover = this.isHover.bind(this);\n\t}\n\tisHover(moreProps) {\n\t\tconst { onHover } = this.props;\n\n\t\tif (isDefined(onHover)) {\n\t\t\tconst values = helper(this.props, moreProps);\n\t\t\tif (values == null) return false;\n\n\t\t\tconst { x1, x2, y, rect } = values;\n\t\t\tconst { mouseXY: [mouseX, mouseY] } = moreProps;\n\n\t\t\tif (\n\t\t\t\tmouseX >= rect.x\n\t\t\t\t&& mouseX <= rect.x + this.width\n\t\t\t\t&& mouseY >= rect.y\n\t\t\t\t&& mouseY <= rect.y + rect.height\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tif (\n\t\t\t\tx1 <= mouseX\n\t\t\t\t&& x2 >= mouseX\n\t\t\t\t&& Math.abs(mouseY - y) < 4\n\t\t\t) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst {\n\t\t\tbgFill,\n\t\t\tbgOpacity,\n\n\t\t\ttextFill,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\n\t\t\tfontStyle,\n\t\t\tfontWeight,\n\t\t\tstroke,\n\t\t\tstrokeWidth,\n\t\t\tstrokeOpacity,\n\t\t\tstrokeDasharray,\n\t\t\ttext,\n\t\t\ttextBox,\n\t\t\tedge,\n\t\t} = this.props;\n\n\t\tconst { selected, hovering } = this.props;\n\n\t\tconst values = helper(this.props, moreProps);\n\t\tif (values == null) return;\n\n\t\tconst { x1, x2, y, rect } = values;\n\n\t\tctx.strokeStyle = hexToRGBA(stroke, strokeOpacity);\n\n\t\tctx.beginPath();\n\t\tif (selected || hovering) {\n\t\t\tctx.lineWidth = strokeWidth + 1;\n\t\t} else {\n\t\t\tctx.lineWidth = strokeWidth;\n\t\t}\n\t\tctx.textBaseline = \"middle\";\n\t\tctx.textAlign = \"start\";\n\t\tctx.font = `${fontStyle} ${fontWeight} ${fontSize}px ${fontFamily}`;\n\n\t\tthis.width = textBox.padding.left\n\t\t\t+ ctx.measureText(text).width\n\t\t\t+ textBox.padding.right\n\t\t\t+ textBox.closeIcon.padding.left\n\t\t\t+ textBox.closeIcon.width\n\t\t\t+ textBox.closeIcon.padding.right;\n\n\t\tctx.setLineDash(getStrokeDasharrayCanvas(strokeDasharray));\n\t\tctx.moveTo(x1, y);\n\t\tctx.lineTo(rect.x, y);\n\n\t\tctx.moveTo(rect.x + this.width, y);\n\t\tctx.lineTo(x2, y);\n\t\tctx.stroke();\n\n\t\tctx.setLineDash([]);\n\n\n\t\tctx.fillStyle = hexToRGBA(bgFill, bgOpacity);\n\n\t\tctx.fillRect(rect.x, rect.y, this.width, rect.height);\n\t\tctx.strokeRect(rect.x, rect.y, this.width, rect.height);\n\n\t\tctx.fillStyle = textFill;\n\n\t\tctx.beginPath();\n\t\tctx.fillText(text, rect.x + 10, y);\n\t\tconst newEdge = {\n\t\t\t...edge,\n\t\t\ttextFill,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\topacity: bgOpacity\n\t\t};\n\t\tconst yValue = edge.displayFormat(this.props.yValue);\n\t\tconst yCoord = getYCoordinate(y, yValue, newEdge, moreProps);\n\t\tdrawOnCanvas(ctx, yCoord);\n\t}\n\trenderSVG() {\n\t\tthrow new Error(\"svg not implemented\");\n\t}\n\trender() {\n\t\tconst { interactiveCursorClass } = this.props;\n\t\tconst { onHover, onUnHover } = this.props;\n\t\tconst { onDragStart, onDrag, onDragComplete } = this.props;\n\n\t\treturn (\n\t\t\t<GenericChartComponent\n\t\t\t\tclip={false}\n\t\t\t\txxxyyy\n\t\t\t\tisHover={this.isHover}\n\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\n\t\t\t\tinteractiveCursorClass={interactiveCursorClass}\n\t\t\t\t/* selected={selected} */\n\t\t\t\tenableDragOnHover\n\n\t\t\t\tonDragStart={onDragStart}\n\t\t\t\tonDrag={onDrag}\n\t\t\t\tonDragComplete={onDragComplete}\n\t\t\t\tonHover={onHover}\n\t\t\t\tonUnHover={onUnHover}\n\n\t\t\t\tdrawOn={[\"mousemove\", \"mouseleave\", \"pan\", \"drag\"]}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nfunction helper(props, moreProps) {\n\tconst { yValue, textBox } = props;\n\n\tconst { chartConfig: { width, yScale, height } } = moreProps;\n\n\tconst y = Math.round(yScale(yValue));\n\n\tif (y >= 0 && y <= height) {\n\t\tconst rect = {\n\t\t\tx: textBox.left,\n\t\t\ty: y - textBox.height / 2,\n\t\t\theight: textBox.height,\n\t\t};\n\t\treturn {\n\t\t\tx1: 0,\n\t\t\tx2: width,\n\t\t\ty,\n\t\t\trect,\n\t\t};\n\t}\n\n}\n\nInteractiveYCoordinate.propTypes = {\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tstrokeDasharray: PropTypes.string.isRequired,\n\n\ttextFill: PropTypes.string.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\tfontWeight: PropTypes.oneOfType([\n\t\tPropTypes.number,\n\t\tPropTypes.string,\n\t]).isRequired,\n\tfontStyle: PropTypes.string.isRequired,\n\n\ttext: PropTypes.string.isRequired,\n\tedge: PropTypes.object.isRequired,\n\ttextBox: PropTypes.object.isRequired,\n\tyValue: PropTypes.number.isRequired,\n\n\tonDragStart: PropTypes.func.isRequired,\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonHover: PropTypes.func,\n\tonUnHover: PropTypes.func,\n\n\tdefaultClassName: PropTypes.string,\n\tinteractiveCursorClass: PropTypes.string,\n\n\ttolerance: PropTypes.number.isRequired,\n\tselected: PropTypes.bool.isRequired,\n\thovering: PropTypes.bool.isRequired,\n};\n\nInteractiveYCoordinate.defaultProps = {\n\tonDragStart: noop,\n\tonDrag: noop,\n\tonDragComplete: noop,\n\n\tfontWeight: \"normal\", // standard dev\n\n\tstrokeWidth: 1,\n\ttolerance: 4,\n\tselected: false,\n\thovering: false,\n};\n\nexport default InteractiveYCoordinate;"]},"metadata":{},"sourceType":"script"}