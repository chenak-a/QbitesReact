{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nimport React from \"react\";\nimport { TransitionMotion, spring } from \"react-motion\";\nimport cxs from \"cxs\";\nimport isEqual from \"react-fast-compare\";\nimport { requestTimeout, clearRequestTimeout } from \"../utils\";\n\nvar TextLoop = /*#__PURE__*/function (_React$PureComponent) {\n  _inheritsLoose(TextLoop, _React$PureComponent);\n\n  function TextLoop(_props) {\n    var _this;\n\n    _this = _React$PureComponent.call(this, _props) || this;\n\n    _defineProperty(_assertThisInitialized(_this), \"isUnMounting\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"tickDelay\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"tickLoop\", 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"wordBox\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"willLeave\", function () {\n      var _this$getDimensions = _this.getDimensions(),\n          height = _this$getDimensions.height;\n\n      return {\n        opacity: spring(_this.getOpacity(), _this.props.springConfig),\n        translate: spring(-height, _this.props.springConfig)\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"willEnter\", function () {\n      var _this$getDimensions2 = _this.getDimensions(),\n          height = _this$getDimensions2.height;\n\n      return {\n        opacity: _this.getOpacity(),\n        translate: height\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"tick\", function () {\n      if (!_this.isUnMounting) {\n        _this.setState(function (state, props) {\n          var currentWordIndex = (state.currentWordIndex + 1) % state.elements.length;\n          var currentEl = state.elements[currentWordIndex];\n          var updatedState = {\n            currentWordIndex: currentWordIndex,\n            currentEl: currentEl,\n            wordCount: (state.wordCount + 1) % 1000,\n            // just a safe value to avoid infinite counts,\n            currentInterval: Array.isArray(props.interval) ? props.interval[currentWordIndex % props.interval.length] : props.interval\n          };\n\n          if (props.onChange) {\n            props.onChange(updatedState);\n          }\n\n          return updatedState;\n        }, function () {\n          if (_this.state.currentInterval > 0) {\n            _this.clearTimeouts();\n\n            _this.tickLoop = requestTimeout(_this.tick, _this.state.currentInterval);\n          }\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"wrapperStyles\", cxs(_extends({}, _this.props.mask && {\n      overflow: \"hidden\"\n    }, {}, {\n      display: \"inline-block\",\n      position: \"relative\",\n      verticalAlign: \"top\"\n    })));\n\n    _defineProperty(_assertThisInitialized(_this), \"elementStyles\", cxs({\n      display: \"inline-block\",\n      left: 0,\n      top: 0,\n      whiteSpace: _this.props.noWrap ? \"nowrap\" : \"normal\"\n    }));\n\n    var elements = React.Children.toArray(_props.children);\n    _this.state = {\n      elements: elements,\n      currentEl: elements[0],\n      currentWordIndex: 0,\n      wordCount: 0,\n      currentInterval: Array.isArray(_props.interval) ? _props.interval[0] : _props.interval\n    };\n    return _this;\n  }\n\n  var _proto = TextLoop.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this2 = this; // Starts animation\n\n\n    var delay = this.props.delay;\n    var _this$state = this.state,\n        currentInterval = _this$state.currentInterval,\n        elements = _this$state.elements;\n\n    if (currentInterval > 0 && elements.length > 1) {\n      this.tickDelay = requestTimeout(function () {\n        _this2.tickLoop = requestTimeout(_this2.tick, currentInterval);\n      }, delay);\n    }\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    var _this3 = this;\n\n    var _ref = this.props,\n        interval = _ref.interval,\n        children = _ref.children,\n        delay = _ref.delay;\n    var currentWordIndex = this.state.currentWordIndex;\n    var currentInterval = Array.isArray(interval) ? interval[currentWordIndex % interval.length] : interval;\n\n    if (prevState.currentInterval !== currentInterval) {\n      this.clearTimeouts();\n\n      if (currentInterval > 0 && React.Children.count(children) > 1) {\n        this.tickDelay = requestTimeout(function () {\n          _this3.tickLoop = requestTimeout(_this3.tick, currentInterval);\n        }, delay);\n      } else {\n        this.setState(function (state, props) {\n          var _currentWordIndex = state.currentWordIndex;\n          return {\n            currentInterval: Array.isArray(props.interval) ? props.interval[_currentWordIndex % props.interval.length] : props.interval\n          };\n        });\n      }\n    }\n\n    if (!isEqual(prevProps.children, children)) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        elements: React.Children.toArray(children)\n      });\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.isUnMounting = true;\n    this.clearTimeouts();\n  };\n\n  _proto.clearTimeouts = function clearTimeouts() {\n    if (this.tickLoop != null) {\n      clearRequestTimeout(this.tickLoop);\n    }\n\n    if (this.tickDelay != null) {\n      clearRequestTimeout(this.tickDelay);\n    }\n  } // Fade out animation\n  ;\n\n  _proto.getOpacity = function getOpacity() {\n    return this.props.fade ? 0 : 1;\n  };\n\n  _proto.getDimensions = function getDimensions() {\n    if (this.wordBox == null) {\n      return {\n        width: 0,\n        height: 0\n      };\n    }\n\n    return this.wordBox.getBoundingClientRect();\n  };\n\n  _proto.getTransitionMotionStyles = function getTransitionMotionStyles() {\n    var springConfig = this.props.springConfig;\n    var _this$state2 = this.state,\n        wordCount = _this$state2.wordCount,\n        currentEl = _this$state2.currentEl;\n    return [{\n      key: \"step-\" + wordCount,\n      data: {\n        currentEl: currentEl\n      },\n      style: {\n        opacity: spring(1, springConfig),\n        translate: spring(0, springConfig)\n      }\n    }];\n  };\n\n  _proto.render = function render() {\n    var _this4 = this;\n\n    var _this$props$className = this.props.className,\n        className = _this$props$className === void 0 ? \"\" : _this$props$className;\n    return React.createElement(\"div\", {\n      className: this.wrapperStyles + \" \" + className\n    }, React.createElement(TransitionMotion, {\n      willLeave: this.willLeave,\n      willEnter: this.willEnter,\n      styles: this.getTransitionMotionStyles()\n    }, function (interpolatedStyles) {\n      var _this4$getDimensions = _this4.getDimensions(),\n          height = _this4$getDimensions.height,\n          width = _this4$getDimensions.width;\n\n      var parsedWidth = _this4.wordBox == null ? \"auto\" : width;\n      var parsedHeight = _this4.wordBox == null ? \"auto\" : height;\n      return React.createElement(\"div\", {\n        style: {\n          transition: \"width \" + _this4.props.adjustingSpeed + \"ms linear\",\n          height: parsedHeight,\n          width: parsedWidth\n        }\n      }, interpolatedStyles.map(function (config) {\n        return React.createElement(\"div\", {\n          className: _this4.elementStyles,\n          ref: function ref(n) {\n            _this4.wordBox = n;\n          },\n          key: config.key,\n          style: {\n            opacity: config.style.opacity,\n            transform: \"translateY(\" + config.style.translate + \"px)\",\n            position: _this4.wordBox == null ? \"relative\" : \"absolute\"\n          }\n        }, config.data.currentEl);\n      }));\n    }));\n  };\n\n  return TextLoop;\n}(React.PureComponent);\n\n_defineProperty(TextLoop, \"defaultProps\", {\n  interval: 3000,\n  delay: 0,\n  adjustingSpeed: 150,\n  springConfig: {\n    stiffness: 340,\n    damping: 30\n  },\n  fade: true,\n  mask: false,\n  noWrap: true\n});\n\nexport default TextLoop;","map":{"version":3,"sources":["C:/Users/chena/QbitesReact/my-app/node_modules/react-text-loop/es/components/TextLoop.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","create","constructor","__proto__","_defineProperty","obj","value","defineProperty","enumerable","configurable","writable","React","TransitionMotion","spring","cxs","isEqual","requestTimeout","clearRequestTimeout","TextLoop","_React$PureComponent","_props","_this","_this$getDimensions","getDimensions","height","opacity","getOpacity","props","springConfig","translate","_this$getDimensions2","isUnMounting","setState","state","currentWordIndex","elements","currentEl","updatedState","wordCount","currentInterval","Array","isArray","interval","onChange","clearTimeouts","tickLoop","tick","mask","overflow","display","position","verticalAlign","left","top","whiteSpace","noWrap","Children","toArray","children","_proto","componentDidMount","_this2","delay","_this$state","tickDelay","componentDidUpdate","prevProps","prevState","_this3","_ref","count","_currentWordIndex","componentWillUnmount","fade","wordBox","width","getBoundingClientRect","getTransitionMotionStyles","_this$state2","data","style","render","_this4","_this$props$className","className","createElement","wrapperStyles","willLeave","willEnter","styles","interpolatedStyles","_this4$getDimensions","parsedWidth","parsedHeight","transition","adjustingSpeed","map","config","elementStyles","ref","n","transform","PureComponent","stiffness","damping"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\r\n\r\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\r\n\r\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; subClass.__proto__ = superClass; }\r\n\r\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\r\n\r\nimport React from \"react\";\r\nimport { TransitionMotion, spring } from \"react-motion\";\r\nimport cxs from \"cxs\";\r\nimport isEqual from \"react-fast-compare\";\r\nimport { requestTimeout, clearRequestTimeout } from \"../utils\";\r\n\r\nvar TextLoop =\r\n/*#__PURE__*/\r\nfunction (_React$PureComponent) {\r\n  _inheritsLoose(TextLoop, _React$PureComponent);\r\n\r\n  function TextLoop(_props) {\r\n    var _this;\r\n\r\n    _this = _React$PureComponent.call(this, _props) || this;\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"isUnMounting\", false);\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"tickDelay\", 0);\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"tickLoop\", 0);\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"wordBox\", null);\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"willLeave\", function () {\r\n      var _this$getDimensions = _this.getDimensions(),\r\n          height = _this$getDimensions.height;\r\n\r\n      return {\r\n        opacity: spring(_this.getOpacity(), _this.props.springConfig),\r\n        translate: spring(-height, _this.props.springConfig)\r\n      };\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"willEnter\", function () {\r\n      var _this$getDimensions2 = _this.getDimensions(),\r\n          height = _this$getDimensions2.height;\r\n\r\n      return {\r\n        opacity: _this.getOpacity(),\r\n        translate: height\r\n      };\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"tick\", function () {\r\n      if (!_this.isUnMounting) {\r\n        _this.setState(function (state, props) {\r\n          var currentWordIndex = (state.currentWordIndex + 1) % state.elements.length;\r\n          var currentEl = state.elements[currentWordIndex];\r\n          var updatedState = {\r\n            currentWordIndex: currentWordIndex,\r\n            currentEl: currentEl,\r\n            wordCount: (state.wordCount + 1) % 1000,\r\n            // just a safe value to avoid infinite counts,\r\n            currentInterval: Array.isArray(props.interval) ? props.interval[currentWordIndex % props.interval.length] : props.interval\r\n          };\r\n\r\n          if (props.onChange) {\r\n            props.onChange(updatedState);\r\n          }\r\n\r\n          return updatedState;\r\n        }, function () {\r\n          if (_this.state.currentInterval > 0) {\r\n            _this.clearTimeouts();\r\n\r\n            _this.tickLoop = requestTimeout(_this.tick, _this.state.currentInterval);\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"wrapperStyles\", cxs(_extends({}, _this.props.mask && {\r\n      overflow: \"hidden\"\r\n    }, {}, {\r\n      display: \"inline-block\",\r\n      position: \"relative\",\r\n      verticalAlign: \"top\"\r\n    })));\r\n\r\n    _defineProperty(_assertThisInitialized(_this), \"elementStyles\", cxs({\r\n      display: \"inline-block\",\r\n      left: 0,\r\n      top: 0,\r\n      whiteSpace: _this.props.noWrap ? \"nowrap\" : \"normal\"\r\n    }));\r\n\r\n    var elements = React.Children.toArray(_props.children);\r\n    _this.state = {\r\n      elements: elements,\r\n      currentEl: elements[0],\r\n      currentWordIndex: 0,\r\n      wordCount: 0,\r\n      currentInterval: Array.isArray(_props.interval) ? _props.interval[0] : _props.interval\r\n    };\r\n    return _this;\r\n  }\r\n\r\n  var _proto = TextLoop.prototype;\r\n\r\n  _proto.componentDidMount = function componentDidMount() {\r\n    var _this2 = this;\r\n\r\n    // Starts animation\r\n    var delay = this.props.delay;\r\n    var _this$state = this.state,\r\n        currentInterval = _this$state.currentInterval,\r\n        elements = _this$state.elements;\r\n\r\n    if (currentInterval > 0 && elements.length > 1) {\r\n      this.tickDelay = requestTimeout(function () {\r\n        _this2.tickLoop = requestTimeout(_this2.tick, currentInterval);\r\n      }, delay);\r\n    }\r\n  };\r\n\r\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\r\n    var _this3 = this;\r\n\r\n    var _ref = this.props,\r\n        interval = _ref.interval,\r\n        children = _ref.children,\r\n        delay = _ref.delay;\r\n    var currentWordIndex = this.state.currentWordIndex;\r\n    var currentInterval = Array.isArray(interval) ? interval[currentWordIndex % interval.length] : interval;\r\n\r\n    if (prevState.currentInterval !== currentInterval) {\r\n      this.clearTimeouts();\r\n\r\n      if (currentInterval > 0 && React.Children.count(children) > 1) {\r\n        this.tickDelay = requestTimeout(function () {\r\n          _this3.tickLoop = requestTimeout(_this3.tick, currentInterval);\r\n        }, delay);\r\n      } else {\r\n        this.setState(function (state, props) {\r\n          var _currentWordIndex = state.currentWordIndex;\r\n          return {\r\n            currentInterval: Array.isArray(props.interval) ? props.interval[_currentWordIndex % props.interval.length] : props.interval\r\n          };\r\n        });\r\n      }\r\n    }\r\n\r\n    if (!isEqual(prevProps.children, children)) {\r\n      // eslint-disable-next-line react/no-did-update-set-state\r\n      this.setState({\r\n        elements: React.Children.toArray(children)\r\n      });\r\n    }\r\n  };\r\n\r\n  _proto.componentWillUnmount = function componentWillUnmount() {\r\n    this.isUnMounting = true;\r\n    this.clearTimeouts();\r\n  };\r\n\r\n  _proto.clearTimeouts = function clearTimeouts() {\r\n    if (this.tickLoop != null) {\r\n      clearRequestTimeout(this.tickLoop);\r\n    }\r\n\r\n    if (this.tickDelay != null) {\r\n      clearRequestTimeout(this.tickDelay);\r\n    }\r\n  } // Fade out animation\r\n  ;\r\n\r\n  _proto.getOpacity = function getOpacity() {\r\n    return this.props.fade ? 0 : 1;\r\n  };\r\n\r\n  _proto.getDimensions = function getDimensions() {\r\n    if (this.wordBox == null) {\r\n      return {\r\n        width: 0,\r\n        height: 0\r\n      };\r\n    }\r\n\r\n    return this.wordBox.getBoundingClientRect();\r\n  };\r\n\r\n  _proto.getTransitionMotionStyles = function getTransitionMotionStyles() {\r\n    var springConfig = this.props.springConfig;\r\n    var _this$state2 = this.state,\r\n        wordCount = _this$state2.wordCount,\r\n        currentEl = _this$state2.currentEl;\r\n    return [{\r\n      key: \"step-\" + wordCount,\r\n      data: {\r\n        currentEl: currentEl\r\n      },\r\n      style: {\r\n        opacity: spring(1, springConfig),\r\n        translate: spring(0, springConfig)\r\n      }\r\n    }];\r\n  };\r\n\r\n  _proto.render = function render() {\r\n    var _this4 = this;\r\n\r\n    var _this$props$className = this.props.className,\r\n        className = _this$props$className === void 0 ? \"\" : _this$props$className;\r\n    return React.createElement(\"div\", {\r\n      className: this.wrapperStyles + \" \" + className\r\n    }, React.createElement(TransitionMotion, {\r\n      willLeave: this.willLeave,\r\n      willEnter: this.willEnter,\r\n      styles: this.getTransitionMotionStyles()\r\n    }, function (interpolatedStyles) {\r\n      var _this4$getDimensions = _this4.getDimensions(),\r\n          height = _this4$getDimensions.height,\r\n          width = _this4$getDimensions.width;\r\n\r\n      var parsedWidth = _this4.wordBox == null ? \"auto\" : width;\r\n      var parsedHeight = _this4.wordBox == null ? \"auto\" : height;\r\n      return React.createElement(\"div\", {\r\n        style: {\r\n          transition: \"width \" + _this4.props.adjustingSpeed + \"ms linear\",\r\n          height: parsedHeight,\r\n          width: parsedWidth\r\n        }\r\n      }, interpolatedStyles.map(function (config) {\r\n        return React.createElement(\"div\", {\r\n          className: _this4.elementStyles,\r\n          ref: function ref(n) {\r\n            _this4.wordBox = n;\r\n          },\r\n          key: config.key,\r\n          style: {\r\n            opacity: config.style.opacity,\r\n            transform: \"translateY(\" + config.style.translate + \"px)\",\r\n            position: _this4.wordBox == null ? \"relative\" : \"absolute\"\r\n          }\r\n        }, config.data.currentEl);\r\n      }));\r\n    }));\r\n  };\r\n\r\n  return TextLoop;\r\n}(React.PureComponent);\r\n\r\n_defineProperty(TextLoop, \"defaultProps\", {\r\n  interval: 3000,\r\n  delay: 0,\r\n  adjustingSpeed: 150,\r\n  springConfig: {\r\n    stiffness: 340,\r\n    damping: 30\r\n  },\r\n  fade: true,\r\n  mask: false,\r\n  noWrap: true\r\n});\r\n\r\nexport default TextLoop;"]},"metadata":{},"sourceType":"module"}