{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { isDefined, getLogger } from \"./utils\";\nvar log = getLogger(\"CanvasContainer\");\n\nvar CanvasContainer = function (_Component) {\n  _inherits(CanvasContainer, _Component);\n\n  function CanvasContainer(props) {\n    _classCallCheck(this, CanvasContainer);\n\n    var _this = _possibleConstructorReturn(this, (CanvasContainer.__proto__ || Object.getPrototypeOf(CanvasContainer)).call(this, props));\n\n    _this.setDrawCanvas = _this.setDrawCanvas.bind(_this);\n    _this.drawCanvas = {};\n    return _this;\n  }\n\n  _createClass(CanvasContainer, [{\n    key: \"setDrawCanvas\",\n    value: function setDrawCanvas(node) {\n      if (isDefined(node)) this.drawCanvas[node.id] = node.getContext(\"2d\");else this.drawCanvas = {};\n    }\n  }, {\n    key: \"getCanvasContexts\",\n    value: function getCanvasContexts() {\n      if (isDefined(this.drawCanvas.axes)) {\n        return this.drawCanvas;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          height = _props.height,\n          width = _props.width,\n          type = _props.type,\n          zIndex = _props.zIndex,\n          ratio = _props.ratio;\n      if (type === \"svg\") return null;\n      log(\"using ratio \", ratio);\n      return React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          zIndex: zIndex\n        }\n      }, React.createElement(\"canvas\", {\n        id: \"bg\",\n        ref: this.setDrawCanvas,\n        width: width * ratio,\n        height: height * ratio,\n        style: {\n          position: \"absolute\",\n          width: width,\n          height: height\n        }\n      }), React.createElement(\"canvas\", {\n        id: \"axes\",\n        ref: this.setDrawCanvas,\n        width: width * ratio,\n        height: height * ratio,\n        style: {\n          position: \"absolute\",\n          width: width,\n          height: height\n        }\n      }), React.createElement(\"canvas\", {\n        id: \"mouseCoord\",\n        ref: this.setDrawCanvas,\n        width: width * ratio,\n        height: height * ratio,\n        style: {\n          position: \"absolute\",\n          width: width,\n          height: height\n        }\n      }));\n    }\n  }]);\n\n  return CanvasContainer;\n}(Component);\n/*\n\t\t\t\t<canvas id=\"hover\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n*/\n\n\nCanvasContainer.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  type: PropTypes.string.isRequired,\n  zIndex: PropTypes.number,\n  ratio: PropTypes.number.isRequired\n};\nexport default CanvasContainer;","map":{"version":3,"sources":["../../../src/lib/CanvasContainer.js"],"names":["log","getLogger","CanvasContainer","Component","node","isDefined","height","width","type","zIndex","ratio","position","PropTypes","isRequired"],"mappings":"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","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { isDefined, getLogger } from \"./utils\";\n\nconst log = getLogger(\"CanvasContainer\");\n\nclass CanvasContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setDrawCanvas = this.setDrawCanvas.bind(this);\n\t\tthis.drawCanvas = {};\n\t}\n\tsetDrawCanvas(node) {\n\t\tif (isDefined(node))\n\t\t\tthis.drawCanvas[node.id] = node.getContext(\"2d\");\n\t\telse\n\t\t\tthis.drawCanvas = {};\n\t}\n\tgetCanvasContexts() {\n\t\tif (isDefined(this.drawCanvas.axes)) {\n\t\t\treturn this.drawCanvas;\n\t\t}\n\t}\n\trender() {\n\t\tconst { height, width, type, zIndex, ratio } = this.props;\n\t\tif (type === \"svg\") return null;\n\n\t\tlog(\"using ratio \", ratio);\n\n\t\treturn (\n\t\t\t<div style={{ position: \"absolute\", zIndex: zIndex }}>\n\t\t\t\t<canvas id=\"bg\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t\t<canvas id=\"axes\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t\t<canvas id=\"mouseCoord\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n/*\n\t\t\t\t<canvas id=\"hover\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n*/\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tratio: PropTypes.number.isRequired,\n};\n\nexport default CanvasContainer;\n"]},"metadata":{},"sourceType":"module"}