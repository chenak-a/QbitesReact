{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d3Format = require(\"d3-format\");\n\nvar _utils = require(\"../utils\");\n\nvar _utils2 = require(\"./utils\");\n\nvar _EachInteractiveYCoordinate = require(\"./wrapper/EachInteractiveYCoordinate\");\n\nvar _EachInteractiveYCoordinate2 = _interopRequireDefault(_EachInteractiveYCoordinate);\n\nvar _HoverTextNearMouse = require(\"./components/HoverTextNearMouse\");\n\nvar _HoverTextNearMouse2 = _interopRequireDefault(_HoverTextNearMouse);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar InteractiveYCoordinate = function (_Component) {\n  _inherits(InteractiveYCoordinate, _Component);\n\n  function InteractiveYCoordinate(props) {\n    _classCallCheck(this, InteractiveYCoordinate);\n\n    var _this = _possibleConstructorReturn(this, (InteractiveYCoordinate.__proto__ || Object.getPrototypeOf(InteractiveYCoordinate)).call(this, props));\n\n    _this.handleDrag = _this.handleDrag.bind(_this);\n    _this.handleDragComplete = _this.handleDragComplete.bind(_this);\n    _this.handleDelete = _this.handleDelete.bind(_this);\n    _this.terminate = _utils2.terminate.bind(_this);\n    _this.saveNodeType = _utils2.saveNodeType.bind(_this);\n    _this.getSelectionState = (0, _utils2.isHoverForInteractiveType)(\"yCoordinateList\").bind(_this);\n    _this.nodes = [];\n    _this.state = {};\n    return _this;\n  }\n\n  _createClass(InteractiveYCoordinate, [{\n    key: \"handleDrag\",\n    value: function handleDrag(index, yValue) {\n      this.setState({\n        override: {\n          index: index,\n          yValue: yValue\n        }\n      });\n    }\n  }, {\n    key: \"handleDragComplete\",\n    value: function handleDragComplete(moreProps) {\n      var _this2 = this;\n\n      var override = this.state.override;\n\n      if ((0, _utils.isDefined)(override)) {\n        var yCoordinateList = this.props.yCoordinateList;\n        var newAlertList = yCoordinateList.map(function (each, idx) {\n          var selected = idx === override.index;\n          return selected ? _extends({}, each, {\n            yValue: override.yValue,\n            selected: selected\n          }) : _extends({}, each, {\n            selected: selected\n          });\n        });\n        var draggedAlert = newAlertList[override.index];\n        this.setState({\n          override: null\n        }, function () {\n          _this2.props.onDragComplete(newAlertList, moreProps, draggedAlert);\n        });\n      }\n    }\n  }, {\n    key: \"handleDrawLine\",\n    value: function handleDrawLine(xyValue) {\n      var current = this.state.current;\n\n      if ((0, _utils.isDefined)(current) && (0, _utils.isDefined)(current.start)) {\n        this.setState({\n          current: {\n            start: current.start,\n            end: xyValue\n          }\n        });\n      }\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(index, moreProps) {\n      var _props = this.props,\n          onDelete = _props.onDelete,\n          yCoordinateList = _props.yCoordinateList;\n      onDelete(yCoordinateList[index], moreProps);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var yCoordinateList = this.props.yCoordinateList;\n      var override = this.state.override;\n      return _react2.default.createElement(\"g\", null, yCoordinateList.map(function (each, idx) {\n        var props = each;\n        return _react2.default.createElement(_EachInteractiveYCoordinate2.default, _extends({\n          key: each.id,\n          ref: _this3.saveNodeType(idx),\n          index: idx\n        }, props, {\n          selected: each.selected,\n          yValue: (0, _utils2.getValueFromOverride)(override, idx, \"yValue\", each.yValue),\n          onDelete: _this3.handleDelete,\n          onDrag: _this3.handleDrag,\n          onDragComplete: _this3.handleDragComplete,\n          edgeInteractiveCursor: \"react-stockcharts-move-cursor\"\n        }));\n      }));\n    }\n  }]);\n\n  return InteractiveYCoordinate;\n}(_react.Component);\n\nInteractiveYCoordinate.propTypes = {\n  onChoosePosition: _propTypes2.default.func.isRequired,\n  onDragComplete: _propTypes2.default.func.isRequired,\n  onSelect: _propTypes2.default.func,\n  onDelete: _propTypes2.default.func,\n  defaultPriceCoordinate: _propTypes2.default.shape({\n    bgFill: _propTypes2.default.string.isRequired,\n    bgOpacity: _propTypes2.default.number.isRequired,\n    stroke: _propTypes2.default.string.isRequired,\n    strokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes).isRequired,\n    strokeOpacity: _propTypes2.default.number.isRequired,\n    strokeWidth: _propTypes2.default.number.isRequired,\n    textFill: _propTypes2.default.string.isRequired,\n    fontFamily: _propTypes2.default.string.isRequired,\n    fontWeight: _propTypes2.default.string.isRequired,\n    fontStyle: _propTypes2.default.string.isRequired,\n    fontSize: _propTypes2.default.number.isRequired,\n    text: _propTypes2.default.string.isRequired,\n    textBox: _propTypes2.default.shape({\n      height: _propTypes2.default.number.isRequired,\n      left: _propTypes2.default.number.isRequired,\n      padding: _propTypes2.default.shape({\n        left: _propTypes2.default.number.isRequired,\n        right: _propTypes2.default.number.isRequired\n      }),\n      closeIcon: _propTypes2.default.shape({\n        padding: _propTypes2.default.shape({\n          left: _propTypes2.default.number.isRequired,\n          right: _propTypes2.default.number.isRequired\n        }),\n        width: _propTypes2.default.number.isRequired\n      })\n    }).isRequired,\n    edge: _propTypes2.default.shape({\n      stroke: _propTypes2.default.string.isRequired,\n      strokeOpacity: _propTypes2.default.number.isRequired,\n      strokeWidth: _propTypes2.default.number.isRequired,\n      fill: _propTypes2.default.string.isRequired,\n      fillOpacity: _propTypes2.default.number.isRequired\n    })\n  }).isRequired,\n  hoverText: _propTypes2.default.object.isRequired,\n  yCoordinateList: _propTypes2.default.array.isRequired,\n  enabled: _propTypes2.default.bool.isRequired\n};\nInteractiveYCoordinate.defaultProps = {\n  onChoosePosition: _utils.noop,\n  onDragComplete: _utils.noop,\n  onSelect: _utils.noop,\n  onDelete: _utils.noop,\n  defaultPriceCoordinate: {\n    bgFill: \"#FFFFFF\",\n    bgOpacity: 1,\n    stroke: \"#6574CD\",\n    strokeOpacity: 1,\n    strokeDasharray: \"ShortDash2\",\n    strokeWidth: 1,\n    textFill: \"#6574CD\",\n    fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n    fontSize: 12,\n    fontStyle: \"normal\",\n    fontWeight: \"normal\",\n    text: \"Alert\",\n    textBox: {\n      height: 24,\n      left: 20,\n      padding: {\n        left: 10,\n        right: 5\n      },\n      closeIcon: {\n        padding: {\n          left: 5,\n          right: 8\n        },\n        width: 8\n      }\n    },\n    edge: {\n      stroke: \"#6574CD\",\n      strokeOpacity: 1,\n      strokeWidth: 1,\n      fill: \"#FFFFFF\",\n      fillOpacity: 1,\n      orient: \"right\",\n      at: \"right\",\n      arrowWidth: 10,\n      dx: 0,\n      rectWidth: 50,\n      rectHeight: 20,\n      displayFormat: (0, _d3Format.format)(\".2f\")\n    }\n  },\n  hoverText: _extends({}, _HoverTextNearMouse2.default.defaultProps, {\n    enable: true,\n    bgHeight: 18,\n    bgWidth: 175,\n    text: \"Click and drag the edge circles\"\n  }),\n  yCoordinateList: []\n};\nInteractiveYCoordinate.contextTypes = {\n  subscribe: _propTypes2.default.func.isRequired,\n  unsubscribe: _propTypes2.default.func.isRequired,\n  generateSubscriptionId: _propTypes2.default.func.isRequired,\n  chartId: _propTypes2.default.oneOfType([_propTypes2.default.number, _propTypes2.default.string]).isRequired\n};\nexports.default = InteractiveYCoordinate;","map":{"version":3,"sources":["../../../src/lib/interactive/InteractiveYCoordinate.js"],"names":["InteractiveYCoordinate","index","yValue","override","moreProps","yCoordinateList","newAlertList","selected","idx","draggedAlert","xyValue","current","start","end","onDelete","props","each","onChoosePosition","onDragComplete","onSelect","defaultPriceCoordinate","bgFill","bgOpacity","stroke","strokeDasharray","strokeOpacity","strokeWidth","textFill","fontFamily","fontWeight","fontStyle","fontSize","text","textBox","height","left","padding","right","isRequired","closeIcon","width","edge","fill","fillOpacity","hoverText","enabled","orient","at","arrowWidth","dx","rectWidth","rectHeight","displayFormat","enable","bgHeight","bgWidth","subscribe","unsubscribe","generateSubscriptionId","chartId"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;;;AACA,IAAA,UAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;;;AAEA,IAAA,SAAA,GAAA,OAAA,CAAA,WAAA,CAAA;;AACA,IAAA,MAAA,GAAA,OAAA,CAAA,UAAA,CAAA;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,SAAA,CAAA;;AAMA,IAAA,2BAAA,GAAA,OAAA,CAAA,sCAAA,CAAA;;;;AACA,IAAA,mBAAA,GAAA,OAAA,CAAA,iCAAA,CAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEMA,sB;;;AACL,WAAA,sBAAA,CAAA,KAAA,EAAmB;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,sBAAA,CAAA;;AAAA,QAAA,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,CAAA,sBAAA,CAAA,SAAA,IAAA,MAAA,CAAA,cAAA,CAAA,sBAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;;AAGlB,IAAA,KAAA,CAAA,UAAA,GAAkB,KAAA,CAAA,UAAA,CAAA,IAAA,CAAlB,KAAkB,CAAlB;AACA,IAAA,KAAA,CAAA,kBAAA,GAA0B,KAAA,CAAA,kBAAA,CAAA,IAAA,CAA1B,KAA0B,CAA1B;AACA,IAAA,KAAA,CAAA,YAAA,GAAoB,KAAA,CAAA,YAAA,CAAA,IAAA,CAApB,KAAoB,CAApB;AACA,IAAA,KAAA,CAAA,SAAA,GAAiB,OAAA,CAAA,SAAA,CAAA,IAAA,CAAjB,KAAiB,CAAjB;AAEA,IAAA,KAAA,CAAA,YAAA,GAAoB,OAAA,CAAA,YAAA,CAAA,IAAA,CAApB,KAAoB,CAApB;AACA,IAAA,KAAA,CAAA,iBAAA,GAAyB,CAAA,GAAA,OAAA,CAAA,yBAAA,EAAA,iBAAA,EAAA,IAAA,CAAzB,KAAyB,CAAzB;AAGA,IAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AACA,IAAA,KAAA,CAAA,KAAA,GAAA,EAAA;AAbkB,WAAA,KAAA;AAclB;;;;+BACUC,K,EAAOC,M,EAAQ;AACzB,WAAA,QAAA,CAAc;AACbC,QAAAA,QAAAA,EAAU;AACTF,UAAAA,KAAAA,EADS,KAAA;AAETC,UAAAA,MAAAA,EAAAA;AAFS;AADG,OAAd;AAMA;;;uCACkBE,S,EAAW;AAAA,UAAA,MAAA,GAAA,IAAA;;AAAA,UACrBD,QADqB,GACR,KADQ,KACR,CADQ,QAAA;;AAE7B,UAAI,CAAA,GAAA,MAAA,CAAA,SAAA,EAAJ,QAAI,CAAJ,EAAyB;AAAA,YAChBE,eADgB,GACI,KADJ,KACI,CADJ,eAAA;AAExB,YAAMC,YAAAA,GAAe,eAAA,CAAA,GAAA,CACf,UAAA,IAAA,EAAA,GAAA,EAAe;AACnB,cAAMC,QAAAA,GAAYC,GAAAA,KAAQL,QAAAA,CAA1B,KAAA;AACA,iBAAO,QAAA,GAAA,QAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAGLD,YAAAA,MAAAA,EAAQC,QAAAA,CAHH,MAAA;AAILI,YAAAA,QAAAA,EAAAA;AAJK,WAAA,CAAA,GAAA,QAAA,CAAA,EAAA,EAAA,IAAA,EAAA;AAQLA,YAAAA,QAAAA,EAAAA;AARK,WAAA,CAAP;AAHF,SAAqB,CAArB;AAcA,YAAME,YAAAA,GAAeH,YAAAA,CAAaH,QAAAA,CAAlC,KAAqBG,CAArB;AACA,aAAA,QAAA,CAAc;AACbH,UAAAA,QAAAA,EAAU;AADG,SAAd,EAEG,YAAM;AACR,UAAA,MAAA,CAAA,KAAA,CAAA,cAAA,CAAA,YAAA,EAAA,SAAA,EAAA,YAAA;AAHD,SAAA;AAKA;AACD;;;mCACcO,O,EAAS;AAAA,UACfC,OADe,GACH,KADG,KACH,CADG,OAAA;;AAGvB,UAAI,CAAA,GAAA,MAAA,CAAA,SAAA,EAAA,OAAA,KAAsB,CAAA,GAAA,MAAA,CAAA,SAAA,EAAUA,OAAAA,CAApC,KAA0B,CAA1B,EAAoD;AACnD,aAAA,QAAA,CAAc;AACbA,UAAAA,OAAAA,EAAS;AACRC,YAAAA,KAAAA,EAAOD,OAAAA,CADC,KAAA;AAERE,YAAAA,GAAAA,EAAKH;AAFG;AADI,SAAd;AAMA;AACD;;;iCACYT,K,EAAOG,S,EAAW;AAAA,UAAA,MAAA,GACQ,KADR,KAAA;AAAA,UACtBU,QADsB,GAAA,MAAA,CAAA,QAAA;AAAA,UACZT,eADY,GAAA,MAAA,CAAA,eAAA;AAE9BS,MAAAA,QAAAA,CAAST,eAAAA,CAATS,KAAST,CAATS,EAAAA,SAAAA,CAAAA;AACA;;;6BACQ;AAAA,UAAA,MAAA,GAAA,IAAA;;AAAA,UACAT,eADA,GACoB,KADpB,KACoB,CADpB,eAAA;AAAA,UAEAF,QAFA,GAEa,KAFb,KAEa,CAFb,QAAA;AAGR,aACC,OAAA,CAAA,OAAA,CAAA,aAAA,CAAA,GAAA,EAAA,IAAA,EACEE,eAAAA,CAAAA,GAAAA,CAAoB,UAAA,IAAA,EAAA,GAAA,EAAe;AACnC,YAAMU,KAAAA,GAAN,IAAA;AACA,eACC,OAAA,CAAA,OAAA,CAAA,aAAA,CAAA,4BAAA,CAAA,OAAA,EAAA,QAAA,CAAA;AAA4B,UAAA,GAAA,EAAKC,IAAAA,CAAjC,EAAA;AACC,UAAA,GAAA,EAAK,MAAA,CAAA,YAAA,CADN,GACM,CADN;AAEC,UAAA,KAAA,EAAOR;AAFR,SAAA,EAAA,KAAA,EAAA;AAIC,UAAA,QAAA,EAAUQ,IAAAA,CAJX,QAAA;AAKC,UAAA,MAAA,EAAQ,CAAA,GAAA,OAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,GAAA,EAAA,QAAA,EAA8CA,IAAAA,CALvD,MAKS,CALT;AAOC,UAAA,QAAA,EAAU,MAAA,CAPX,YAAA;AAQC,UAAA,MAAA,EAAQ,MAAA,CART,UAAA;AASC,UAAA,cAAA,EAAgB,MAAA,CATjB,kBAAA;AAUC,UAAA,qBAAA,EAAsB;AAVvB,SAAA,CAAA,CADD;AAFAX,OAAAA,CADF,CADD;AAqBA;;;;;;AAGFL,sBAAAA,CAAAA,SAAAA,GAAmC;AAClCiB,EAAAA,gBAAAA,EAAkB,WAAA,CAAA,OAAA,CAAA,IAAA,CADgB,UAAA;AAElCC,EAAAA,cAAAA,EAAgB,WAAA,CAAA,OAAA,CAAA,IAAA,CAFkB,UAAA;AAGlCC,EAAAA,QAAAA,EAAU,WAAA,CAAA,OAAA,CAHwB,IAAA;AAIlCL,EAAAA,QAAAA,EAAU,WAAA,CAAA,OAAA,CAJwB,IAAA;AAMlCM,EAAAA,sBAAAA,EAAwB,WAAA,CAAA,OAAA,CAAA,KAAA,CAAgB;AACvCC,IAAAA,MAAAA,EAAQ,WAAA,CAAA,OAAA,CAAA,MAAA,CAD+B,UAAA;AAEvCC,IAAAA,SAAAA,EAAW,WAAA,CAAA,OAAA,CAAA,MAAA,CAF4B,UAAA;AAIvCC,IAAAA,MAAAA,EAAQ,WAAA,CAAA,OAAA,CAAA,MAAA,CAJ+B,UAAA;AAKvCC,IAAAA,eAAAA,EAAiB,WAAA,CAAA,OAAA,CAAA,KAAA,CAAA,MAAA,CAAA,eAAA,EALsB,UAAA;AAMvCC,IAAAA,aAAAA,EAAe,WAAA,CAAA,OAAA,CAAA,MAAA,CANwB,UAAA;AAOvCC,IAAAA,WAAAA,EAAa,WAAA,CAAA,OAAA,CAAA,MAAA,CAP0B,UAAA;AASvCC,IAAAA,QAAAA,EAAU,WAAA,CAAA,OAAA,CAAA,MAAA,CAT6B,UAAA;AAUvCC,IAAAA,UAAAA,EAAY,WAAA,CAAA,OAAA,CAAA,MAAA,CAV2B,UAAA;AAWvCC,IAAAA,UAAAA,EAAY,WAAA,CAAA,OAAA,CAAA,MAAA,CAX2B,UAAA;AAYvCC,IAAAA,SAAAA,EAAW,WAAA,CAAA,OAAA,CAAA,MAAA,CAZ4B,UAAA;AAavCC,IAAAA,QAAAA,EAAU,WAAA,CAAA,OAAA,CAAA,MAAA,CAb6B,UAAA;AAcvCC,IAAAA,IAAAA,EAAM,WAAA,CAAA,OAAA,CAAA,MAAA,CAdiC,UAAA;AAgBvCC,IAAAA,OAAAA,EAAS,WAAA,CAAA,OAAA,CAAA,KAAA,CAAgB;AACxBC,MAAAA,MAAAA,EAAQ,WAAA,CAAA,OAAA,CAAA,MAAA,CADgB,UAAA;AAExBC,MAAAA,IAAAA,EAAM,WAAA,CAAA,OAAA,CAAA,MAAA,CAFkB,UAAA;AAGxBC,MAAAA,OAAAA,EAAS,WAAA,CAAA,OAAA,CAAA,KAAA,CAAgB;AACxBD,QAAAA,IAAAA,EAAM,WAAA,CAAA,OAAA,CAAA,MAAA,CADkB,UAAA;AAExBE,QAAAA,KAAAA,EAAO,WAAA,CAAA,OAAA,CAAA,MAAA,CAAiBC;AAFA,OAAhB,CAHe;AAOxBC,MAAAA,SAAAA,EAAW,WAAA,CAAA,OAAA,CAAA,KAAA,CAAgB;AAC1BH,QAAAA,OAAAA,EAAS,WAAA,CAAA,OAAA,CAAA,KAAA,CAAgB;AACxBD,UAAAA,IAAAA,EAAM,WAAA,CAAA,OAAA,CAAA,MAAA,CADkB,UAAA;AAExBE,UAAAA,KAAAA,EAAO,WAAA,CAAA,OAAA,CAAA,MAAA,CAAiBC;AAFA,SAAhB,CADiB;AAK1BE,QAAAA,KAAAA,EAAO,WAAA,CAAA,OAAA,CAAA,MAAA,CAAiBF;AALE,OAAhB;AAPa,KAAhB,EAhB8B,UAAA;AA+BvCG,IAAAA,IAAAA,EAAM,WAAA,CAAA,OAAA,CAAA,KAAA,CAAgB;AACrBlB,MAAAA,MAAAA,EAAQ,WAAA,CAAA,OAAA,CAAA,MAAA,CADa,UAAA;AAErBE,MAAAA,aAAAA,EAAe,WAAA,CAAA,OAAA,CAAA,MAAA,CAFM,UAAA;AAGrBC,MAAAA,WAAAA,EAAa,WAAA,CAAA,OAAA,CAAA,MAAA,CAHQ,UAAA;AAKrBgB,MAAAA,IAAAA,EAAM,WAAA,CAAA,OAAA,CAAA,MAAA,CALe,UAAA;AAMrBC,MAAAA,WAAAA,EAAa,WAAA,CAAA,OAAA,CAAA,MAAA,CAAiBL;AANT,KAAhB;AA/BiC,GAAhB,EANU,UAAA;AA+ClCM,EAAAA,SAAAA,EAAW,WAAA,CAAA,OAAA,CAAA,MAAA,CA/CuB,UAAA;AAgDlCvC,EAAAA,eAAAA,EAAiB,WAAA,CAAA,OAAA,CAAA,KAAA,CAhDiB,UAAA;AAiDlCwC,EAAAA,OAAAA,EAAS,WAAA,CAAA,OAAA,CAAA,IAAA,CAAeP;AAjDU,CAAnCtC;AAoDAA,sBAAAA,CAAAA,YAAAA,GAAsC;AACrCiB,EAAAA,gBAAAA,EAAAA,MAAAA,CADqC,IAAA;AAErCC,EAAAA,cAAAA,EAAAA,MAAAA,CAFqC,IAAA;AAGrCC,EAAAA,QAAAA,EAAAA,MAAAA,CAHqC,IAAA;AAIrCL,EAAAA,QAAAA,EAAAA,MAAAA,CAJqC,IAAA;AAMrCM,EAAAA,sBAAAA,EAAwB;AACvBC,IAAAA,MAAAA,EADuB,SAAA;AAEvBC,IAAAA,SAAAA,EAFuB,CAAA;AAIvBC,IAAAA,MAAAA,EAJuB,SAAA;AAKvBE,IAAAA,aAAAA,EALuB,CAAA;AAMvBD,IAAAA,eAAAA,EANuB,YAAA;AAOvBE,IAAAA,WAAAA,EAPuB,CAAA;AASvBC,IAAAA,QAAAA,EATuB,SAAA;AAUvBC,IAAAA,UAAAA,EAVuB,8CAAA;AAWvBG,IAAAA,QAAAA,EAXuB,EAAA;AAYvBD,IAAAA,SAAAA,EAZuB,QAAA;AAavBD,IAAAA,UAAAA,EAbuB,QAAA;AAcvBG,IAAAA,IAAAA,EAduB,OAAA;AAevBC,IAAAA,OAAAA,EAAS;AACRC,MAAAA,MAAAA,EADQ,EAAA;AAERC,MAAAA,IAAAA,EAFQ,EAAA;AAGRC,MAAAA,OAAAA,EAAS;AAAED,QAAAA,IAAAA,EAAF,EAAA;AAAYE,QAAAA,KAAAA,EAHb;AAGC,OAHD;AAIRE,MAAAA,SAAAA,EAAW;AACVH,QAAAA,OAAAA,EAAS;AAAED,UAAAA,IAAAA,EAAF,CAAA;AAAWE,UAAAA,KAAAA,EADV;AACD,SADC;AAEVG,QAAAA,KAAAA,EAAO;AAFG;AAJH,KAfc;AAwBvBC,IAAAA,IAAAA,EAAM;AACLlB,MAAAA,MAAAA,EADK,SAAA;AAELE,MAAAA,aAAAA,EAFK,CAAA;AAGLC,MAAAA,WAAAA,EAHK,CAAA;AAKLgB,MAAAA,IAAAA,EALK,SAAA;AAMLC,MAAAA,WAAAA,EANK,CAAA;AAOLG,MAAAA,MAAAA,EAPK,OAAA;AAQLC,MAAAA,EAAAA,EARK,OAAA;AASLC,MAAAA,UAAAA,EATK,EAAA;AAULC,MAAAA,EAAAA,EAVK,CAAA;AAWLC,MAAAA,SAAAA,EAXK,EAAA;AAYLC,MAAAA,UAAAA,EAZK,EAAA;AAaLC,MAAAA,aAAAA,EAAe,CAAA,GAAA,SAAA,CAAA,MAAA,EAAA,KAAA;AAbV;AAxBiB,GANa;AA8CrCR,EAAAA,SAAAA,EAAAA,QAAAA,CAAAA,EAAAA,EACI,oBAAA,CAAA,OAAA,CADJA,YAAAA,EAAAA;AAECS,IAAAA,MAAAA,EAFDT,IAAAA;AAGCU,IAAAA,QAAAA,EAHDV,EAAAA;AAICW,IAAAA,OAAAA,EAJDX,GAAAA;AAKCZ,IAAAA,IAAAA,EAAM;AALPY,GAAAA,CA9CqC;AAqDrCvC,EAAAA,eAAAA,EAAiB;AArDoB,CAAtCL;AAwDAA,sBAAAA,CAAAA,YAAAA,GAAsC;AACrCwD,EAAAA,SAAAA,EAAW,WAAA,CAAA,OAAA,CAAA,IAAA,CAD0B,UAAA;AAErCC,EAAAA,WAAAA,EAAa,WAAA,CAAA,OAAA,CAAA,IAAA,CAFwB,UAAA;AAGrCC,EAAAA,sBAAAA,EAAwB,WAAA,CAAA,OAAA,CAAA,IAAA,CAHa,UAAA;AAIrCC,EAAAA,OAAAA,EAAS,WAAA,CAAA,OAAA,CAAA,SAAA,CAAoB,CAAC,WAAA,CAAA,OAAA,CAAD,MAAA,EAAmB,WAAA,CAAA,OAAA,CAAvC,MAAoB,CAApB,EAA0DrB;AAJ9B,CAAtCtC;kBAOeA,sB","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { format } from \"d3-format\";\nimport { isDefined, noop, strokeDashTypes } from \"../utils\";\n\nimport {\n\tgetValueFromOverride,\n\tterminate,\n\tsaveNodeType,\n\tisHoverForInteractiveType,\n} from \"./utils\";\nimport EachInteractiveYCoordinate from \"./wrapper/EachInteractiveYCoordinate\";\nimport HoverTextNearMouse from \"./components/HoverTextNearMouse\";\n\nclass InteractiveYCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\t\tthis.handleDragComplete = this.handleDragComplete.bind(this);\n\t\tthis.handleDelete = this.handleDelete.bind(this);\n\t\tthis.terminate = terminate.bind(this);\n\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.getSelectionState = isHoverForInteractiveType(\"yCoordinateList\")\n\t\t\t.bind(this);\n\n\t\tthis.nodes = [];\n\t\tthis.state = {};\n\t}\n\thandleDrag(index, yValue) {\n\t\tthis.setState({\n\t\t\toverride: {\n\t\t\t\tindex,\n\t\t\t\tyValue,\n\t\t\t}\n\t\t});\n\t}\n\thandleDragComplete(moreProps) {\n\t\tconst { override } = this.state;\n\t\tif (isDefined(override)) {\n\t\t\tconst { yCoordinateList } = this.props;\n\t\t\tconst newAlertList = yCoordinateList\n\t\t\t\t.map((each, idx) => {\n\t\t\t\t\tconst selected = (idx === override.index);\n\t\t\t\t\treturn selected\n\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t...each,\n\t\t\t\t\t\t\tyValue: override.yValue,\n\t\t\t\t\t\t\tselected,\n\t\t\t\t\t\t}\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t...each,\n\t\t\t\t\t\t\tselected\n\t\t\t\t\t\t};\n\t\t\t\t});\n\t\t\tconst draggedAlert = newAlertList[override.index];\n\t\t\tthis.setState({\n\t\t\t\toverride: null,\n\t\t\t}, () => {\n\t\t\t\tthis.props.onDragComplete(newAlertList, moreProps, draggedAlert);\n\t\t\t});\n\t\t}\n\t}\n\thandleDrawLine(xyValue) {\n\t\tconst { current } = this.state;\n\n\t\tif (isDefined(current) && isDefined(current.start)) {\n\t\t\tthis.setState({\n\t\t\t\tcurrent: {\n\t\t\t\t\tstart: current.start,\n\t\t\t\t\tend: xyValue,\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\thandleDelete(index, moreProps) {\n\t\tconst { onDelete, yCoordinateList } = this.props;\n\t\tonDelete(yCoordinateList[index], moreProps);\n\t}\n\trender() {\n\t\tconst { yCoordinateList } = this.props;\n\t\tconst { override } = this.state;\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t{yCoordinateList.map((each, idx) => {\n\t\t\t\t\tconst props = each;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<EachInteractiveYCoordinate key={each.id}\n\t\t\t\t\t\t\tref={this.saveNodeType(idx)}\n\t\t\t\t\t\t\tindex={idx}\n\t\t\t\t\t\t\t{...props}\n\t\t\t\t\t\t\tselected={each.selected}\n\t\t\t\t\t\t\tyValue={getValueFromOverride(override, idx, \"yValue\", each.yValue)}\n\n\t\t\t\t\t\t\tonDelete={this.handleDelete}\n\t\t\t\t\t\t\tonDrag={this.handleDrag}\n\t\t\t\t\t\t\tonDragComplete={this.handleDragComplete}\n\t\t\t\t\t\t\tedgeInteractiveCursor=\"react-stockcharts-move-cursor\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t);\n\t\t\t\t})}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nInteractiveYCoordinate.propTypes = {\n\tonChoosePosition: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonSelect: PropTypes.func,\n\tonDelete: PropTypes.func,\n\n\tdefaultPriceCoordinate: PropTypes.shape({\n\t\tbgFill: PropTypes.string.isRequired,\n\t\tbgOpacity: PropTypes.number.isRequired,\n\n\t\tstroke: PropTypes.string.isRequired,\n\t\tstrokeDasharray: PropTypes.oneOf(strokeDashTypes).isRequired,\n\t\tstrokeOpacity: PropTypes.number.isRequired,\n\t\tstrokeWidth: PropTypes.number.isRequired,\n\n\t\ttextFill: PropTypes.string.isRequired,\n\t\tfontFamily: PropTypes.string.isRequired,\n\t\tfontWeight: PropTypes.string.isRequired,\n\t\tfontStyle: PropTypes.string.isRequired,\n\t\tfontSize: PropTypes.number.isRequired,\n\t\ttext: PropTypes.string.isRequired,\n\n\t\ttextBox: PropTypes.shape({\n\t\t\theight: PropTypes.number.isRequired,\n\t\t\tleft: PropTypes.number.isRequired,\n\t\t\tpadding: PropTypes.shape({\n\t\t\t\tleft: PropTypes.number.isRequired,\n\t\t\t\tright: PropTypes.number.isRequired,\n\t\t\t}),\n\t\t\tcloseIcon: PropTypes.shape({\n\t\t\t\tpadding: PropTypes.shape({\n\t\t\t\t\tleft: PropTypes.number.isRequired,\n\t\t\t\t\tright: PropTypes.number.isRequired,\n\t\t\t\t}),\n\t\t\t\twidth: PropTypes.number.isRequired,\n\t\t\t})\n\t\t}).isRequired,\n\t\tedge: PropTypes.shape({\n\t\t\tstroke: PropTypes.string.isRequired,\n\t\t\tstrokeOpacity: PropTypes.number.isRequired,\n\t\t\tstrokeWidth: PropTypes.number.isRequired,\n\n\t\t\tfill: PropTypes.string.isRequired,\n\t\t\tfillOpacity: PropTypes.number.isRequired,\n\t\t})\n\t}).isRequired,\n\n\thoverText: PropTypes.object.isRequired,\n\tyCoordinateList: PropTypes.array.isRequired,\n\tenabled: PropTypes.bool.isRequired,\n};\n\nInteractiveYCoordinate.defaultProps = {\n\tonChoosePosition: noop,\n\tonDragComplete: noop,\n\tonSelect: noop,\n\tonDelete: noop,\n\n\tdefaultPriceCoordinate: {\n\t\tbgFill: \"#FFFFFF\",\n\t\tbgOpacity: 1,\n\n\t\tstroke: \"#6574CD\",\n\t\tstrokeOpacity: 1,\n\t\tstrokeDasharray: \"ShortDash2\",\n\t\tstrokeWidth: 1,\n\n\t\ttextFill: \"#6574CD\",\n\t\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\t\tfontSize: 12,\n\t\tfontStyle: \"normal\",\n\t\tfontWeight: \"normal\",\n\t\ttext: \"Alert\",\n\t\ttextBox: {\n\t\t\theight: 24,\n\t\t\tleft: 20,\n\t\t\tpadding: { left: 10, right: 5 },\n\t\t\tcloseIcon: {\n\t\t\t\tpadding: { left: 5, right: 8 },\n\t\t\t\twidth: 8,\n\t\t\t}\n\t\t},\n\t\tedge: {\n\t\t\tstroke: \"#6574CD\",\n\t\t\tstrokeOpacity: 1,\n\t\t\tstrokeWidth: 1,\n\n\t\t\tfill: \"#FFFFFF\",\n\t\t\tfillOpacity: 1,\n\t\t\torient: \"right\",\n\t\t\tat: \"right\",\n\t\t\tarrowWidth: 10,\n\t\t\tdx: 0,\n\t\t\trectWidth: 50,\n\t\t\trectHeight: 20,\n\t\t\tdisplayFormat: format(\".2f\"),\n\t\t}\n\t},\n\thoverText: {\n\t\t...HoverTextNearMouse.defaultProps,\n\t\tenable: true,\n\t\tbgHeight: 18,\n\t\tbgWidth: 175,\n\t\ttext: \"Click and drag the edge circles\",\n\t},\n\tyCoordinateList: [],\n};\n\nInteractiveYCoordinate.contextTypes = {\n\tsubscribe: PropTypes.func.isRequired,\n\tunsubscribe: PropTypes.func.isRequired,\n\tgenerateSubscriptionId: PropTypes.func.isRequired,\n\tchartId: PropTypes.oneOfType([PropTypes.number, PropTypes.string]).isRequired,\n};\n\nexport default InteractiveYCoordinate;\n"]},"metadata":{},"sourceType":"script"}