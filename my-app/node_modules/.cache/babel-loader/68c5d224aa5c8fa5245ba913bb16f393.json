{"ast":null,"code":"import { set } from \"./schedule.js\";\nexport default function () {\n  var on0,\n      on1,\n      that = this,\n      id = that._id,\n      size = that.size();\n  return new Promise(function (resolve, reject) {\n    var cancel = {\n      value: reject\n    },\n        end = {\n      value: function () {\n        if (--size === 0) resolve();\n      }\n    };\n    that.each(function () {\n      var schedule = set(this, id),\n          on = schedule.on; // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n\n        on1._.cancel.push(cancel);\n\n        on1._.interrupt.push(cancel);\n\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    }); // The selection was empty, resolve end immediately\n\n    if (size === 0) resolve();\n  });\n}","map":{"version":3,"sources":["C:/Users/chena/QbitesReact/my-app/node_modules/d3-transition/src/transition/end.js"],"names":["set","on0","on1","that","id","_id","size","Promise","resolve","reject","cancel","value","end","each","schedule","on","copy","_","push","interrupt"],"mappings":"AAAA,SAAQA,GAAR,QAAkB,eAAlB;AAEA,eAAe,YAAW;AACxB,MAAIC,GAAJ;AAAA,MAASC,GAAT;AAAA,MAAcC,IAAI,GAAG,IAArB;AAAA,MAA2BC,EAAE,GAAGD,IAAI,CAACE,GAArC;AAAA,MAA0CC,IAAI,GAAGH,IAAI,CAACG,IAAL,EAAjD;AACA,SAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AAC3C,QAAIC,MAAM,GAAG;AAACC,MAAAA,KAAK,EAAEF;AAAR,KAAb;AAAA,QACIG,GAAG,GAAG;AAACD,MAAAA,KAAK,EAAE,YAAW;AAAE,YAAI,EAAEL,IAAF,KAAW,CAAf,EAAkBE,OAAO;AAAK;AAAnD,KADV;AAGAL,IAAAA,IAAI,CAACU,IAAL,CAAU,YAAW;AACnB,UAAIC,QAAQ,GAAGd,GAAG,CAAC,IAAD,EAAOI,EAAP,CAAlB;AAAA,UACIW,EAAE,GAAGD,QAAQ,CAACC,EADlB,CADmB,CAInB;AACA;AACA;;AACA,UAAIA,EAAE,KAAKd,GAAX,EAAgB;AACdC,QAAAA,GAAG,GAAG,CAACD,GAAG,GAAGc,EAAP,EAAWC,IAAX,EAAN;;AACAd,QAAAA,GAAG,CAACe,CAAJ,CAAMP,MAAN,CAAaQ,IAAb,CAAkBR,MAAlB;;AACAR,QAAAA,GAAG,CAACe,CAAJ,CAAME,SAAN,CAAgBD,IAAhB,CAAqBR,MAArB;;AACAR,QAAAA,GAAG,CAACe,CAAJ,CAAML,GAAN,CAAUM,IAAV,CAAeN,GAAf;AACD;;AAEDE,MAAAA,QAAQ,CAACC,EAAT,GAAcb,GAAd;AACD,KAfD,EAJ2C,CAqB3C;;AACA,QAAII,IAAI,KAAK,CAAb,EAAgBE,OAAO;AACxB,GAvBM,CAAP;AAwBD","sourcesContent":["import {set} from \"./schedule.js\";\r\n\r\nexport default function() {\r\n  var on0, on1, that = this, id = that._id, size = that.size();\r\n  return new Promise(function(resolve, reject) {\r\n    var cancel = {value: reject},\r\n        end = {value: function() { if (--size === 0) resolve(); }};\r\n\r\n    that.each(function() {\r\n      var schedule = set(this, id),\r\n          on = schedule.on;\r\n\r\n      // If this node shared a dispatch with the previous node,\r\n      // just assign the updated shared dispatch and we’re done!\r\n      // Otherwise, copy-on-write.\r\n      if (on !== on0) {\r\n        on1 = (on0 = on).copy();\r\n        on1._.cancel.push(cancel);\r\n        on1._.interrupt.push(cancel);\r\n        on1._.end.push(end);\r\n      }\r\n\r\n      schedule.on = on1;\r\n    });\r\n\r\n    // The selection was empty, resolve end immediately\r\n    if (size === 0) resolve();\r\n  });\r\n}\r\n"]},"metadata":{},"sourceType":"module"}