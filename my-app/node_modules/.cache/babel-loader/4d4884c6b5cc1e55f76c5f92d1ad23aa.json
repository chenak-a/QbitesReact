{"ast":null,"code":"var _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\"; // import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\nimport { last, noop } from \"./utils\";\n\nvar ZoomButtons = function (_Component) {\n  _inherits(ZoomButtons, _Component);\n\n  function ZoomButtons(props) {\n    _classCallCheck(this, ZoomButtons);\n\n    var _this = _possibleConstructorReturn(this, (ZoomButtons.__proto__ || Object.getPrototypeOf(ZoomButtons)).call(this, props));\n\n    _this.handleZoomOut = _this.handleZoomOut.bind(_this);\n    _this.handleZoomIn = _this.handleZoomIn.bind(_this);\n    _this.zoom = _this.zoom.bind(_this);\n    return _this;\n  }\n\n  _createClass(ZoomButtons, [{\n    key: \"zoom\",\n    value: function zoom(direction) {\n      var _this2 = this;\n\n      var _context = this.context,\n          xAxisZoom = _context.xAxisZoom,\n          xScale = _context.xScale,\n          plotData = _context.plotData,\n          xAccessor = _context.xAccessor;\n      var cx = xScale(xAccessor(last(plotData))); // mean(xScale.range());\n\n      var zoomMultiplier = this.props.zoomMultiplier;\n      var c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\n      var _xScale$domain = xScale.domain(),\n          _xScale$domain2 = _slicedToArray(_xScale$domain, 2),\n          start = _xScale$domain2[0],\n          end = _xScale$domain2[1];\n\n      var _xScale$range$map$map = xScale.range().map(function (x) {\n        return cx + (x - cx) * c;\n      }).map(xScale.invert),\n          _xScale$range$map$map2 = _slicedToArray(_xScale$range$map$map, 2),\n          newStart = _xScale$range$map$map2[0],\n          newEnd = _xScale$range$map$map2[1];\n\n      var left = interpolateNumber(start, newStart);\n      var right = interpolateNumber(end, newEnd);\n      var foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(function (i) {\n        return [left(i), right(i)];\n      });\n      this.interval = setInterval(function () {\n        xAxisZoom(foo.shift());\n\n        if (foo.length === 0) {\n          clearInterval(_this2.interval);\n          delete _this2.interval;\n        }\n      }, 10);\n    }\n  }, {\n    key: \"handleZoomOut\",\n    value: function handleZoomOut() {\n      if (this.interval) return;\n      this.zoom(1);\n    }\n  }, {\n    key: \"handleZoomIn\",\n    value: function handleZoomIn() {\n      if (this.interval) return;\n      this.zoom(-1);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var chartConfig = this.context.chartConfig;\n      var width = chartConfig.width,\n          height = chartConfig.height;\n      var _props = this.props,\n          size = _props.size,\n          heightFromBase = _props.heightFromBase,\n          rx = _props.rx,\n          ry = _props.ry;\n      var _props2 = this.props,\n          stroke = _props2.stroke,\n          strokeOpacity = _props2.strokeOpacity,\n          fill = _props2.fill,\n          strokeWidth = _props2.strokeWidth,\n          fillOpacity = _props2.fillOpacity;\n      var _props3 = this.props,\n          textFill = _props3.textFill,\n          textStrokeWidth = _props3.textStrokeWidth;\n      var onReset = this.props.onReset;\n      var centerX = Math.round(width / 2);\n      var y = height - heightFromBase;\n\n      var _size = _slicedToArray(size, 2),\n          w = _size[0],\n          h = _size[1];\n\n      var hLength = 5;\n      var wLength = 6;\n      var textY = Math.round(y + h / 2);\n      var resetX = centerX;\n      var zoomOut = d3Path();\n      var zoomOutX = centerX - w - 2 * strokeWidth;\n      zoomOut.moveTo(zoomOutX - wLength, textY);\n      zoomOut.lineTo(zoomOutX + wLength, textY);\n      zoomOut.closePath();\n      var zoomIn = d3Path();\n      var zoomInX = centerX + w + 2 * strokeWidth;\n      zoomIn.moveTo(zoomInX - wLength, textY);\n      zoomIn.lineTo(zoomInX + wLength, textY);\n      zoomIn.moveTo(zoomInX, textY - hLength);\n      zoomIn.lineTo(zoomInX, textY + hLength); // zoomIn.closePath();\n\n      return React.createElement(\"g\", {\n        className: \"react-stockcharts-zoom-button\"\n      }, React.createElement(\"rect\", {\n        x: zoomOutX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"path\", {\n        d: zoomOut.toString(),\n        stroke: textFill,\n        strokeWidth: textStrokeWidth\n      }), React.createElement(\"rect\", {\n        x: resetX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"g\", {\n        transform: \"translate (\" + resetX + \", \" + (y + h / 4) + \") scale(.14)\"\n      }, React.createElement(\"path\", {\n        d: \"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\",\n        fill: textFill\n      })), React.createElement(\"rect\", {\n        x: zoomInX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: fill,\n        fillOpacity: fillOpacity,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeWidth: strokeWidth\n      }), React.createElement(\"path\", {\n        d: zoomIn.toString(),\n        stroke: textFill,\n        strokeWidth: textStrokeWidth\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction out\",\n        onClick: this.handleZoomOut,\n        x: zoomOutX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction reset\",\n        onClick: onReset,\n        x: resetX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }), React.createElement(\"rect\", {\n        className: \"react-stockcharts-enable-interaction in\",\n        onClick: this.handleZoomIn,\n        x: zoomInX - w / 2,\n        y: y,\n        rx: rx,\n        ry: ry,\n        height: h,\n        width: w,\n        fill: \"none\"\n      }));\n    }\n  }]);\n\n  return ZoomButtons;\n}(Component);\n\nZoomButtons.propTypes = {\n  zoomMultiplier: PropTypes.number.isRequired,\n  size: PropTypes.array.isRequired,\n  heightFromBase: PropTypes.number.isRequired,\n  rx: PropTypes.number.isRequired,\n  ry: PropTypes.number.isRequired,\n  stroke: PropTypes.string.isRequired,\n  strokeWidth: PropTypes.number.isRequired,\n  strokeOpacity: PropTypes.number.isRequired,\n  fill: PropTypes.string.isRequired,\n  fillOpacity: PropTypes.number.isRequired,\n  fontSize: PropTypes.number.isRequired,\n  textDy: PropTypes.string.isRequired,\n  textFill: PropTypes.string.isRequired,\n  textStrokeWidth: PropTypes.number.isRequired,\n  onReset: PropTypes.func\n};\nZoomButtons.defaultProps = {\n  size: [30, 24],\n  heightFromBase: 50,\n  rx: 3,\n  ry: 3,\n  stroke: \"#000000\",\n  strokeOpacity: 0.3,\n  strokeWidth: 1,\n  fill: \"#D6D6D6\",\n  fillOpacity: 0.4,\n  fontSize: 16,\n  textDy: \".3em\",\n  textFill: \"#000000\",\n  textStrokeWidth: 2,\n  zoomMultiplier: 1.5,\n  onReset: noop\n};\nZoomButtons.contextTypes = {\n  xScale: PropTypes.func.isRequired,\n  chartConfig: PropTypes.object.isRequired,\n  plotData: PropTypes.array.isRequired,\n  xAccessor: PropTypes.func.isRequired,\n  xAxisZoom: PropTypes.func.isRequired\n};\nexport default ZoomButtons;","map":{"version":3,"sources":["../../../src/lib/ZoomButtons.js"],"names":["path","ZoomButtons","Component","direction","xAxisZoom","xScale","plotData","xAccessor","cx","last","zoomMultiplier","c","start","end","newStart","newEnd","x","left","interpolateNumber","right","foo","clearInterval","chartConfig","width","height","size","heightFromBase","rx","ry","stroke","strokeOpacity","fill","strokeWidth","fillOpacity","textFill","textStrokeWidth","onReset","centerX","Math","y","w","h","hLength","wLength","textY","resetX","zoomOut","d3Path","zoomOutX","zoomIn","zoomInX","PropTypes","fontSize","textDy","func","noop","isRequired"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,OAAA,KAAA,IAAA,SAAA,QAAA,OAAA;AACA,OAAA,SAAA,MAAA,YAAA,C,CACA;;AAEA,SAASA,IAAAA,IAAT,MAAA,QAAA,SAAA;AACA,SAAA,iBAAA,QAAA,gBAAA;AAEA,SAAA,IAAA,EAAA,IAAA,QAAA,SAAA;;IAEMC,W;;;AACL,WAAA,WAAA,CAAA,KAAA,EAAmB;AAAA,IAAA,eAAA,CAAA,IAAA,EAAA,WAAA,CAAA;;AAAA,QAAA,KAAA,GAAA,0BAAA,CAAA,IAAA,EAAA,CAAA,WAAA,CAAA,SAAA,IAAA,MAAA,CAAA,cAAA,CAAA,WAAA,CAAA,EAAA,IAAA,CAAA,IAAA,EAAA,KAAA,CAAA,CAAA;;AAElB,IAAA,KAAA,CAAA,aAAA,GAAqB,KAAA,CAAA,aAAA,CAAA,IAAA,CAArB,KAAqB,CAArB;AACA,IAAA,KAAA,CAAA,YAAA,GAAoB,KAAA,CAAA,YAAA,CAAA,IAAA,CAApB,KAAoB,CAApB;AACA,IAAA,KAAA,CAAA,IAAA,GAAY,KAAA,CAAA,IAAA,CAAA,IAAA,CAAZ,KAAY,CAAZ;AAJkB,WAAA,KAAA;AAKlB;;;;yBACIE,S,EAAW;AAAA,UAAA,MAAA,GAAA,IAAA;;AAAA,UAAA,QAAA,GACoC,KADpC,OAAA;AAAA,UACPC,SADO,GAAA,QAAA,CAAA,SAAA;AAAA,UACIC,MADJ,GAAA,QAAA,CAAA,MAAA;AAAA,UACYC,QADZ,GAAA,QAAA,CAAA,QAAA;AAAA,UACsBC,SADtB,GAAA,QAAA,CAAA,SAAA;AAEf,UAAMC,EAAAA,GAAKH,MAAAA,CAAOE,SAAAA,CAAUE,IAAAA,CAA5B,QAA4BA,CAAVF,CAAPF,CAAX,CAFe,CAGf;;AAHe,UAIPK,cAJO,GAIY,KAJZ,KAIY,CAJZ,cAAA;AAMf,UAAMC,CAAAA,GAAIR,SAAAA,GAAAA,CAAAA,GAAgB,IAAhBA,cAAAA,GAAqC,IAA/C,cAAA;;AANe,UAAA,cAAA,GAQME,MAAAA,CARN,MAQMA,EARN;AAAA,UAAA,eAAA,GAAA,cAAA,CAAA,cAAA,EAAA,CAAA,CAAA;AAAA,UAQRO,KARQ,GAAA,eAAA,CAAA,CAAA,CAAA;AAAA,UAQDC,GARC,GAAA,eAAA,CAAA,CAAA,CAAA;;AAAA,UAAA,qBAAA,GASY,MAAA,CAAA,KAAA,GAAA,GAAA,CACrB,UAAA,CAAA,EAAA;AAAA,eAAKL,EAAAA,GAAK,CAACQ,CAAAA,GAAD,EAAA,IAAV,CAAA;AADqB,OAAA,EAAA,GAAA,CAErBX,MAAAA,CAXS,MASY,CATZ;AAAA,UAAA,sBAAA,GAAA,cAAA,CAAA,qBAAA,EAAA,CAAA,CAAA;AAAA,UASRS,QATQ,GAAA,sBAAA,CAAA,CAAA,CAAA;AAAA,UASEC,MATF,GAAA,sBAAA,CAAA,CAAA,CAAA;;AAaf,UAAME,IAAAA,GAAOC,iBAAAA,CAAAA,KAAAA,EAAb,QAAaA,CAAb;AACA,UAAMC,KAAAA,GAAQD,iBAAAA,CAAAA,GAAAA,EAAd,MAAcA,CAAd;AAEA,UAAME,GAAAA,GAAM,CAAA,IAAA,EAAA,GAAA,EAAA,GAAA,EAAA,GAAA,EAAA,IAAA,EAAA,CAAA,EAAA,GAAA,CAAmC,UAAA,CAAA,EAAK;AACnD,eAAO,CAACH,IAAAA,CAAD,CAACA,CAAD,EAAUE,KAAAA,CAAjB,CAAiBA,CAAV,CAAP;AADD,OAAY,CAAZ;AAIA,WAAA,QAAA,GAAgB,WAAA,CAAY,YAAM;AACjCf,QAAAA,SAAAA,CAAUgB,GAAAA,CAAVhB,KAAUgB,EAAVhB,CAAAA;;AACA,YAAIgB,GAAAA,CAAAA,MAAAA,KAAJ,CAAA,EAAsB;AACrBC,UAAAA,aAAAA,CAAc,MAAA,CAAdA,QAAAA,CAAAA;AACA,iBAAO,MAAA,CAAP,QAAA;AACA;AALc,OAAA,EAAhB,EAAgB,CAAhB;AAOA;;;oCACe;AACf,UAAI,KAAJ,QAAA,EAAmB;AACnB,WAAA,IAAA,CAAA,CAAA;AACA;;;mCACc;AACd,UAAI,KAAJ,QAAA,EAAmB;AACnB,WAAA,IAAA,CAAU,CAAV,CAAA;AACA;;;6BACQ;AAAA,UACAC,WADA,GACgB,KADhB,OACgB,CADhB,WAAA;AAAA,UAEAC,KAFA,GAEkBD,WAFlB,CAAA,KAAA;AAAA,UAEOE,MAFP,GAEkBF,WAFlB,CAAA,MAAA;AAAA,UAAA,MAAA,GAGiC,KAHjC,KAAA;AAAA,UAGAG,IAHA,GAAA,MAAA,CAAA,IAAA;AAAA,UAGMC,cAHN,GAAA,MAAA,CAAA,cAAA;AAAA,UAGsBC,EAHtB,GAAA,MAAA,CAAA,EAAA;AAAA,UAG0BC,EAH1B,GAAA,MAAA,CAAA,EAAA;AAAA,UAAA,OAAA,GAI0D,KAJ1D,KAAA;AAAA,UAIAC,MAJA,GAAA,OAAA,CAAA,MAAA;AAAA,UAIQC,aAJR,GAAA,OAAA,CAAA,aAAA;AAAA,UAIuBC,IAJvB,GAAA,OAAA,CAAA,IAAA;AAAA,UAI6BC,WAJ7B,GAAA,OAAA,CAAA,WAAA;AAAA,UAI0CC,WAJ1C,GAAA,OAAA,CAAA,WAAA;AAAA,UAAA,OAAA,GAK8B,KAL9B,KAAA;AAAA,UAKAC,QALA,GAAA,OAAA,CAAA,QAAA;AAAA,UAKUC,eALV,GAAA,OAAA,CAAA,eAAA;AAAA,UAMAC,OANA,GAMY,KANZ,KAMY,CANZ,OAAA;AAOR,UAAMC,OAAAA,GAAUC,IAAAA,CAAAA,KAAAA,CAAWf,KAAAA,GAA3B,CAAgBe,CAAhB;AACA,UAAMC,CAAAA,GAAIf,MAAAA,GAAV,cAAA;;AARQ,UAAA,KAAA,GAAA,cAAA,CAAA,IAAA,EAAA,CAAA,CAAA;AAAA,UAUDgB,CAVC,GAAA,KAAA,CAAA,CAAA,CAAA;AAAA,UAUEC,CAVF,GAAA,KAAA,CAAA,CAAA,CAAA;;AAWR,UAAMC,OAAAA,GAAN,CAAA;AACA,UAAMC,OAAAA,GAAN,CAAA;AAEA,UAAMC,KAAAA,GAAQN,IAAAA,CAAAA,KAAAA,CAAWC,CAAAA,GAAIE,CAAAA,GAA7B,CAAcH,CAAd;AAEA,UAAMO,MAAAA,GAAN,OAAA;AAEA,UAAMC,OAAAA,GAAUC,MAAhB,EAAA;AACA,UAAMC,QAAAA,GAAWX,OAAAA,GAAAA,CAAAA,GAAc,IAA/B,WAAA;AACAS,MAAAA,OAAAA,CAAAA,MAAAA,CAAeE,QAAAA,GAAfF,OAAAA,EAAAA,KAAAA;AACAA,MAAAA,OAAAA,CAAAA,MAAAA,CAAeE,QAAAA,GAAfF,OAAAA,EAAAA,KAAAA;AACAA,MAAAA,OAAAA,CAAAA,SAAAA;AAEA,UAAMG,MAAAA,GAASF,MAAf,EAAA;AACA,UAAMG,OAAAA,GAAUb,OAAAA,GAAAA,CAAAA,GAAc,IAA9B,WAAA;AAEAY,MAAAA,MAAAA,CAAAA,MAAAA,CAAcC,OAAAA,GAAdD,OAAAA,EAAAA,KAAAA;AACAA,MAAAA,MAAAA,CAAAA,MAAAA,CAAcC,OAAAA,GAAdD,OAAAA,EAAAA,KAAAA;AAEAA,MAAAA,MAAAA,CAAAA,MAAAA,CAAAA,OAAAA,EAAuBL,KAAAA,GAAvBK,OAAAA;AACAA,MAAAA,MAAAA,CAAAA,MAAAA,CAAAA,OAAAA,EAAuBL,KAAAA,GAAvBK,OAAAA,EA/BQ,CAgCR;;AAEA,aACC,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,QAAA,SAAA,EAAH;AAAA,OAAA,EACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACC,QAAA,CAAA,EAAGD,QAAAA,GAAWR,CAAAA,GADf,CAAA;AAEC,QAAA,CAAA,EAFD,CAAA;AAGC,QAAA,EAAA,EAHD,EAAA;AAIC,QAAA,EAAA,EAJD,EAAA;AAKC,QAAA,MAAA,EALD,CAAA;AAMC,QAAA,KAAA,EAND,CAAA;AAOC,QAAA,IAAA,EAPD,IAAA;AAQC,QAAA,WAAA,EARD,WAAA;AASC,QAAA,MAAA,EATD,MAAA;AAUC,QAAA,aAAA,EAVD,aAAA;AAWC,QAAA,WAAA,EAAaR;AAXd,OAAA,CADD,EAcC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,QAAA,CAAA,EAAGc,OAAAA,CAAT,QAASA,EAAT;AACC,QAAA,MAAA,EADD,QAAA;AAEC,QAAA,WAAA,EAAaX;AAFd,OAAA,CAdD,EAkBC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACC,QAAA,CAAA,EAAGU,MAAAA,GAASL,CAAAA,GADb,CAAA;AAEC,QAAA,CAAA,EAFD,CAAA;AAGC,QAAA,EAAA,EAHD,EAAA;AAIC,QAAA,EAAA,EAJD,EAAA;AAKC,QAAA,MAAA,EALD,CAAA;AAMC,QAAA,KAAA,EAND,CAAA;AAOC,QAAA,IAAA,EAPD,IAAA;AAQC,QAAA,WAAA,EARD,WAAA;AASC,QAAA,MAAA,EATD,MAAA;AAUC,QAAA,aAAA,EAVD,aAAA;AAWC,QAAA,WAAA,EAAaR;AAXd,OAAA,CAlBD,EA+BC,KAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AAAG,QAAA,SAAA,EAAA,gBAAA,MAAA,GAAA,IAAA,IAAoCO,CAAAA,GAAIE,CAAAA,GAAxC,CAAA,IAAH;AAAA,OAAA,EACC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,QAAA,CAAA,EAAN,sOAAA;AACC,QAAA,IAAA,EAAMP;AADP,OAAA,CADD,CA/BD,EAoCC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AACC,QAAA,CAAA,EAAGgB,OAAAA,GAAUV,CAAAA,GADd,CAAA;AAEC,QAAA,CAAA,EAFD,CAAA;AAGC,QAAA,EAAA,EAHD,EAAA;AAIC,QAAA,EAAA,EAJD,EAAA;AAKC,QAAA,MAAA,EALD,CAAA;AAMC,QAAA,KAAA,EAND,CAAA;AAOC,QAAA,IAAA,EAPD,IAAA;AAQC,QAAA,WAAA,EARD,WAAA;AASC,QAAA,MAAA,EATD,MAAA;AAUC,QAAA,aAAA,EAVD,aAAA;AAWC,QAAA,WAAA,EAAaR;AAXd,OAAA,CApCD,EAiDC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,QAAA,CAAA,EAAGiB,MAAAA,CAAT,QAASA,EAAT;AACC,QAAA,MAAA,EADD,QAAA;AAEC,QAAA,WAAA,EAAad;AAFd,OAAA,CAjDD,EAqDC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,QAAA,SAAA,EAAN,0CAAA;AACC,QAAA,OAAA,EAAS,KADV,aAAA;AAEC,QAAA,CAAA,EAAGa,QAAAA,GAAWR,CAAAA,GAFf,CAAA;AAGC,QAAA,CAAA,EAHD,CAAA;AAIC,QAAA,EAAA,EAJD,EAAA;AAKC,QAAA,EAAA,EALD,EAAA;AAMC,QAAA,MAAA,EAND,CAAA;AAOC,QAAA,KAAA,EAPD,CAAA;AAQC,QAAA,IAAA,EAAK;AARN,OAAA,CArDD,EA+DC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,QAAA,SAAA,EAAN,4CAAA;AACC,QAAA,OAAA,EADD,OAAA;AAEC,QAAA,CAAA,EAAGK,MAAAA,GAASL,CAAAA,GAFb,CAAA;AAGC,QAAA,CAAA,EAHD,CAAA;AAIC,QAAA,EAAA,EAJD,EAAA;AAKC,QAAA,EAAA,EALD,EAAA;AAMC,QAAA,MAAA,EAND,CAAA;AAOC,QAAA,KAAA,EAPD,CAAA;AAQC,QAAA,IAAA,EAAK;AARN,OAAA,CA/DD,EAyEC,KAAA,CAAA,aAAA,CAAA,MAAA,EAAA;AAAM,QAAA,SAAA,EAAN,yCAAA;AACC,QAAA,OAAA,EAAS,KADV,YAAA;AAEC,QAAA,CAAA,EAAGU,OAAAA,GAAUV,CAAAA,GAFd,CAAA;AAGC,QAAA,CAAA,EAHD,CAAA;AAIC,QAAA,EAAA,EAJD,EAAA;AAKC,QAAA,EAAA,EALD,EAAA;AAMC,QAAA,MAAA,EAND,CAAA;AAOC,QAAA,KAAA,EAPD,CAAA;AAQC,QAAA,IAAA,EAAK;AARN,OAAA,CAzED,CADD;AAsFA;;;;EAnKwBtC,S;;AAsK1BD,WAAAA,CAAAA,SAAAA,GAAwB;AACvBS,EAAAA,cAAAA,EAAgByC,SAAAA,CAAAA,MAAAA,CADO,UAAA;AAEvB1B,EAAAA,IAAAA,EAAM0B,SAAAA,CAAAA,KAAAA,CAFiB,UAAA;AAGvBzB,EAAAA,cAAAA,EAAgByB,SAAAA,CAAAA,MAAAA,CAHO,UAAA;AAIvBxB,EAAAA,EAAAA,EAAIwB,SAAAA,CAAAA,MAAAA,CAJmB,UAAA;AAKvBvB,EAAAA,EAAAA,EAAIuB,SAAAA,CAAAA,MAAAA,CALmB,UAAA;AAMvBtB,EAAAA,MAAAA,EAAQsB,SAAAA,CAAAA,MAAAA,CANe,UAAA;AAOvBnB,EAAAA,WAAAA,EAAamB,SAAAA,CAAAA,MAAAA,CAPU,UAAA;AAQvBrB,EAAAA,aAAAA,EAAeqB,SAAAA,CAAAA,MAAAA,CARQ,UAAA;AASvBpB,EAAAA,IAAAA,EAAMoB,SAAAA,CAAAA,MAAAA,CATiB,UAAA;AAUvBlB,EAAAA,WAAAA,EAAakB,SAAAA,CAAAA,MAAAA,CAVU,UAAA;AAWvBC,EAAAA,QAAAA,EAAUD,SAAAA,CAAAA,MAAAA,CAXa,UAAA;AAYvBE,EAAAA,MAAAA,EAAQF,SAAAA,CAAAA,MAAAA,CAZe,UAAA;AAavBjB,EAAAA,QAAAA,EAAUiB,SAAAA,CAAAA,MAAAA,CAba,UAAA;AAcvBhB,EAAAA,eAAAA,EAAiBgB,SAAAA,CAAAA,MAAAA,CAdM,UAAA;AAevBf,EAAAA,OAAAA,EAASe,SAAAA,CAAUG;AAfI,CAAxBrD;AAkBAA,WAAAA,CAAAA,YAAAA,GAA2B;AAC1BwB,EAAAA,IAAAA,EAAM,CAAA,EAAA,EADoB,EACpB,CADoB;AAE1BC,EAAAA,cAAAA,EAF0B,EAAA;AAG1BC,EAAAA,EAAAA,EAH0B,CAAA;AAI1BC,EAAAA,EAAAA,EAJ0B,CAAA;AAK1BC,EAAAA,MAAAA,EAL0B,SAAA;AAM1BC,EAAAA,aAAAA,EAN0B,GAAA;AAO1BE,EAAAA,WAAAA,EAP0B,CAAA;AAQ1BD,EAAAA,IAAAA,EAR0B,SAAA;AAS1BE,EAAAA,WAAAA,EAT0B,GAAA;AAU1BmB,EAAAA,QAAAA,EAV0B,EAAA;AAW1BC,EAAAA,MAAAA,EAX0B,MAAA;AAY1BnB,EAAAA,QAAAA,EAZ0B,SAAA;AAa1BC,EAAAA,eAAAA,EAb0B,CAAA;AAc1BzB,EAAAA,cAAAA,EAd0B,GAAA;AAe1B0B,EAAAA,OAAAA,EAASmB;AAfiB,CAA3BtD;AAkBAA,WAAAA,CAAAA,YAAAA,GAA2B;AAC1BI,EAAAA,MAAAA,EAAQ8C,SAAAA,CAAAA,IAAAA,CADkB,UAAA;AAE1B7B,EAAAA,WAAAA,EAAa6B,SAAAA,CAAAA,MAAAA,CAFa,UAAA;AAG1B7C,EAAAA,QAAAA,EAAU6C,SAAAA,CAAAA,KAAAA,CAHgB,UAAA;AAI1B5C,EAAAA,SAAAA,EAAW4C,SAAAA,CAAAA,IAAAA,CAJe,UAAA;AAK1B/C,EAAAA,SAAAA,EAAW+C,SAAAA,CAAAA,IAAAA,CAAeK;AALA,CAA3BvD;AAQA,eAAA,WAAA","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n// import { mean } from \"d3-array\";\n\nimport { path as d3Path } from \"d3-path\";\nimport { interpolateNumber } from \"d3-interpolate\";\n\nimport { last, noop } from \"./utils\";\n\nclass ZoomButtons extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.handleZoomOut = this.handleZoomOut.bind(this);\n\t\tthis.handleZoomIn = this.handleZoomIn.bind(this);\n\t\tthis.zoom = this.zoom.bind(this);\n\t}\n\tzoom(direction) {\n\t\tconst { xAxisZoom, xScale, plotData, xAccessor } = this.context;\n\t\tconst cx = xScale(xAccessor(last(plotData)));\n\t\t// mean(xScale.range());\n\t\tconst { zoomMultiplier } = this.props;\n\n\t\tconst c = direction > 0 ? 1 * zoomMultiplier : 1 / zoomMultiplier;\n\n\t\tconst [start, end] = xScale.domain();\n\t\tconst [newStart, newEnd] = xScale.range()\n\t\t\t.map(x => cx + (x - cx) * c)\n\t\t\t.map(xScale.invert);\n\n\t\tconst left = interpolateNumber(start, newStart);\n\t\tconst right = interpolateNumber(end, newEnd);\n\n\t\tconst foo = [0.25, 0.3, 0.5, 0.6, 0.75, 1].map(i => {\n\t\t\treturn [left(i), right(i)];\n\t\t});\n\n\t\tthis.interval = setInterval(() => {\n\t\t\txAxisZoom(foo.shift());\n\t\t\tif (foo.length === 0) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tdelete this.interval;\n\t\t\t}\n\t\t}, 10);\n\t}\n\thandleZoomOut() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(1);\n\t}\n\thandleZoomIn() {\n\t\tif (this.interval) return;\n\t\tthis.zoom(-1);\n\t}\n\trender() {\n\t\tconst { chartConfig } = this.context;\n\t\tconst { width, height } = chartConfig;\n\t\tconst { size, heightFromBase, rx, ry } = this.props;\n\t\tconst { stroke, strokeOpacity, fill, strokeWidth, fillOpacity } = this.props;\n\t\tconst { textFill, textStrokeWidth } = this.props;\n\t\tconst { onReset } = this.props;\n\t\tconst centerX = Math.round(width / 2);\n\t\tconst y = height - heightFromBase;\n\n\t\tconst [w, h] = size;\n\t\tconst hLength = 5;\n\t\tconst wLength = 6;\n\n\t\tconst textY = Math.round(y + h / 2);\n\n\t\tconst resetX = centerX;\n\n\t\tconst zoomOut = d3Path();\n\t\tconst zoomOutX = centerX - w - 2 * strokeWidth;\n\t\tzoomOut.moveTo(zoomOutX - wLength, textY);\n\t\tzoomOut.lineTo(zoomOutX + wLength, textY);\n\t\tzoomOut.closePath();\n\n\t\tconst zoomIn = d3Path();\n\t\tconst zoomInX = centerX + w + 2 * strokeWidth;\n\n\t\tzoomIn.moveTo(zoomInX - wLength, textY);\n\t\tzoomIn.lineTo(zoomInX + wLength, textY);\n\n\t\tzoomIn.moveTo(zoomInX, textY - hLength);\n\t\tzoomIn.lineTo(zoomInX, textY + hLength);\n\t\t// zoomIn.closePath();\n\n\t\treturn (\n\t\t\t<g className=\"react-stockcharts-zoom-button\">\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomOut.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<g transform={`translate (${resetX}, ${y + h / 4}) scale(.14)`}>\n\t\t\t\t\t<path d=\"M31 13C23.4 5.3 12.8.5 1.1.5c-23.3 0-42.3 19-42.3 42.5s18.9 42.5 42.3 42.5c13.8 0 26-6.6 33.7-16.9l-16.5-1.8C13.5 70.4 7.5 72.5 1 72.5c-16.2 0-29.3-13.2-29.3-29.4S-15.2 13.7 1 13.7c8.1 0 15.4 3.3 20.7 8.6l-10.9 11h32.5V.5L31 13z\"\n\t\t\t\t\t\tfill={textFill}\n\t\t\t\t\t/>\n\t\t\t\t</g>\n\t\t\t\t<rect\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill={fill}\n\t\t\t\t\tfillOpacity={fillOpacity}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t/>\n\t\t\t\t<path d={zoomIn.toString()}\n\t\t\t\t\tstroke={textFill}\n\t\t\t\t\tstrokeWidth={textStrokeWidth}\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction out\"\n\t\t\t\t\tonClick={this.handleZoomOut}\n\t\t\t\t\tx={zoomOutX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction reset\"\n\t\t\t\t\tonClick={onReset}\n\t\t\t\t\tx={resetX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t\t<rect className=\"react-stockcharts-enable-interaction in\"\n\t\t\t\t\tonClick={this.handleZoomIn}\n\t\t\t\t\tx={zoomInX - w / 2}\n\t\t\t\t\ty={y}\n\t\t\t\t\trx={rx}\n\t\t\t\t\try={ry}\n\t\t\t\t\theight={h}\n\t\t\t\t\twidth={w}\n\t\t\t\t\tfill=\"none\"\n\t\t\t\t/>\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nZoomButtons.propTypes = {\n\tzoomMultiplier: PropTypes.number.isRequired,\n\tsize: PropTypes.array.isRequired,\n\theightFromBase: PropTypes.number.isRequired,\n\trx: PropTypes.number.isRequired,\n\try: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tfill: PropTypes.string.isRequired,\n\tfillOpacity: PropTypes.number.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\ttextDy: PropTypes.string.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\ttextStrokeWidth: PropTypes.number.isRequired,\n\tonReset: PropTypes.func,\n};\n\nZoomButtons.defaultProps = {\n\tsize: [30, 24],\n\theightFromBase: 50,\n\trx: 3,\n\try: 3,\n\tstroke: \"#000000\",\n\tstrokeOpacity: 0.3,\n\tstrokeWidth: 1,\n\tfill: \"#D6D6D6\",\n\tfillOpacity: 0.4,\n\tfontSize: 16,\n\ttextDy: \".3em\",\n\ttextFill: \"#000000\",\n\ttextStrokeWidth: 2,\n\tzoomMultiplier: 1.5,\n\tonReset: noop,\n};\n\nZoomButtons.contextTypes = {\n\txScale: PropTypes.func.isRequired,\n\tchartConfig: PropTypes.object.isRequired,\n\tplotData: PropTypes.array.isRequired,\n\txAccessor: PropTypes.func.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nexport default ZoomButtons;\n"]},"metadata":{},"sourceType":"module"}