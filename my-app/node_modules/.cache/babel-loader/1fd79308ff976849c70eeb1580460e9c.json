{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d3Format = require(\"d3-format\");\n\nvar _d3TimeFormat = require(\"d3-time-format\");\n\nvar _displayValuesFor = require(\"./displayValuesFor\");\n\nvar _displayValuesFor2 = _interopRequireDefault(_displayValuesFor);\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _utils = require(\"../utils\");\n\nvar _ToolTipText = require(\"./ToolTipText\");\n\nvar _ToolTipText2 = _interopRequireDefault(_ToolTipText);\n\nvar _ToolTipTSpanLabel = require(\"./ToolTipTSpanLabel\");\n\nvar _ToolTipTSpanLabel2 = _interopRequireDefault(_ToolTipTSpanLabel);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar OHLCTooltip = function (_Component) {\n  _inherits(OHLCTooltip, _Component);\n\n  function OHLCTooltip(props) {\n    _classCallCheck(this, OHLCTooltip);\n\n    var _this = _possibleConstructorReturn(this, (OHLCTooltip.__proto__ || Object.getPrototypeOf(OHLCTooltip)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    return _this;\n  }\n\n  _createClass(OHLCTooltip, [{\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var displayValuesFor = this.props.displayValuesFor;\n      var _props = this.props,\n          xDisplayFormat = _props.xDisplayFormat,\n          accessor = _props.accessor,\n          volumeFormat = _props.volumeFormat,\n          ohlcFormat = _props.ohlcFormat,\n          percentFormat = _props.percentFormat,\n          displayTexts = _props.displayTexts;\n      var _moreProps$chartConfi = moreProps.chartConfig,\n          width = _moreProps$chartConfi.width,\n          height = _moreProps$chartConfi.height;\n      var displayXAccessor = moreProps.displayXAccessor;\n      var currentItem = displayValuesFor(this.props, moreProps);\n      var displayDate = void 0,\n          open = void 0,\n          high = void 0,\n          low = void 0,\n          close = void 0,\n          volume = void 0,\n          percent = void 0;\n      displayDate = open = high = low = close = volume = percent = displayTexts.na;\n\n      if ((0, _utils.isDefined)(currentItem) && (0, _utils.isDefined)(accessor(currentItem))) {\n        var item = accessor(currentItem);\n        volume = (0, _utils.isDefined)(item.volume) ? volumeFormat(item.volume) : displayTexts.na;\n        displayDate = xDisplayFormat(displayXAccessor(item));\n        open = ohlcFormat(item.open);\n        high = ohlcFormat(item.high);\n        low = ohlcFormat(item.low);\n        close = ohlcFormat(item.close);\n        percent = percentFormat((item.close - item.open) / item.open);\n      }\n\n      var originProp = this.props.origin;\n      var origin = (0, _utils.functor)(originProp);\n\n      var _origin = origin(width, height),\n          _origin2 = _slicedToArray(_origin, 2),\n          x = _origin2[0],\n          y = _origin2[1];\n\n      var itemsToDisplay = {\n        displayDate: displayDate,\n        open: open,\n        high: high,\n        low: low,\n        close: close,\n        percent: percent,\n        volume: volume,\n        x: x,\n        y: y\n      };\n      return this.props.children(this.props, moreProps, itemsToDisplay);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        clip: false,\n        svgDraw: this.renderSVG,\n        drawOn: [\"mousemove\"]\n      });\n    }\n  }]);\n\n  return OHLCTooltip;\n}(_react.Component);\n\nOHLCTooltip.propTypes = {\n  className: _propTypes2.default.string,\n  accessor: _propTypes2.default.func,\n  xDisplayFormat: _propTypes2.default.func,\n  children: _propTypes2.default.func,\n  volumeFormat: _propTypes2.default.func,\n  percentFormat: _propTypes2.default.func,\n  ohlcFormat: _propTypes2.default.func,\n  origin: _propTypes2.default.oneOfType([_propTypes2.default.array, _propTypes2.default.func]),\n  fontFamily: _propTypes2.default.string,\n  fontSize: _propTypes2.default.number,\n  onClick: _propTypes2.default.func,\n  displayValuesFor: _propTypes2.default.func,\n  textFill: _propTypes2.default.string,\n  labelFill: _propTypes2.default.string,\n  displayTexts: _propTypes2.default.object\n};\nvar displayTextsDefault = {\n  d: \"Date: \",\n  o: \" O: \",\n  h: \" H: \",\n  l: \" L: \",\n  c: \" C: \",\n  v: \" Vol: \",\n  na: \"n/a\"\n};\nOHLCTooltip.defaultProps = {\n  accessor: function accessor(d) {\n    return {\n      date: d.date,\n      open: d.open,\n      high: d.high,\n      low: d.low,\n      close: d.close,\n      volume: d.volume\n    };\n  },\n  xDisplayFormat: (0, _d3TimeFormat.timeFormat)(\"%Y-%m-%d\"),\n  volumeFormat: (0, _d3Format.format)(\".4s\"),\n  percentFormat: (0, _d3Format.format)(\".2%\"),\n  ohlcFormat: (0, _d3Format.format)(\".2f\"),\n  displayValuesFor: _displayValuesFor2.default,\n  origin: [0, 0],\n  children: defaultDisplay,\n  displayTexts: displayTextsDefault\n};\n\nfunction defaultDisplay(props, moreProps, itemsToDisplay) {\n  /* eslint-disable */\n  var className = props.className,\n      textFill = props.textFill,\n      labelFill = props.labelFill,\n      onClick = props.onClick,\n      fontFamily = props.fontFamily,\n      fontSize = props.fontSize,\n      displayTexts = props.displayTexts;\n  /* eslint-enable */\n\n  var displayDate = itemsToDisplay.displayDate,\n      open = itemsToDisplay.open,\n      high = itemsToDisplay.high,\n      low = itemsToDisplay.low,\n      close = itemsToDisplay.close,\n      volume = itemsToDisplay.volume,\n      x = itemsToDisplay.x,\n      y = itemsToDisplay.y;\n  return _react2.default.createElement(\"g\", {\n    className: \"react-stockcharts-tooltip-hover \" + className,\n    transform: \"translate(\" + x + \", \" + y + \")\",\n    onClick: onClick\n  }, _react2.default.createElement(_ToolTipText2.default, {\n    x: 0,\n    y: 0,\n    fontFamily: fontFamily,\n    fontSize: fontSize\n  }, _react2.default.createElement(_ToolTipTSpanLabel2.default, {\n    fill: labelFill,\n    key: \"label\",\n    x: 0,\n    dy: \"5\"\n  }, displayTexts.d), _react2.default.createElement(\"tspan\", {\n    key: \"value\",\n    fill: textFill\n  }, displayDate), _react2.default.createElement(_ToolTipTSpanLabel2.default, {\n    fill: labelFill,\n    key: \"label_O\"\n  }, displayTexts.o), _react2.default.createElement(\"tspan\", {\n    key: \"value_O\",\n    fill: textFill\n  }, open), _react2.default.createElement(_ToolTipTSpanLabel2.default, {\n    fill: labelFill,\n    key: \"label_H\"\n  }, displayTexts.h), _react2.default.createElement(\"tspan\", {\n    key: \"value_H\",\n    fill: textFill\n  }, high), _react2.default.createElement(_ToolTipTSpanLabel2.default, {\n    fill: labelFill,\n    key: \"label_L\"\n  }, displayTexts.l), _react2.default.createElement(\"tspan\", {\n    key: \"value_L\",\n    fill: textFill\n  }, low), _react2.default.createElement(_ToolTipTSpanLabel2.default, {\n    fill: labelFill,\n    key: \"label_C\"\n  }, displayTexts.c), _react2.default.createElement(\"tspan\", {\n    key: \"value_C\",\n    fill: textFill\n  }, close), _react2.default.createElement(_ToolTipTSpanLabel2.default, {\n    fill: labelFill,\n    key: \"label_Vol\"\n  }, displayTexts.v), _react2.default.createElement(\"tspan\", {\n    key: \"value_Vol\",\n    fill: textFill\n  }, volume)));\n}\n\nexports.default = OHLCTooltip;","map":{"version":3,"sources":["../../../src/lib/tooltip/OHLCTooltip.js"],"names":["OHLCTooltip","moreProps","displayValuesFor","xDisplayFormat","accessor","volumeFormat","ohlcFormat","percentFormat","displayTexts","width","height","displayXAccessor","currentItem","displayDate","open","high","low","close","volume","percent","item","originProp","origin","x","y","itemsToDisplay","className","children","fontFamily","fontSize","onClick","textFill","labelFill","object","displayTextsDefault","d","o","h","l","c","v","na","date","props"],"mappings":"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","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { format } from \"d3-format\";\nimport { timeFormat } from \"d3-time-format\";\nimport displayValuesFor from \"./displayValuesFor\";\nimport GenericChartComponent from \"../GenericChartComponent\";\n\nimport { isDefined, functor } from \"../utils\";\nimport ToolTipText from \"./ToolTipText\";\nimport ToolTipTSpanLabel from \"./ToolTipTSpanLabel\";\n\nclass OHLCTooltip extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { displayValuesFor } = this.props;\n\t\tconst {\n\t\t\txDisplayFormat,\n\t\t\taccessor,\n\t\t\tvolumeFormat,\n\t\t\tohlcFormat,\n\t\t\tpercentFormat,\n\t\t\tdisplayTexts\n\t\t} = this.props;\n\n\t\tconst { chartConfig: { width, height } } = moreProps;\n\t\tconst { displayXAccessor } = moreProps;\n\n\t\tconst currentItem = displayValuesFor(this.props, moreProps);\n\n\t\tlet displayDate, open, high, low, close, volume, percent;\n\t\tdisplayDate = open = high = low = close = volume = percent = displayTexts.na;\n\n\t\tif (isDefined(currentItem) && isDefined(accessor(currentItem))) {\n\t\t\tconst item = accessor(currentItem);\n\t\t\tvolume = isDefined(item.volume) ? volumeFormat(item.volume) : displayTexts.na;\n\n\t\t\tdisplayDate = xDisplayFormat(displayXAccessor(item));\n\t\t\topen = ohlcFormat(item.open);\n\t\t\thigh = ohlcFormat(item.high);\n\t\t\tlow = ohlcFormat(item.low);\n\t\t\tclose = ohlcFormat(item.close);\n\t\t\tpercent = percentFormat((item.close - item.open) / item.open);\n\t\t}\n\n\t\tconst { origin: originProp } = this.props;\n\t\tconst origin = functor(originProp);\n\t\tconst [x, y] = origin(width, height);\n\n\t\tconst itemsToDisplay = {\n\t\t\tdisplayDate,\n\t\t\topen,\n\t\t\thigh,\n\t\t\tlow,\n\t\t\tclose,\n\t\t\tpercent,\n\t\t\tvolume,\n\t\t\tx,\n\t\t\ty\n\t\t};\n\t\treturn this.props.children(this.props, moreProps, itemsToDisplay);\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<GenericChartComponent\n\t\t\t\tclip={false}\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tdrawOn={[\"mousemove\"]}\n\t\t\t/>\n\t\t);\n\t}\n}\n\nOHLCTooltip.propTypes = {\n\tclassName: PropTypes.string,\n\taccessor: PropTypes.func,\n\txDisplayFormat: PropTypes.func,\n\tchildren: PropTypes.func,\n\tvolumeFormat: PropTypes.func,\n\tpercentFormat: PropTypes.func,\n\tohlcFormat: PropTypes.func,\n\torigin: PropTypes.oneOfType([PropTypes.array, PropTypes.func]),\n\tfontFamily: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tonClick: PropTypes.func,\n\tdisplayValuesFor: PropTypes.func,\n\ttextFill: PropTypes.string,\n\tlabelFill: PropTypes.string,\n\tdisplayTexts: PropTypes.object,\n};\n\nconst displayTextsDefault = {\n\td: \"Date: \",\n\to: \" O: \",\n\th: \" H: \",\n\tl: \" L: \",\n\tc: \" C: \",\n\tv: \" Vol: \",\n\tna: \"n/a\"\n};\n\nOHLCTooltip.defaultProps = {\n\taccessor: d => {\n\t\treturn {\n\t\t\tdate: d.date,\n\t\t\topen: d.open,\n\t\t\thigh: d.high,\n\t\t\tlow: d.low,\n\t\t\tclose: d.close,\n\t\t\tvolume: d.volume\n\t\t};\n\t},\n\txDisplayFormat: timeFormat(\"%Y-%m-%d\"),\n\tvolumeFormat: format(\".4s\"),\n\tpercentFormat: format(\".2%\"),\n\tohlcFormat: format(\".2f\"),\n\tdisplayValuesFor: displayValuesFor,\n\torigin: [0, 0],\n\tchildren: defaultDisplay,\n\tdisplayTexts: displayTextsDefault,\n};\n\nfunction defaultDisplay(props, moreProps, itemsToDisplay) {\n\n\t/* eslint-disable */\n\tconst {\n\t\tclassName,\n\t\ttextFill,\n\t\tlabelFill,\n\t\tonClick,\n\t\tfontFamily,\n\t\tfontSize,\n\t\tdisplayTexts\n\t} = props;\n\t/* eslint-enable */\n\n\tconst {\n\t\tdisplayDate,\n\t\topen,\n\t\thigh,\n\t\tlow,\n\t\tclose,\n\t\tvolume,\n\t\tx,\n\t\ty\n\t} = itemsToDisplay;\n\treturn (\n\t\t<g\n\t\t\tclassName={`react-stockcharts-tooltip-hover ${className}`}\n\t\t\ttransform={`translate(${x}, ${y})`}\n\t\t\tonClick={onClick}\n\t\t>\n\t\t\t<ToolTipText\n\t\t\t\tx={0}\n\t\t\t\ty={0}\n\t\t\t\tfontFamily={fontFamily}\n\t\t\t\tfontSize={fontSize}\n\t\t\t>\n\t\t\t\t<ToolTipTSpanLabel\n\t\t\t\t\tfill={labelFill}\n\t\t\t\t\tkey=\"label\"\n\t\t\t\t\tx={0}\n\t\t\t\t\tdy=\"5\">{displayTexts.d}</ToolTipTSpanLabel>\n\t\t\t\t<tspan key=\"value\" fill={textFill}>{displayDate}</tspan>\n\t\t\t\t<ToolTipTSpanLabel fill={labelFill} key=\"label_O\">{displayTexts.o}</ToolTipTSpanLabel>\n\t\t\t\t<tspan key=\"value_O\" fill={textFill}>{open}</tspan>\n\t\t\t\t<ToolTipTSpanLabel fill={labelFill} key=\"label_H\">{displayTexts.h}</ToolTipTSpanLabel>\n\t\t\t\t<tspan key=\"value_H\" fill={textFill}>{high}</tspan>\n\t\t\t\t<ToolTipTSpanLabel fill={labelFill} key=\"label_L\">{displayTexts.l}</ToolTipTSpanLabel>\n\t\t\t\t<tspan key=\"value_L\" fill={textFill}>{low}</tspan>\n\t\t\t\t<ToolTipTSpanLabel fill={labelFill} key=\"label_C\">{displayTexts.c}</ToolTipTSpanLabel>\n\t\t\t\t<tspan key=\"value_C\" fill={textFill}>{close}</tspan>\n\t\t\t\t<ToolTipTSpanLabel fill={labelFill} key=\"label_Vol\">{displayTexts.v}</ToolTipTSpanLabel>\n\t\t\t\t<tspan key=\"value_Vol\" fill={textFill}>{volume}</tspan>\n\t\t\t</ToolTipText>\n\t\t</g>\n\t);\n}\n\nexport default OHLCTooltip;\n"]},"metadata":{},"sourceType":"script"}