{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/chena/reactgun/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/chena/reactgun/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/chena/reactgun/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Card,Button,Alert}from\"react-bootstrap\";import{useAuth}from\"./AuthContexte\";import{Link,useHistory}from\"react-router-dom\";import{useQuery}from\"urql\";import{client,ssrCache}from\"./urqlClient\";import Graphs from\"./graphh\";import{TypeChooser}from\"react-stockcharts/lib/helper\";import{useDetectAdBlock}from\"adblock-detect-react\";import{AdBlockDetectedWrapper}from\"adblock-detect-react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TodosQuery=\"\\nquery {\\n  crypto {\\n    name\\n    time\\n\\t\\tdata{\\n    hcl{\\n      opentime\\n      Open\\n      High\\n      Low\\n      Close\\n    \\tVolume\\n      \\n    }\\n      formula{\\n        rsi\\n        rsiK\\n        rsiD\\n        aroonu\\n        aroond\\n        macd\\n        histogram\\n      }\\n      ai{\\n        bigmome{\\n          BUY2\\n          BUY1\\n          ambi\\n        }\\n        sell{\\n          amb0\\n          amb1\\n          amb2\\n          amb3\\n          amb99\\n        }\\n        smallmome{\\n          amo\\n          ci\\n        }\\n        buy{\\n          ambb\\n          ambb5\\n          ww6\\n          ww7\\n        }\\n        mome{\\n          amb14\\n          amb15\\n          amb13\\n          amb55\\n        }\\n        other{\\n          amo\\n          amo1\\n        }\\n      }\\n    }\\n  }\\n}\\n\";export default function Dashboard(){var adBlockDetected=useDetectAdBlock();var _useQuery=useQuery({query:TodosQuery}),_useQuery2=_slicedToArray(_useQuery,2),result=_useQuery2[0],reexecuteQuery=_useQuery2[1];var data=result.data,fetching=result.fetching,err=result.err;var refresh=function refresh(){// Refetch the query and skip the cache\nreexecuteQuery({requestPolicy:'cache-and-network'});};var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser,logout=_useAuth.logout;var history=useHistory();function handleLogout(){return _handleLogout.apply(this,arguments);}function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(\"\");_context.prev=1;_context.next=4;return logout();case 4:history.push(\"/\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(\"Failed to log out\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleLogout.apply(this,arguments);}useEffect(function(){var interval=setInterval(function(){refresh();},9000);return function(){return clearInterval(interval);};});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-center mb-4\",children:!fetching&&data!=null?data.crypto.map(function(data){return data.name+\" \"+data.time;}):\"Profile\"}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Button,{variant:\"link\",onClick:handleLogout,children:\"Back\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100 text-center mt-2\",children:[/*#__PURE__*/_jsx(AdBlockDetectedWrapper,{children:/*#__PURE__*/_jsx(\"div\",{children:\"please disable adblock\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"pre\",{children:data==null||adBlockDetected?\"loading\":data.crypto.map(function(data){return/*#__PURE__*/_jsx(Graphs,{data:data},\"{data}\");})})})]})]});}","map":{"version":3,"sources":["C:/Users/chena/reactgun/my-app/src/Dasbord.js"],"names":["React","useState","useEffect","Card","Button","Alert","useAuth","Link","useHistory","useQuery","client","ssrCache","Graphs","TypeChooser","useDetectAdBlock","AdBlockDetectedWrapper","TodosQuery","Dashboard","adBlockDetected","query","result","reexecuteQuery","data","fetching","err","refresh","requestPolicy","error","setError","currentUser","logout","history","handleLogout","push","interval","setInterval","clearInterval","crypto","map","name","time"],"mappings":"4bAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,KAAvB,KAAoC,iBAApC,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,QAAT,KAAyB,MAAzB,CACA,OAASC,MAAT,CAAiBC,QAAjB,KAAiC,cAAjC,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,OAASC,WAAT,KAA4B,8BAA5B,CACA,OAASC,gBAAT,KAAiC,sBAAjC,CACA,OAASC,sBAAT,KAAuC,sBAAvC,C,6IAGA,GAAMC,CAAAA,UAAU,0yBAAhB,CA8DA,cAAe,SAASC,CAAAA,SAAT,EAAqB,CAElC,GAAMC,CAAAA,eAAe,CAAGJ,gBAAgB,EAAxC,CAEE,cAAiCL,QAAQ,CAAC,CACtCU,KAAK,CAAEH,UAD+B,CAAD,CAAzC,wCAAOI,MAAP,eAAeC,cAAf,eAGE,GAAQC,CAAAA,IAAR,CAAgCF,MAAhC,CAAQE,IAAR,CAAcC,QAAd,CAAgCH,MAAhC,CAAcG,QAAd,CAAwBC,GAAxB,CAAgCJ,MAAhC,CAAwBI,GAAxB,CAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CACpB;AACAJ,cAAc,CAAC,CAAEK,aAAa,CAAE,mBAAjB,CAAD,CAAd,CACD,CAHD,CAKF,cAA0BzB,QAAQ,CAAC,EAAD,CAAlC,wCAAO0B,KAAP,eAAcC,QAAd,eACA,aAAgCtB,OAAO,EAAvC,CAAQuB,WAAR,UAAQA,WAAR,CAAqBC,MAArB,UAAqBA,MAArB,CACA,GAAMC,CAAAA,OAAO,CAAGvB,UAAU,EAA1B,CAhBgC,QAkBjBwB,CAAAA,YAlBiB,8IAkBhC,mIACIJ,QAAQ,CAAC,EAAD,CAAR,CADJ,sCAIcE,CAAAA,MAAM,EAJpB,QAKQC,OAAO,CAACE,IAAR,CAAa,GAAb,EALR,+EAOQL,QAAQ,CAAC,mBAAD,CAAR,CAPR,oEAlBgC,+CA4BhC1B,SAAS,CAAC,UAAM,CAEd,GAAMgC,CAAAA,QAAQ,CAAGC,WAAW,CAAC,UAAM,CAEjCV,OAAO,GAER,CAJ2B,CAIzB,IAJyB,CAA5B,CAKA,MAAO,kBAAMW,CAAAA,aAAa,CAACF,QAAD,CAAnB,EAAP,CACD,CARQ,CAAT,CASA,mBACI,wCACI,KAAC,IAAD,wBAEI,MAAC,IAAD,CAAM,IAAN,yBACI,WAAI,SAAS,CAAC,kBAAd,UAAkC,CAACX,QAAD,EAAaD,IAAI,EAAI,IAArB,CAA4BA,IAAI,CAACe,MAAL,CAAYC,GAAZ,CAAgB,SAAAhB,IAAI,QAAIA,CAAAA,IAAI,CAACiB,IAAL,CAAY,GAAZ,CAAgBjB,IAAI,CAACkB,IAAzB,EAApB,CAA5B,CAAiF,SAAnH,EADJ,CAEKb,KAAK,eAAI,KAAC,KAAD,EAAO,OAAO,CAAC,QAAf,UAAyBA,KAAzB,EAFd,cAII,KAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAEK,YAAhC,kBAJJ,GAFJ,EADJ,cAcI,aAAK,SAAS,CAAC,wBAAf,wBACA,KAAC,sBAAD,wBACE,qBAAM,wBAAN,EADF,EADA,cAKA,kCAAM,qBAAQV,IAAI,EAAI,IAAR,EAAgBJ,eAAhB,CAAmC,SAAnC,CAAgDI,IAAI,CAACe,MAAL,CAAYC,GAAZ,CAAgB,SAAAhB,IAAI,qBAAI,KAAC,MAAD,EAAqB,IAAI,CAAGA,IAA5B,EAAY,QAAZ,CAAJ,EAApB,CAAxD,EAAN,EALA,GAdJ,GADJ,CAyBH","sourcesContent":["import React, { useState ,useEffect } from \"react\"\r\nimport { Card, Button, Alert } from \"react-bootstrap\"\r\nimport { useAuth } from \"./AuthContexte\"\r\nimport { Link, useHistory } from \"react-router-dom\"\r\nimport { useQuery } from \"urql\";\r\nimport { client, ssrCache } from \"./urqlClient\";\r\nimport Graphs from \"./graphh\"\r\nimport { TypeChooser } from \"react-stockcharts/lib/helper\";\r\nimport { useDetectAdBlock } from \"adblock-detect-react\";\r\nimport { AdBlockDetectedWrapper } from \"adblock-detect-react\";\r\n\r\n \r\nconst TodosQuery = `\r\nquery {\r\n  crypto {\r\n    name\r\n    time\r\n\t\tdata{\r\n    hcl{\r\n      opentime\r\n      Open\r\n      High\r\n      Low\r\n      Close\r\n    \tVolume\r\n      \r\n    }\r\n      formula{\r\n        rsi\r\n        rsiK\r\n        rsiD\r\n        aroonu\r\n        aroond\r\n        macd\r\n        histogram\r\n      }\r\n      ai{\r\n        bigmome{\r\n          BUY2\r\n          BUY1\r\n          ambi\r\n        }\r\n        sell{\r\n          amb0\r\n          amb1\r\n          amb2\r\n          amb3\r\n          amb99\r\n        }\r\n        smallmome{\r\n          amo\r\n          ci\r\n        }\r\n        buy{\r\n          ambb\r\n          ambb5\r\n          ww6\r\n          ww7\r\n        }\r\n        mome{\r\n          amb14\r\n          amb15\r\n          amb13\r\n          amb55\r\n        }\r\n        other{\r\n          amo\r\n          amo1\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n`;\r\nexport default function Dashboard() {\r\n \r\n  const adBlockDetected = useDetectAdBlock();\r\n \r\n    const [result, reexecuteQuery] = useQuery({\r\n        query: TodosQuery,\r\n      });\r\n      const { data, fetching, err } = result;\r\n      \r\n      const refresh = () => {\r\n        // Refetch the query and skip the cache\r\n        reexecuteQuery({ requestPolicy: 'cache-and-network' });\r\n      };\r\n    \r\n    const [error, setError] = useState(\"\")\r\n    const { currentUser, logout } = useAuth()\r\n    const history = useHistory()\r\n    \r\n    async function handleLogout() {\r\n        setError(\"\")\r\n\r\n        try {\r\n            await logout()\r\n            history.push(\"/\")\r\n        } catch {\r\n            setError(\"Failed to log out\")\r\n        }\r\n    }\r\n    useEffect(() => {\r\n     \r\n      const interval = setInterval(() => {\r\n       \r\n        refresh()\r\n\r\n      }, 9000);\r\n      return () => clearInterval(interval);\r\n    }, );\r\n    return (\r\n        <>\r\n            <Card>\r\n            \r\n                <Card.Body>\r\n                    <h2 className=\"text-center mb-4\">{!fetching && data != null?  data.crypto.map(data => data.name + \" \"+data.time) : \"Profile\" }</h2>\r\n                    {error && <Alert variant=\"danger\">{error}</Alert>}\r\n                  \r\n                    <Button variant=\"link\" onClick={handleLogout}>\r\n                    Back\r\n                    </Button>\r\n                    \r\n                </Card.Body>\r\n              \r\n            </Card>\r\n            <div className=\"w-100 text-center mt-2\">\r\n            <AdBlockDetectedWrapper>\r\n              <div>{\"please disable adblock\"}</div>\r\n          </AdBlockDetectedWrapper>\r\n      \r\n            <div ><pre >{ data == null || adBlockDetected ?  \"loading\" :  data.crypto.map(data => <Graphs key=\"{data}\" data ={data} />) }</pre></div>\r\n   \r\n            </div>\r\n        </>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}