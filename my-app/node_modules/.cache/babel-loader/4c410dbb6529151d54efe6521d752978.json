{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _utils = require(\"../utils\");\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar CurrentCoordinate = function (_Component) {\n  _inherits(CurrentCoordinate, _Component);\n\n  function CurrentCoordinate(props) {\n    _classCallCheck(this, CurrentCoordinate);\n\n    var _this = _possibleConstructorReturn(this, (CurrentCoordinate.__proto__ || Object.getPrototypeOf(CurrentCoordinate)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n\n  _createClass(CurrentCoordinate, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var circle = helper(this.props, moreProps);\n      if (!circle) return null;\n      ctx.fillStyle = circle.fill;\n      ctx.beginPath();\n      ctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n      ctx.fill();\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var className = this.props.className;\n      var circle = helper(this.props, moreProps);\n      if (!circle) return null;\n      var fillColor = circle.fill instanceof Function ? circle.fill(moreProps.currentItem) : circle.fill;\n      return _react2.default.createElement(\"circle\", {\n        className: className,\n        cx: circle.x,\n        cy: circle.y,\n        r: circle.r,\n        fill: fillColor\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\"]\n      });\n    }\n  }]);\n\n  return CurrentCoordinate;\n}(_react.Component);\n\nCurrentCoordinate.propTypes = {\n  yAccessor: _propTypes2.default.func,\n  r: _propTypes2.default.number.isRequired,\n  className: _propTypes2.default.string\n};\nCurrentCoordinate.defaultProps = {\n  r: 3,\n  className: \"react-stockcharts-current-coordinate\"\n};\n\nfunction helper(props, moreProps) {\n  var fill = props.fill,\n      yAccessor = props.yAccessor,\n      r = props.r;\n  var show = moreProps.show,\n      xScale = moreProps.xScale,\n      yScale = moreProps.chartConfig.yScale,\n      currentItem = moreProps.currentItem,\n      xAccessor = moreProps.xAccessor; // console.log(show);\n\n  if (!show || (0, _utils.isNotDefined)(currentItem)) return null;\n  var xValue = xAccessor(currentItem);\n  var yValue = yAccessor(currentItem);\n  if ((0, _utils.isNotDefined)(yValue)) return null; // console.log(chartConfig);\n\n  var x = Math.round(xScale(xValue));\n  var y = Math.round(yScale(yValue));\n  return {\n    x: x,\n    y: y,\n    r: r,\n    fill: fill\n  };\n}\n\nexports.default = CurrentCoordinate;","map":{"version":3,"mappings":"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","names":["CurrentCoordinate","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","ctx","moreProps","circle","helper","fillStyle","fill","beginPath","arc","x","y","r","Math","PI","className","fillColor","Function","currentItem","_react2","cx","cy","svgDraw","canvasDraw","canvasToDraw","drawOn","propTypes","yAccessor","_propTypes2","func","number","isRequired","string","defaultProps","show","xScale","yScale","chartConfig","xAccessor","xValue","yValue","round"],"sources":["../../../src/lib/coordinates/CurrentCoordinate.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { isNotDefined } from \"../utils\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nclass CurrentCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst circle = helper(this.props, moreProps);\n\t\tif (!circle) return null;\n\n\t\tctx.fillStyle = circle.fill;\n\t\tctx.beginPath();\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\t\tctx.fill();\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { className } = this.props;\n\n\t\tconst circle = helper(this.props, moreProps);\n\t\tif (!circle) return null;\n\n\t\tconst fillColor = circle.fill instanceof Function ? circle.fill(moreProps.currentItem) : circle.fill;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={fillColor} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\"]}\n\t\t/>;\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nfunction helper(props, moreProps) {\n\tconst { fill, yAccessor, r } = props;\n\n\tconst { show, xScale, chartConfig: { yScale }, currentItem, xAccessor } = moreProps;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tconst xValue = xAccessor(currentItem);\n\tconst yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tconst x = Math.round(xScale(xValue));\n\tconst y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n}\n\nexport default CurrentCoordinate;\n"]},"metadata":{},"sourceType":"script"}