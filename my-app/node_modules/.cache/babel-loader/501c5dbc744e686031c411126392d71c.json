{"ast":null,"code":"var _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { isDefined, getLogger } from \"./utils\";\nvar log = getLogger(\"CanvasContainer\");\n\nvar CanvasContainer = function (_Component) {\n  _inherits(CanvasContainer, _Component);\n\n  function CanvasContainer(props) {\n    _classCallCheck(this, CanvasContainer);\n\n    var _this = _possibleConstructorReturn(this, (CanvasContainer.__proto__ || Object.getPrototypeOf(CanvasContainer)).call(this, props));\n\n    _this.setDrawCanvas = _this.setDrawCanvas.bind(_this);\n    _this.drawCanvas = {};\n    return _this;\n  }\n\n  _createClass(CanvasContainer, [{\n    key: \"setDrawCanvas\",\n    value: function setDrawCanvas(node) {\n      if (isDefined(node)) this.drawCanvas[node.id] = node.getContext(\"2d\");else this.drawCanvas = {};\n    }\n  }, {\n    key: \"getCanvasContexts\",\n    value: function getCanvasContexts() {\n      if (isDefined(this.drawCanvas.axes)) {\n        return this.drawCanvas;\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props = this.props,\n          height = _props.height,\n          width = _props.width,\n          type = _props.type,\n          zIndex = _props.zIndex,\n          ratio = _props.ratio;\n      if (type === \"svg\") return null;\n      log(\"using ratio \", ratio);\n      return React.createElement(\"div\", {\n        style: {\n          position: \"absolute\",\n          zIndex: zIndex\n        }\n      }, React.createElement(\"canvas\", {\n        id: \"bg\",\n        ref: this.setDrawCanvas,\n        width: width * ratio,\n        height: height * ratio,\n        style: {\n          position: \"absolute\",\n          width: width,\n          height: height\n        }\n      }), React.createElement(\"canvas\", {\n        id: \"axes\",\n        ref: this.setDrawCanvas,\n        width: width * ratio,\n        height: height * ratio,\n        style: {\n          position: \"absolute\",\n          width: width,\n          height: height\n        }\n      }), React.createElement(\"canvas\", {\n        id: \"mouseCoord\",\n        ref: this.setDrawCanvas,\n        width: width * ratio,\n        height: height * ratio,\n        style: {\n          position: \"absolute\",\n          width: width,\n          height: height\n        }\n      }));\n    }\n  }]);\n\n  return CanvasContainer;\n}(Component);\n/*\n\t\t\t\t<canvas id=\"hover\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n*/\n\n\nCanvasContainer.propTypes = {\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  type: PropTypes.string.isRequired,\n  zIndex: PropTypes.number,\n  ratio: PropTypes.number.isRequired\n};\nexport default CanvasContainer;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AAEA,SAASC,SAAT,EAAoBC,SAApB,QAAqC,SAArC;AAEA,IAAMC,MAAMD,UAAU,iBAAVA,CAAZ;;IAEME,e;;;EACL,yBAAYC,KAAZ,EAAmB;IAAAC;;IAAA,8HACZD,KADY;;IAElBE,MAAKC,aAAL,GAAqBD,MAAKC,aAAL,CAAmBC,IAAnB,OAArB;IACAF,MAAKG,UAAL,GAAkB,EAAlB;IAHkB;EAIlB;;;;kCACaC,MAAM;MACnB,IAAIV,UAAUU,IAAVV,CAAJ,EACC,KAAKS,UAAL,CAAgBC,KAAKC,EAArB,IAA2BD,KAAKE,UAALF,CAAgB,IAAhBA,CAA3B,CADD,KAGC,KAAKD,UAAL,GAAkB,EAAlB;IACD;;;wCACmB;MACnB,IAAIT,UAAU,KAAKS,UAAL,CAAgBI,IAA1Bb,CAAJ,EAAqC;QACpC,OAAO,KAAKS,UAAZ;MACA;IACD;;;6BACQ;MAAA,aACuC,KAAKL,KAD5C;MAAA,IACAU,MADA,UACAA,MADA;MAAA,IACQC,KADR,UACQA,KADR;MAAA,IACeC,IADf,UACeA,IADf;MAAA,IACqBC,MADrB,UACqBA,MADrB;MAAA,IAC6BC,KAD7B,UAC6BA,KAD7B;MAER,IAAIF,SAAS,KAAb,EAAoB,OAAO,IAAP;MAEpBd,IAAI,cAAJA,EAAoBgB,KAApBhB;MAEA,OACCL;QAAKsB,OAAO;UAAEC,UAAU,UAAZ;UAAwBH,QAAQA;QAAhC;MAAZ,GACCpB;QAAQc,IAAG,IAAX;QAAgBU,KAAK,KAAKd,aAA1B;QAAyCQ,OAAOA,QAAQG,KAAxD;QAA+DJ,QAAQA,SAASI,KAAhF;QACCC,OAAO;UAAEC,UAAU,UAAZ;UAAwBL,OAAOA,KAA/B;UAAsCD,QAAQA;QAA9C;MADR,EADD,EAGCjB;QAAQc,IAAG,MAAX;QAAkBU,KAAK,KAAKd,aAA5B;QAA2CQ,OAAOA,QAAQG,KAA1D;QAAiEJ,QAAQA,SAASI,KAAlF;QACCC,OAAO;UAAEC,UAAU,UAAZ;UAAwBL,OAAOA,KAA/B;UAAsCD,QAAQA;QAA9C;MADR,EAHD,EAKCjB;QAAQc,IAAG,YAAX;QAAwBU,KAAK,KAAKd,aAAlC;QAAiDQ,OAAOA,QAAQG,KAAhE;QAAuEJ,QAAQA,SAASI,KAAxF;QACCC,OAAO;UAAEC,UAAU,UAAZ;UAAwBL,OAAOA,KAA/B;UAAsCD,QAAQA;QAA9C;MADR,EALD,CADD;IAUA;;;;EAjC4BhB,S;AAmC9B;;;;;;AAIAK,gBAAgBmB,SAAhBnB,GAA4B;EAC3BY,OAAOhB,UAAUwB,MAAVxB,CAAiByB,UADG;EAE3BV,QAAQf,UAAUwB,MAAVxB,CAAiByB,UAFE;EAG3BR,MAAMjB,UAAU0B,MAAV1B,CAAiByB,UAHI;EAI3BP,QAAQlB,UAAUwB,MAJS;EAK3BL,OAAOnB,UAAUwB,MAAVxB,CAAiByB;AALG,CAA5BrB;AAQA,eAAeA,eAAf","names":["React","Component","PropTypes","isDefined","getLogger","log","CanvasContainer","props","_classCallCheck","_this","setDrawCanvas","bind","drawCanvas","node","id","getContext","axes","height","width","type","zIndex","ratio","style","position","ref","propTypes","number","isRequired","string"],"sources":["../../../src/lib/CanvasContainer.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { isDefined, getLogger } from \"./utils\";\n\nconst log = getLogger(\"CanvasContainer\");\n\nclass CanvasContainer extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.setDrawCanvas = this.setDrawCanvas.bind(this);\n\t\tthis.drawCanvas = {};\n\t}\n\tsetDrawCanvas(node) {\n\t\tif (isDefined(node))\n\t\t\tthis.drawCanvas[node.id] = node.getContext(\"2d\");\n\t\telse\n\t\t\tthis.drawCanvas = {};\n\t}\n\tgetCanvasContexts() {\n\t\tif (isDefined(this.drawCanvas.axes)) {\n\t\t\treturn this.drawCanvas;\n\t\t}\n\t}\n\trender() {\n\t\tconst { height, width, type, zIndex, ratio } = this.props;\n\t\tif (type === \"svg\") return null;\n\n\t\tlog(\"using ratio \", ratio);\n\n\t\treturn (\n\t\t\t<div style={{ position: \"absolute\", zIndex: zIndex }}>\n\t\t\t\t<canvas id=\"bg\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t\t<canvas id=\"axes\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t\t<canvas id=\"mouseCoord\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n\t\t\t</div>\n\t\t);\n\t}\n}\n/*\n\t\t\t\t<canvas id=\"hover\" ref={this.setDrawCanvas} width={width * ratio} height={height * ratio}\n\t\t\t\t\tstyle={{ position: \"absolute\", width: width, height: height }} />\n*/\nCanvasContainer.propTypes = {\n\twidth: PropTypes.number.isRequired,\n\theight: PropTypes.number.isRequired,\n\ttype: PropTypes.string.isRequired,\n\tzIndex: PropTypes.number,\n\tratio: PropTypes.number.isRequired,\n};\n\nexport default CanvasContainer;\n"]},"metadata":{},"sourceType":"module"}