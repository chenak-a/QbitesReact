{"ast":null,"code":"import * as React from 'react';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\n/** Always debounce error to avoid [error -> null -> error] blink */\n\nexport default function useCacheErrors(errors, changeTrigger, directly) {\n  var cacheRef = React.useRef({\n    errors: errors,\n    visible: !!errors.length\n  });\n  var forceUpdate = useForceUpdate();\n\n  var update = function update() {\n    var prevVisible = cacheRef.current.visible;\n    var newVisible = !!errors.length;\n    var prevErrors = cacheRef.current.errors;\n    cacheRef.current.errors = errors;\n    cacheRef.current.visible = newVisible;\n\n    if (prevVisible !== newVisible) {\n      changeTrigger(newVisible);\n    } else if (prevErrors.length !== errors.length || prevErrors.some(function (prevErr, index) {\n      return prevErr !== errors[index];\n    })) {\n      forceUpdate();\n    }\n  };\n\n  React.useEffect(function () {\n    if (!directly) {\n      var timeout = setTimeout(update, 10);\n      return function () {\n        return clearTimeout(timeout);\n      };\n    }\n  }, [errors]);\n\n  if (directly) {\n    update();\n  }\n\n  return [cacheRef.current.visible, cacheRef.current.errors];\n}","map":{"version":3,"names":["React","useForceUpdate","useCacheErrors","errors","changeTrigger","directly","cacheRef","useRef","visible","length","forceUpdate","update","prevVisible","current","newVisible","prevErrors","some","prevErr","index","useEffect","timeout","setTimeout","clearTimeout"],"sources":["/home/chenak/QbitesReact/my-app/node_modules/antd/es/form/hooks/useCacheErrors.js"],"sourcesContent":["import * as React from 'react';\nimport useForceUpdate from '../../_util/hooks/useForceUpdate';\n/** Always debounce error to avoid [error -> null -> error] blink */\n\nexport default function useCacheErrors(errors, changeTrigger, directly) {\n  var cacheRef = React.useRef({\n    errors: errors,\n    visible: !!errors.length\n  });\n  var forceUpdate = useForceUpdate();\n\n  var update = function update() {\n    var prevVisible = cacheRef.current.visible;\n    var newVisible = !!errors.length;\n    var prevErrors = cacheRef.current.errors;\n    cacheRef.current.errors = errors;\n    cacheRef.current.visible = newVisible;\n\n    if (prevVisible !== newVisible) {\n      changeTrigger(newVisible);\n    } else if (prevErrors.length !== errors.length || prevErrors.some(function (prevErr, index) {\n      return prevErr !== errors[index];\n    })) {\n      forceUpdate();\n    }\n  };\n\n  React.useEffect(function () {\n    if (!directly) {\n      var timeout = setTimeout(update, 10);\n      return function () {\n        return clearTimeout(timeout);\n      };\n    }\n  }, [errors]);\n\n  if (directly) {\n    update();\n  }\n\n  return [cacheRef.current.visible, cacheRef.current.errors];\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AACA;;AAEA,eAAe,SAASC,cAAT,CAAwBC,MAAxB,EAAgCC,aAAhC,EAA+CC,QAA/C,EAAyD;EACtE,IAAIC,QAAQ,GAAGN,KAAK,CAACO,MAAN,CAAa;IAC1BJ,MAAM,EAAEA,MADkB;IAE1BK,OAAO,EAAE,CAAC,CAACL,MAAM,CAACM;EAFQ,CAAb,CAAf;EAIA,IAAIC,WAAW,GAAGT,cAAc,EAAhC;;EAEA,IAAIU,MAAM,GAAG,SAASA,MAAT,GAAkB;IAC7B,IAAIC,WAAW,GAAGN,QAAQ,CAACO,OAAT,CAAiBL,OAAnC;IACA,IAAIM,UAAU,GAAG,CAAC,CAACX,MAAM,CAACM,MAA1B;IACA,IAAIM,UAAU,GAAGT,QAAQ,CAACO,OAAT,CAAiBV,MAAlC;IACAG,QAAQ,CAACO,OAAT,CAAiBV,MAAjB,GAA0BA,MAA1B;IACAG,QAAQ,CAACO,OAAT,CAAiBL,OAAjB,GAA2BM,UAA3B;;IAEA,IAAIF,WAAW,KAAKE,UAApB,EAAgC;MAC9BV,aAAa,CAACU,UAAD,CAAb;IACD,CAFD,MAEO,IAAIC,UAAU,CAACN,MAAX,KAAsBN,MAAM,CAACM,MAA7B,IAAuCM,UAAU,CAACC,IAAX,CAAgB,UAAUC,OAAV,EAAmBC,KAAnB,EAA0B;MAC1F,OAAOD,OAAO,KAAKd,MAAM,CAACe,KAAD,CAAzB;IACD,CAFiD,CAA3C,EAEH;MACFR,WAAW;IACZ;EACF,CAdD;;EAgBAV,KAAK,CAACmB,SAAN,CAAgB,YAAY;IAC1B,IAAI,CAACd,QAAL,EAAe;MACb,IAAIe,OAAO,GAAGC,UAAU,CAACV,MAAD,EAAS,EAAT,CAAxB;MACA,OAAO,YAAY;QACjB,OAAOW,YAAY,CAACF,OAAD,CAAnB;MACD,CAFD;IAGD;EACF,CAPD,EAOG,CAACjB,MAAD,CAPH;;EASA,IAAIE,QAAJ,EAAc;IACZM,MAAM;EACP;;EAED,OAAO,CAACL,QAAQ,CAACO,OAAT,CAAiBL,OAAlB,EAA2BF,QAAQ,CAACO,OAAT,CAAiBV,MAA5C,CAAP;AACD"},"metadata":{},"sourceType":"module"}