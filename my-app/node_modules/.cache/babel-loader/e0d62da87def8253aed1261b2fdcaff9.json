{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _OverlayBarSeries = require(\"./OverlayBarSeries\");\n\nvar _OverlayBarSeries2 = _interopRequireDefault(_OverlayBarSeries);\n\nvar _StraightLine = require(\"./StraightLine\");\n\nvar _StraightLine2 = _interopRequireDefault(_StraightLine);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ElderRaySeries = function (_Component) {\n  _inherits(ElderRaySeries, _Component);\n\n  function ElderRaySeries(props) {\n    _classCallCheck(this, ElderRaySeries);\n\n    var _this = _possibleConstructorReturn(this, (ElderRaySeries.__proto__ || Object.getPrototypeOf(ElderRaySeries)).call(this, props));\n\n    _this.fillForEachBar = _this.fillForEachBar.bind(_this);\n    _this.yAccessorTop = _this.yAccessorTop.bind(_this);\n    _this.yAccessorBullTop = _this.yAccessorBullTop.bind(_this);\n    _this.yAccessorBearTop = _this.yAccessorBearTop.bind(_this);\n    _this.yAccessorBullBottom = _this.yAccessorBullBottom.bind(_this);\n    _this.yAccessorBearBottom = _this.yAccessorBearBottom.bind(_this);\n    _this.yAccessorForBarBase = _this.yAccessorForBarBase.bind(_this);\n    return _this;\n  }\n\n  _createClass(ElderRaySeries, [{\n    key: \"yAccessorTop\",\n    value: function yAccessorTop(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n    }\n  }, {\n    key: \"yAccessorBullTop\",\n    value: function yAccessorBullTop(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n    }\n  }, {\n    key: \"yAccessorBearTop\",\n    value: function yAccessorBearTop(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n    }\n  }, {\n    key: \"yAccessorBullBottom\",\n    value: function yAccessorBullBottom(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n    }\n  }, {\n    key: \"yAccessorBearBottom\",\n    value: function yAccessorBearBottom(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bullPower < 0 || yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n      ? Math.min(0, yAccessor(d).bullPower) : undefined);\n    }\n  }, {\n    key: \"yAccessorForBarBase\",\n    value: function yAccessorForBarBase(xScale, yScale, d) {\n      var yAccessor = this.props.yAccessor;\n      var y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n      return yScale(y);\n    }\n  }, {\n    key: \"fillForEachBar\",\n    value: function fillForEachBar(d, yAccessorNumber) {\n      var _props = this.props,\n          bullPowerFill = _props.bullPowerFill,\n          bearPowerFill = _props.bearPowerFill;\n      return yAccessorNumber % 2 === 0 ? bullPowerFill : bearPowerFill;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          className = _props2.className,\n          opacity = _props2.opacity,\n          stroke = _props2.stroke,\n          straightLineStroke = _props2.straightLineStroke,\n          straightLineOpacity = _props2.straightLineOpacity,\n          widthRatio = _props2.widthRatio;\n      var clip = this.props.clip;\n      return _react2.default.createElement(\"g\", {\n        className: className\n      }, _react2.default.createElement(_OverlayBarSeries2.default, {\n        baseAt: this.yAccessorForBarBase,\n        className: \"react-stockcharts-elderray-bar\",\n        stroke: stroke,\n        fill: this.fillForEachBar,\n        opacity: opacity,\n        widthRatio: widthRatio,\n        clip: clip,\n        yAccessor: [this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]\n      }), _react2.default.createElement(_StraightLine2.default, {\n        className: \"react-stockcharts-elderray-straight-line\",\n        yValue: 0,\n        stroke: straightLineStroke,\n        opacity: straightLineOpacity\n      }));\n    }\n  }]);\n\n  return ElderRaySeries;\n}(_react.Component);\n\nElderRaySeries.propTypes = {\n  className: _propTypes2.default.string,\n  yAccessor: _propTypes2.default.func,\n  opacity: _propTypes2.default.number,\n  stroke: _propTypes2.default.bool,\n  bullPowerFill: _propTypes2.default.string,\n  bearPowerFill: _propTypes2.default.string,\n  straightLineStroke: _propTypes2.default.string,\n  straightLineOpacity: _propTypes2.default.number,\n  widthRatio: _propTypes2.default.number,\n  clip: _propTypes2.default.bool.isRequired\n};\nElderRaySeries.defaultProps = {\n  className: \"react-stockcharts-elderray-series\",\n  straightLineStroke: \"#000000\",\n  straightLineOpacity: 0.3,\n  opacity: 0.5,\n  stroke: true,\n  bullPowerFill: \"#6BA583\",\n  bearPowerFill: \"#FF0000\",\n  widthRatio: 0.8,\n  clip: true\n};\nexports.default = ElderRaySeries;","map":{"version":3,"sources":["../../../src/lib/series/ElderRaySeries.js"],"names":["ElderRaySeries","d","yAccessor","Math","xScale","yScale","y","yAccessorNumber","bullPowerFill","bearPowerFill","className","opacity","stroke","straightLineStroke","straightLineOpacity","widthRatio","clip","isRequired"],"mappings":"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","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport OverlayBarSeries from \"./OverlayBarSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass ElderRaySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.fillForEachBar = this.fillForEachBar.bind(this);\n\t\tthis.yAccessorTop = this.yAccessorTop.bind(this);\n\t\tthis.yAccessorBullTop = this.yAccessorBullTop.bind(this);\n\t\tthis.yAccessorBearTop = this.yAccessorBearTop.bind(this);\n\t\tthis.yAccessorBullBottom = this.yAccessorBullBottom.bind(this);\n\t\tthis.yAccessorBearBottom = this.yAccessorBearBottom.bind(this);\n\t\tthis.yAccessorForBarBase = this.yAccessorForBarBase.bind(this);\n\t}\n\tyAccessorTop(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n\t}\n\tyAccessorBullTop(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n\t}\n\tyAccessorBearTop(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n\t}\n\tyAccessorBullBottom(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n\t}\n\tyAccessorBearBottom(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0\n\t\t\t\t|| yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n\t\t\t? Math.min(0, yAccessor(d).bullPower) : undefined);\n\t}\n\tyAccessorForBarBase(xScale, yScale, d) {\n\t\tconst { yAccessor } = this.props;\n\t\tconst y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n\t\treturn yScale(y);\n\t}\n\tfillForEachBar(d, yAccessorNumber) {\n\t\tconst { bullPowerFill, bearPowerFill } = this.props;\n\t\treturn yAccessorNumber % 2 === 0 ? bullPowerFill : bearPowerFill;\n\t}\n\trender() {\n\t\tconst { className, opacity, stroke,\n\t\t\tstraightLineStroke,\n\t\t\tstraightLineOpacity,\n\t\t\twidthRatio\n\t\t} = this.props;\n\t\tconst { clip } = this.props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<OverlayBarSeries\n\t\t\t\t\tbaseAt={this.yAccessorForBarBase}\n\t\t\t\t\tclassName=\"react-stockcharts-elderray-bar\"\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tfill={this.fillForEachBar}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\twidthRatio={widthRatio}\n\t\t\t\t\tclip={clip}\n\t\t\t\t\tyAccessor={[this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]} />\n\t\t\t\t<StraightLine\n\t\t\t\t\tclassName=\"react-stockcharts-elderray-straight-line\"\n\t\t\t\t\tyValue={0}\n\t\t\t\t\tstroke={straightLineStroke}\n\t\t\t\t\topacity={straightLineOpacity} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nElderRaySeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func,\n\topacity: PropTypes.number,\n\tstroke: PropTypes.bool,\n\tbullPowerFill: PropTypes.string,\n\tbearPowerFill: PropTypes.string,\n\tstraightLineStroke: PropTypes.string,\n\tstraightLineOpacity: PropTypes.number,\n\twidthRatio: PropTypes.number,\n\tclip: PropTypes.bool.isRequired,\n};\n\nElderRaySeries.defaultProps = {\n\tclassName: \"react-stockcharts-elderray-series\",\n\tstraightLineStroke: \"#000000\",\n\tstraightLineOpacity: 0.3,\n\topacity: 0.5,\n\tstroke: true,\n\tbullPowerFill: \"#6BA583\",\n\tbearPowerFill: \"#FF0000\",\n\twidthRatio: 0.8,\n\tclip: true,\n};\n\nexport default ElderRaySeries;\n"]},"metadata":{},"sourceType":"script"}