{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GenericChartComponent = require(\"../../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../../GenericComponent\");\n\nvar _utils = require(\"../../utils\");\n\nvar _ChartDataUtil = require(\"../../utils/ChartDataUtil\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar MouseLocationIndicator = function (_Component) {\n  _inherits(MouseLocationIndicator, _Component);\n\n  function MouseLocationIndicator(props) {\n    _classCallCheck(this, MouseLocationIndicator);\n\n    var _this = _possibleConstructorReturn(this, (MouseLocationIndicator.__proto__ || Object.getPrototypeOf(MouseLocationIndicator)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    _this.handleMousePosChange = _this.handleMousePosChange.bind(_this);\n    _this.handleMouseDown = _this.handleMouseDown.bind(_this);\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.xy = _this.xy.bind(_this);\n    _this.mutableState = {};\n    return _this;\n  }\n\n  _createClass(MouseLocationIndicator, [{\n    key: \"handleMouseDown\",\n    value: function handleMouseDown(moreProps, e) {\n      var pos = this.xy(moreProps, e);\n\n      if ((0, _utils.isDefined)(pos)) {\n        var xValue = pos.xValue,\n            yValue = pos.yValue,\n            x = pos.x,\n            y = pos.y;\n        this.mutableState = {\n          x: x,\n          y: y\n        };\n        this.props.onMouseDown([xValue, yValue], moreProps, e);\n      }\n    }\n  }, {\n    key: \"handleClick\",\n    value: function handleClick(moreProps, e) {\n      var pos = this.xy(moreProps, e);\n\n      if ((0, _utils.isDefined)(pos)) {\n        var xValue = pos.xValue,\n            yValue = pos.yValue,\n            x = pos.x,\n            y = pos.y;\n        this.mutableState = {\n          x: x,\n          y: y\n        };\n        this.props.onClick([xValue, yValue], moreProps, e);\n      }\n    }\n  }, {\n    key: \"xy\",\n    value: function xy(moreProps, e) {\n      var xAccessor = moreProps.xAccessor,\n          plotData = moreProps.plotData;\n      var mouseXY = moreProps.mouseXY,\n          currentItem = moreProps.currentItem,\n          xScale = moreProps.xScale,\n          yScale = moreProps.chartConfig.yScale;\n      var _props = this.props,\n          enabled = _props.enabled,\n          snap = _props.snap,\n          shouldDisableSnap = _props.shouldDisableSnap,\n          snapTo = _props.snapTo;\n\n      if (enabled && (0, _utils.isDefined)(currentItem) && (0, _utils.isDefined)(e)) {\n        var xValue = snap && !shouldDisableSnap(e) ? xAccessor(currentItem) : (0, _ChartDataUtil.getXValue)(xScale, xAccessor, mouseXY, plotData);\n        var yValue = snap && !shouldDisableSnap(e) ? (0, _utils.getClosestValue)(snapTo(currentItem), yScale.invert(mouseXY[1])) : yScale.invert(mouseXY[1]);\n        var x = xScale(xValue);\n        var y = yScale(yValue);\n        return {\n          xValue: xValue,\n          yValue: yValue,\n          x: x,\n          y: y\n        };\n      }\n    }\n  }, {\n    key: \"handleMousePosChange\",\n    value: function handleMousePosChange(moreProps, e) {\n      if (!(0, _utils.shallowEqual)(moreProps.mousXY, moreProps.prevMouseXY)) {\n        var pos = this.xy(moreProps, e);\n\n        if ((0, _utils.isDefined)(pos)) {\n          var xValue = pos.xValue,\n              yValue = pos.yValue,\n              x = pos.x,\n              y = pos.y;\n          this.mutableState = {\n            x: x,\n            y: y\n          };\n          this.props.onMouseMove([xValue, yValue], e);\n        }\n      }\n    }\n  }, {\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var _props2 = this.props,\n          enabled = _props2.enabled,\n          r = _props2.r,\n          stroke = _props2.stroke,\n          strokeWidth = _props2.strokeWidth;\n      var _mutableState = this.mutableState,\n          x = _mutableState.x,\n          y = _mutableState.y;\n      var show = moreProps.show; // console.log(show)\n\n      if (enabled && show && (0, _utils.isDefined)(x)) {\n        ctx.lineWidth = strokeWidth;\n        ctx.strokeStyle = stroke;\n        ctx.moveTo(x, y);\n        ctx.beginPath();\n        ctx.arc(x, y, r, 0, 2 * Math.PI, false);\n        ctx.stroke(); // ctx.fill();\n      }\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var _props3 = this.props,\n          enabled = _props3.enabled,\n          r = _props3.r,\n          stroke = _props3.stroke,\n          strokeWidth = _props3.strokeWidth,\n          opacity = _props3.opacity;\n      var _mutableState2 = this.mutableState,\n          x = _mutableState2.x,\n          y = _mutableState2.y;\n      var show = moreProps.show; // console.log(\"HERE\")\n      // console.log(stroke, strokeWidth, opacity)\n\n      return enabled && show && (0, _utils.isDefined)(x) ? _react2.default.createElement(\"circle\", {\n        cx: x,\n        cy: y,\n        r: r,\n        stroke: stroke,\n        opacity: opacity,\n        fill: \"none\",\n        strokeWidth: strokeWidth\n      }) : null;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props4 = this.props,\n          enabled = _props4.enabled,\n          disablePan = _props4.disablePan;\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        onMouseDown: this.handleMouseDown,\n        onClick: this.handleClick,\n        onContextMenu: this.handleContextMenu,\n        onMouseMove: this.handleMousePosChange,\n        onPan: this.handleMousePosChange,\n        disablePan: enabled && disablePan,\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\"]\n      });\n    }\n  }]);\n\n  return MouseLocationIndicator;\n}(_react.Component);\n\nMouseLocationIndicator.propTypes = {\n  enabled: _propTypes2.default.bool.isRequired,\n  snap: _propTypes2.default.bool.isRequired,\n  shouldDisableSnap: _propTypes2.default.func.isRequired,\n  snapTo: _propTypes2.default.func,\n  onMouseMove: _propTypes2.default.func.isRequired,\n  onMouseDown: _propTypes2.default.func.isRequired,\n  onClick: _propTypes2.default.func.isRequired,\n  r: _propTypes2.default.number.isRequired,\n  stroke: _propTypes2.default.string.isRequired,\n  strokeWidth: _propTypes2.default.number.isRequired,\n  opacity: _propTypes2.default.number.isRequired,\n  disablePan: _propTypes2.default.bool.isRequired\n};\nMouseLocationIndicator.defaultProps = {\n  onMouseMove: _utils.noop,\n  onMouseDown: _utils.noop,\n  onClick: _utils.noop,\n  shouldDisableSnap: (0, _utils.functor)(false),\n  stroke: \"#000000\",\n  strokeWidth: 1,\n  opacity: 1,\n  disablePan: true\n};\nexports.default = MouseLocationIndicator;","map":{"version":3,"mappings":"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","names":["MouseLocationIndicator","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","handleMousePosChange","handleMouseDown","handleClick","xy","mutableState","moreProps","e","pos","xValue","yValue","x","y","onMouseDown","onClick","xAccessor","plotData","mouseXY","currentItem","xScale","yScale","chartConfig","enabled","snap","shouldDisableSnap","snapTo","invert","mousXY","prevMouseXY","onMouseMove","ctx","r","stroke","strokeWidth","show","lineWidth","strokeStyle","moveTo","beginPath","arc","Math","PI","opacity","_react2","cx","cy","fill","disablePan","onContextMenu","handleContextMenu","onPan","svgDraw","canvasDraw","canvasToDraw","drawOn","propTypes","_propTypes2","bool","isRequired","func","number","string","defaultProps"],"sources":["../../../../src/lib/interactive/components/MouseLocationIndicator.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../../GenericChartComponent\";\nimport { getMouseCanvas } from \"../../GenericComponent\";\n\nimport { isDefined, getClosestValue, noop, shallowEqual, functor } from \"../../utils\";\nimport { getXValue } from \"../../utils/ChartDataUtil\";\n\nclass MouseLocationIndicator extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\n\t\tthis.handleMousePosChange = this.handleMousePosChange.bind(this);\n\t\tthis.handleMouseDown = this.handleMouseDown.bind(this);\n\t\tthis.handleClick = this.handleClick.bind(this);\n\t\tthis.xy = this.xy.bind(this);\n\n\t\tthis.mutableState = {};\n\t}\n\thandleMouseDown(moreProps, e) {\n\t\tconst pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tconst { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onMouseDown([xValue, yValue], moreProps, e);\n\t\t}\n\t}\n\thandleClick(moreProps, e) {\n\t\tconst pos = this.xy(moreProps, e);\n\t\tif (isDefined(pos)) {\n\t\t\tconst { xValue, yValue, x, y } = pos;\n\t\t\tthis.mutableState = { x, y };\n\t\t\tthis.props.onClick([xValue, yValue], moreProps, e);\n\t\t}\n\t}\n\txy(moreProps, e) {\n\t\tconst { xAccessor, plotData } = moreProps;\n\t\tconst { mouseXY, currentItem, xScale, chartConfig: { yScale } } = moreProps;\n\t\tconst { enabled, snap, shouldDisableSnap, snapTo } = this.props;\n\n\t\tif (enabled && isDefined(currentItem) && isDefined(e)) {\n\t\t\tconst xValue =  snap && !shouldDisableSnap(e)\n\t\t\t\t? xAccessor(currentItem)\n\t\t\t\t: getXValue(xScale, xAccessor, mouseXY, plotData);\n\t\t\tconst yValue = snap && !shouldDisableSnap(e)\n\t\t\t\t? getClosestValue(snapTo(currentItem), yScale.invert(mouseXY[1]))\n\t\t\t\t: yScale.invert(mouseXY[1]);\n\n\t\t\tconst x = xScale(xValue);\n\t\t\tconst y = yScale(yValue);\n\n\t\t\treturn { xValue, yValue, x, y };\n\t\t}\n\t}\n\thandleMousePosChange(moreProps, e) {\n\t\tif (!shallowEqual(moreProps.mousXY, moreProps.prevMouseXY)) {\n\t\t\tconst pos = this.xy(moreProps, e);\n\t\t\tif (isDefined(pos)) {\n\t\t\t\tconst { xValue, yValue, x, y } = pos;\n\t\t\t\tthis.mutableState = { x, y };\n\t\t\t\tthis.props.onMouseMove([xValue, yValue], e);\n\t\t\t}\n\t\t}\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst { enabled, r, stroke, strokeWidth } = this.props;\n\t\tconst { x, y } = this.mutableState;\n\t\tconst { show } = moreProps;\n\t\t// console.log(show)\n\t\tif (enabled && show && isDefined(x)) {\n\t\t\tctx.lineWidth = strokeWidth;\n\t\t\tctx.strokeStyle = stroke;\n\t\t\tctx.moveTo(x, y);\n\t\t\tctx.beginPath();\n\t\t\tctx.arc(x, y, r, 0, 2 * Math.PI, false);\n\t\t\tctx.stroke();\n\t\t\t// ctx.fill();\n\t\t}\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { enabled, r, stroke, strokeWidth, opacity } = this.props;\n\t\tconst { x, y } = this.mutableState;\n\t\tconst { show } = moreProps;\n\n\t\t// console.log(\"HERE\")\n\t\t// console.log(stroke, strokeWidth, opacity)\n\n\t\treturn enabled && show && isDefined(x)\n\t\t\t? <circle\n\t\t\t\tcx={x}\n\t\t\t\tcy={y}\n\t\t\t\tr={r}\n\t\t\t\tstroke={stroke}\n\t\t\t\topacity={opacity}\n\t\t\t\tfill=\"none\"\n\t\t\t\tstrokeWidth={strokeWidth} />\n\t\t\t: null;\n\n\t}\n\trender() {\n\t\tconst { enabled, disablePan } = this.props;\n\t\treturn <GenericChartComponent\n\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\tonClick={this.handleClick}\n\t\t\tonContextMenu={this.handleContextMenu}\n\t\t\tonMouseMove={this.handleMousePosChange}\n\t\t\tonPan={this.handleMousePosChange}\n\n\t\t\tdisablePan={enabled && disablePan}\n\n\t\t\tsvgDraw={this.renderSVG}\n\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\n\t\t\tdrawOn={[\"mousemove\", \"pan\"]}\n\t\t/>;\n\t}\n}\n\nMouseLocationIndicator.propTypes = {\n\tenabled: PropTypes.bool.isRequired,\n\tsnap: PropTypes.bool.isRequired,\n\tshouldDisableSnap: PropTypes.func.isRequired,\n\tsnapTo: PropTypes.func,\n\n\tonMouseMove: PropTypes.func.isRequired,\n\tonMouseDown: PropTypes.func.isRequired,\n\tonClick: PropTypes.func.isRequired,\n\tr: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\topacity: PropTypes.number.isRequired,\n\tdisablePan: PropTypes.bool.isRequired,\n};\n\nMouseLocationIndicator.defaultProps = {\n\tonMouseMove: noop,\n\tonMouseDown: noop,\n\tonClick: noop,\n\tshouldDisableSnap: functor(false),\n\tstroke: \"#000000\",\n\tstrokeWidth: 1,\n\topacity: 1,\n\tdisablePan: true,\n};\n\nexport default MouseLocationIndicator;"]},"metadata":{},"sourceType":"script"}