{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default function useFrameState(defaultValue) {\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  var frameRef = useRef(null);\n  var batchRef = useRef([]);\n  var destroyRef = useRef(false);\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n      raf.cancel(frameRef.current);\n    };\n  }, []);\n\n  function setFrameValue(updater) {\n    if (destroyRef.current) {\n      return;\n    }\n\n    if (frameRef.current === null) {\n      batchRef.current = [];\n      frameRef.current = raf(function () {\n        frameRef.current = null;\n        setValue(function (prevValue) {\n          var current = prevValue;\n          batchRef.current.forEach(function (func) {\n            current = func(current);\n          });\n          return current;\n        });\n      });\n    }\n\n    batchRef.current.push(updater);\n  }\n\n  return [value, setFrameValue];\n}","map":{"version":3,"names":["_slicedToArray","React","useRef","raf","useFrameState","defaultValue","_React$useState","useState","_React$useState2","value","setValue","frameRef","batchRef","destroyRef","useEffect","current","cancel","setFrameValue","updater","prevValue","forEach","func","push"],"sources":["/home/chenak/QbitesReact/my-app/node_modules/antd/es/form/hooks/useFrameState.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport raf from \"rc-util/es/raf\";\nexport default function useFrameState(defaultValue) {\n  var _React$useState = React.useState(defaultValue),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      value = _React$useState2[0],\n      setValue = _React$useState2[1];\n\n  var frameRef = useRef(null);\n  var batchRef = useRef([]);\n  var destroyRef = useRef(false);\n  React.useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n      raf.cancel(frameRef.current);\n    };\n  }, []);\n\n  function setFrameValue(updater) {\n    if (destroyRef.current) {\n      return;\n    }\n\n    if (frameRef.current === null) {\n      batchRef.current = [];\n      frameRef.current = raf(function () {\n        frameRef.current = null;\n        setValue(function (prevValue) {\n          var current = prevValue;\n          batchRef.current.forEach(function (func) {\n            current = func(current);\n          });\n          return current;\n        });\n      });\n    }\n\n    batchRef.current.push(updater);\n  }\n\n  return [value, setFrameValue];\n}"],"mappings":"AAAA,OAAOA,cAAP,MAA2B,0CAA3B;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,MAAT,QAAuB,OAAvB;AACA,OAAOC,GAAP,MAAgB,gBAAhB;AACA,eAAe,SAASC,aAAT,CAAuBC,YAAvB,EAAqC;EAClD,IAAIC,eAAe,GAAGL,KAAK,CAACM,QAAN,CAAeF,YAAf,CAAtB;EAAA,IACIG,gBAAgB,GAAGR,cAAc,CAACM,eAAD,EAAkB,CAAlB,CADrC;EAAA,IAEIG,KAAK,GAAGD,gBAAgB,CAAC,CAAD,CAF5B;EAAA,IAGIE,QAAQ,GAAGF,gBAAgB,CAAC,CAAD,CAH/B;;EAKA,IAAIG,QAAQ,GAAGT,MAAM,CAAC,IAAD,CAArB;EACA,IAAIU,QAAQ,GAAGV,MAAM,CAAC,EAAD,CAArB;EACA,IAAIW,UAAU,GAAGX,MAAM,CAAC,KAAD,CAAvB;EACAD,KAAK,CAACa,SAAN,CAAgB,YAAY;IAC1B,OAAO,YAAY;MACjBD,UAAU,CAACE,OAAX,GAAqB,IAArB;MACAZ,GAAG,CAACa,MAAJ,CAAWL,QAAQ,CAACI,OAApB;IACD,CAHD;EAID,CALD,EAKG,EALH;;EAOA,SAASE,aAAT,CAAuBC,OAAvB,EAAgC;IAC9B,IAAIL,UAAU,CAACE,OAAf,EAAwB;MACtB;IACD;;IAED,IAAIJ,QAAQ,CAACI,OAAT,KAAqB,IAAzB,EAA+B;MAC7BH,QAAQ,CAACG,OAAT,GAAmB,EAAnB;MACAJ,QAAQ,CAACI,OAAT,GAAmBZ,GAAG,CAAC,YAAY;QACjCQ,QAAQ,CAACI,OAAT,GAAmB,IAAnB;QACAL,QAAQ,CAAC,UAAUS,SAAV,EAAqB;UAC5B,IAAIJ,OAAO,GAAGI,SAAd;UACAP,QAAQ,CAACG,OAAT,CAAiBK,OAAjB,CAAyB,UAAUC,IAAV,EAAgB;YACvCN,OAAO,GAAGM,IAAI,CAACN,OAAD,CAAd;UACD,CAFD;UAGA,OAAOA,OAAP;QACD,CANO,CAAR;MAOD,CATqB,CAAtB;IAUD;;IAEDH,QAAQ,CAACG,OAAT,CAAiBO,IAAjB,CAAsBJ,OAAtB;EACD;;EAED,OAAO,CAACT,KAAD,EAAQQ,aAAR,CAAP;AACD"},"metadata":{},"sourceType":"module"}