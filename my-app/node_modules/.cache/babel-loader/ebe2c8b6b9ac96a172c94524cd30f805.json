{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _OverlayBarSeries = require(\"./OverlayBarSeries\");\n\nvar _OverlayBarSeries2 = _interopRequireDefault(_OverlayBarSeries);\n\nvar _StraightLine = require(\"./StraightLine\");\n\nvar _StraightLine2 = _interopRequireDefault(_StraightLine);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar ElderRaySeries = function (_Component) {\n  _inherits(ElderRaySeries, _Component);\n\n  function ElderRaySeries(props) {\n    _classCallCheck(this, ElderRaySeries);\n\n    var _this = _possibleConstructorReturn(this, (ElderRaySeries.__proto__ || Object.getPrototypeOf(ElderRaySeries)).call(this, props));\n\n    _this.fillForEachBar = _this.fillForEachBar.bind(_this);\n    _this.yAccessorTop = _this.yAccessorTop.bind(_this);\n    _this.yAccessorBullTop = _this.yAccessorBullTop.bind(_this);\n    _this.yAccessorBearTop = _this.yAccessorBearTop.bind(_this);\n    _this.yAccessorBullBottom = _this.yAccessorBullBottom.bind(_this);\n    _this.yAccessorBearBottom = _this.yAccessorBearBottom.bind(_this);\n    _this.yAccessorForBarBase = _this.yAccessorForBarBase.bind(_this);\n    return _this;\n  }\n\n  _createClass(ElderRaySeries, [{\n    key: \"yAccessorTop\",\n    value: function yAccessorTop(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n    }\n  }, {\n    key: \"yAccessorBullTop\",\n    value: function yAccessorBullTop(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n    }\n  }, {\n    key: \"yAccessorBearTop\",\n    value: function yAccessorBearTop(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n    }\n  }, {\n    key: \"yAccessorBullBottom\",\n    value: function yAccessorBullBottom(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n    }\n  }, {\n    key: \"yAccessorBearBottom\",\n    value: function yAccessorBearBottom(d) {\n      var yAccessor = this.props.yAccessor;\n      return yAccessor(d) && (yAccessor(d).bullPower < 0 || yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n      ? Math.min(0, yAccessor(d).bullPower) : undefined);\n    }\n  }, {\n    key: \"yAccessorForBarBase\",\n    value: function yAccessorForBarBase(xScale, yScale, d) {\n      var yAccessor = this.props.yAccessor;\n      var y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n      return yScale(y);\n    }\n  }, {\n    key: \"fillForEachBar\",\n    value: function fillForEachBar(d, yAccessorNumber) {\n      var _props = this.props,\n          bullPowerFill = _props.bullPowerFill,\n          bearPowerFill = _props.bearPowerFill;\n      return yAccessorNumber % 2 === 0 ? bullPowerFill : bearPowerFill;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props2 = this.props,\n          className = _props2.className,\n          opacity = _props2.opacity,\n          stroke = _props2.stroke,\n          straightLineStroke = _props2.straightLineStroke,\n          straightLineOpacity = _props2.straightLineOpacity,\n          widthRatio = _props2.widthRatio;\n      var clip = this.props.clip;\n      return _react2.default.createElement(\"g\", {\n        className: className\n      }, _react2.default.createElement(_OverlayBarSeries2.default, {\n        baseAt: this.yAccessorForBarBase,\n        className: \"react-stockcharts-elderray-bar\",\n        stroke: stroke,\n        fill: this.fillForEachBar,\n        opacity: opacity,\n        widthRatio: widthRatio,\n        clip: clip,\n        yAccessor: [this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]\n      }), _react2.default.createElement(_StraightLine2.default, {\n        className: \"react-stockcharts-elderray-straight-line\",\n        yValue: 0,\n        stroke: straightLineStroke,\n        opacity: straightLineOpacity\n      }));\n    }\n  }]);\n\n  return ElderRaySeries;\n}(_react.Component);\n\nElderRaySeries.propTypes = {\n  className: _propTypes2.default.string,\n  yAccessor: _propTypes2.default.func,\n  opacity: _propTypes2.default.number,\n  stroke: _propTypes2.default.bool,\n  bullPowerFill: _propTypes2.default.string,\n  bearPowerFill: _propTypes2.default.string,\n  straightLineStroke: _propTypes2.default.string,\n  straightLineOpacity: _propTypes2.default.number,\n  widthRatio: _propTypes2.default.number,\n  clip: _propTypes2.default.bool.isRequired\n};\nElderRaySeries.defaultProps = {\n  className: \"react-stockcharts-elderray-series\",\n  straightLineStroke: \"#000000\",\n  straightLineOpacity: 0.3,\n  opacity: 0.5,\n  stroke: true,\n  bullPowerFill: \"#6BA583\",\n  bearPowerFill: \"#FF0000\",\n  widthRatio: 0.8,\n  clip: true\n};\nexports.default = ElderRaySeries;","map":{"version":3,"mappings":"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","names":["ElderRaySeries","props","_classCallCheck","_this","fillForEachBar","bind","yAccessorTop","yAccessorBullTop","yAccessorBearTop","yAccessorBullBottom","yAccessorBearBottom","yAccessorForBarBase","d","yAccessor","Math","max","bullPower","undefined","bearPower","min","xScale","yScale","y","yAccessorNumber","bullPowerFill","bearPowerFill","className","opacity","stroke","straightLineStroke","straightLineOpacity","widthRatio","clip","_react2","baseAt","fill","yValue","propTypes","_propTypes2","string","func","number","bool","isRequired","defaultProps"],"sources":["../../../src/lib/series/ElderRaySeries.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport OverlayBarSeries from \"./OverlayBarSeries\";\nimport StraightLine from \"./StraightLine\";\n\nclass ElderRaySeries extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.fillForEachBar = this.fillForEachBar.bind(this);\n\t\tthis.yAccessorTop = this.yAccessorTop.bind(this);\n\t\tthis.yAccessorBullTop = this.yAccessorBullTop.bind(this);\n\t\tthis.yAccessorBearTop = this.yAccessorBearTop.bind(this);\n\t\tthis.yAccessorBullBottom = this.yAccessorBullBottom.bind(this);\n\t\tthis.yAccessorBearBottom = this.yAccessorBearBottom.bind(this);\n\t\tthis.yAccessorForBarBase = this.yAccessorForBarBase.bind(this);\n\t}\n\tyAccessorTop(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && Math.max(yAccessor(d).bullPower, 0);\n\t}\n\tyAccessorBullTop(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower > 0 ? yAccessor(d).bullPower : undefined);\n\t}\n\tyAccessorBearTop(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bearPower > 0 ? yAccessor(d).bearPower : undefined);\n\t}\n\tyAccessorBullBottom(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0 ? 0 : undefined);\n\t}\n\tyAccessorBearBottom(d) {\n\t\tconst { yAccessor } = this.props;\n\t\treturn yAccessor(d) && (yAccessor(d).bullPower < 0\n\t\t\t\t|| yAccessor(d).bullPower * yAccessor(d).bearPower < 0 // bullPower is +ve and bearPower is -ve\n\t\t\t? Math.min(0, yAccessor(d).bullPower) : undefined);\n\t}\n\tyAccessorForBarBase(xScale, yScale, d) {\n\t\tconst { yAccessor } = this.props;\n\t\tconst y = yAccessor(d) && Math.min(yAccessor(d).bearPower, 0);\n\t\treturn yScale(y);\n\t}\n\tfillForEachBar(d, yAccessorNumber) {\n\t\tconst { bullPowerFill, bearPowerFill } = this.props;\n\t\treturn yAccessorNumber % 2 === 0 ? bullPowerFill : bearPowerFill;\n\t}\n\trender() {\n\t\tconst { className, opacity, stroke,\n\t\t\tstraightLineStroke,\n\t\t\tstraightLineOpacity,\n\t\t\twidthRatio\n\t\t} = this.props;\n\t\tconst { clip } = this.props;\n\n\t\treturn (\n\t\t\t<g className={className}>\n\t\t\t\t<OverlayBarSeries\n\t\t\t\t\tbaseAt={this.yAccessorForBarBase}\n\t\t\t\t\tclassName=\"react-stockcharts-elderray-bar\"\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tfill={this.fillForEachBar}\n\t\t\t\t\topacity={opacity}\n\t\t\t\t\twidthRatio={widthRatio}\n\t\t\t\t\tclip={clip}\n\t\t\t\t\tyAccessor={[this.yAccessorBullTop, this.yAccessorBearTop, this.yAccessorBullBottom, this.yAccessorBearBottom]} />\n\t\t\t\t<StraightLine\n\t\t\t\t\tclassName=\"react-stockcharts-elderray-straight-line\"\n\t\t\t\t\tyValue={0}\n\t\t\t\t\tstroke={straightLineStroke}\n\t\t\t\t\topacity={straightLineOpacity} />\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nElderRaySeries.propTypes = {\n\tclassName: PropTypes.string,\n\tyAccessor: PropTypes.func,\n\topacity: PropTypes.number,\n\tstroke: PropTypes.bool,\n\tbullPowerFill: PropTypes.string,\n\tbearPowerFill: PropTypes.string,\n\tstraightLineStroke: PropTypes.string,\n\tstraightLineOpacity: PropTypes.number,\n\twidthRatio: PropTypes.number,\n\tclip: PropTypes.bool.isRequired,\n};\n\nElderRaySeries.defaultProps = {\n\tclassName: \"react-stockcharts-elderray-series\",\n\tstraightLineStroke: \"#000000\",\n\tstraightLineOpacity: 0.3,\n\topacity: 0.5,\n\tstroke: true,\n\tbullPowerFill: \"#6BA583\",\n\tbearPowerFill: \"#FF0000\",\n\twidthRatio: 0.8,\n\tclip: true,\n};\n\nexport default ElderRaySeries;\n"]},"metadata":{},"sourceType":"script"}