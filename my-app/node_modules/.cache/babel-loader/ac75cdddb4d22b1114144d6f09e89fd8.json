{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _d3Force = require(\"d3-force\");\n\nvar _d3Array = require(\"d3-array\");\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nvar _AxisZoomCapture = require(\"./AxisZoomCapture\");\n\nvar _AxisZoomCapture2 = _interopRequireDefault(_AxisZoomCapture);\n\nvar _utils = require(\"../utils\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Axis = function (_Component) {\n  _inherits(Axis, _Component);\n\n  function Axis(props) {\n    _classCallCheck(this, Axis);\n\n    var _this = _possibleConstructorReturn(this, (Axis.__proto__ || Object.getPrototypeOf(Axis)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    _this.saveNode = _this.saveNode.bind(_this);\n    _this.getMoreProps = _this.getMoreProps.bind(_this);\n    return _this;\n  }\n\n  _createClass(Axis, [{\n    key: \"saveNode\",\n    value: function saveNode(node) {\n      this.node = node;\n    }\n  }, {\n    key: \"getMoreProps\",\n    value: function getMoreProps() {\n      return this.node.getMoreProps();\n    }\n  }, {\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var _props = this.props,\n          showDomain = _props.showDomain,\n          showTicks = _props.showTicks,\n          transform = _props.transform,\n          range = _props.range,\n          getScale = _props.getScale;\n      ctx.save();\n      ctx.translate(transform[0], transform[1]);\n      if (showDomain) drawAxisLine(ctx, this.props, range);\n\n      if (showTicks) {\n        var tickProps = tickHelper(this.props, getScale(moreProps));\n        drawTicks(ctx, tickProps);\n      }\n\n      ctx.restore();\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var className = this.props.className;\n      var _props2 = this.props,\n          showDomain = _props2.showDomain,\n          showTicks = _props2.showTicks,\n          range = _props2.range,\n          getScale = _props2.getScale;\n      var ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n      var domain = showDomain ? axisLineSVG(this.props, range) : null;\n      return _react2.default.createElement(\"g\", {\n        className: className\n      }, ticks, domain);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props3 = this.props,\n          bg = _props3.bg,\n          axisZoomCallback = _props3.axisZoomCallback,\n          className = _props3.className,\n          zoomCursorClassName = _props3.zoomCursorClassName,\n          zoomEnabled = _props3.zoomEnabled,\n          getScale = _props3.getScale,\n          inverted = _props3.inverted;\n      var _props4 = this.props,\n          transform = _props4.transform,\n          getMouseDelta = _props4.getMouseDelta,\n          edgeClip = _props4.edgeClip;\n      var _props5 = this.props,\n          onContextMenu = _props5.onContextMenu,\n          onDoubleClick = _props5.onDoubleClick;\n      var zoomCapture = zoomEnabled ? _react2.default.createElement(_AxisZoomCapture2.default, {\n        bg: bg,\n        getScale: getScale,\n        getMoreProps: this.getMoreProps,\n        getMouseDelta: getMouseDelta,\n        axisZoomCallback: axisZoomCallback,\n        className: className,\n        zoomCursorClassName: zoomCursorClassName,\n        inverted: inverted,\n        onContextMenu: onContextMenu,\n        onDoubleClick: onDoubleClick\n      }) : null;\n      return _react2.default.createElement(\"g\", {\n        transform: \"translate(\" + transform[0] + \", \" + transform[1] + \")\"\n      }, zoomCapture, _react2.default.createElement(_GenericChartComponent2.default, {\n        ref: this.saveNode,\n        canvasToDraw: _GenericComponent.getAxisCanvas,\n        clip: false,\n        edgeClip: edgeClip,\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        drawOn: [\"pan\"]\n      }));\n    }\n  }]);\n\n  return Axis;\n}(_react.Component);\n\nAxis.propTypes = {\n  innerTickSize: _propTypes2.default.number,\n  outerTickSize: _propTypes2.default.number,\n  tickFormat: _propTypes2.default.func,\n  tickPadding: _propTypes2.default.number,\n  tickSize: _propTypes2.default.number,\n  ticks: _propTypes2.default.number,\n  tickLabelFill: _propTypes2.default.string,\n  tickStroke: _propTypes2.default.string,\n  tickStrokeOpacity: _propTypes2.default.number,\n  tickStrokeWidth: _propTypes2.default.number,\n  tickStrokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes),\n  tickValues: _propTypes2.default.oneOfType([_propTypes2.default.array, _propTypes2.default.func]),\n  tickInterval: _propTypes2.default.number,\n  tickIntervalFunction: _propTypes2.default.func,\n  showDomain: _propTypes2.default.bool,\n  showTicks: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  axisZoomCallback: _propTypes2.default.func,\n  zoomEnabled: _propTypes2.default.bool,\n  inverted: _propTypes2.default.bool,\n  zoomCursorClassName: _propTypes2.default.string,\n  transform: _propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,\n  range: _propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,\n  getMouseDelta: _propTypes2.default.func.isRequired,\n  getScale: _propTypes2.default.func.isRequired,\n  bg: _propTypes2.default.object.isRequired,\n  edgeClip: _propTypes2.default.bool.isRequired,\n  onContextMenu: _propTypes2.default.func,\n  onDoubleClick: _propTypes2.default.func\n};\nAxis.defaultProps = {\n  zoomEnabled: false,\n  zoomCursorClassName: \"\",\n  edgeClip: false\n};\n\nfunction tickHelper(props, scale) {\n  var orient = props.orient,\n      innerTickSize = props.innerTickSize,\n      tickFormat = props.tickFormat,\n      tickPadding = props.tickPadding,\n      tickLabelFill = props.tickLabelFill,\n      tickStrokeWidth = props.tickStrokeWidth,\n      tickStrokeDasharray = props.tickStrokeDasharray,\n      fontSize = props.fontSize,\n      fontFamily = props.fontFamily,\n      fontWeight = props.fontWeight,\n      showTicks = props.showTicks,\n      flexTicks = props.flexTicks,\n      showTickLabel = props.showTickLabel;\n  var tickArguments = props.ticks,\n      tickValuesProp = props.tickValues,\n      tickStroke = props.tickStroke,\n      tickStrokeOpacity = props.tickStrokeOpacity,\n      tickInterval = props.tickInterval,\n      tickIntervalFunction = props.tickIntervalFunction; // if (tickArguments) tickArguments = [tickArguments];\n\n  var tickValues = void 0;\n\n  if ((0, _utils.isDefined)(tickValuesProp)) {\n    if (typeof tickValuesProp === \"function\") {\n      tickValues = tickValuesProp(scale.domain());\n    } else {\n      tickValues = tickValuesProp;\n    }\n  } else if ((0, _utils.isDefined)(tickInterval)) {\n    var _scale$domain = scale.domain(),\n        _scale$domain2 = _slicedToArray(_scale$domain, 2),\n        min = _scale$domain2[0],\n        max = _scale$domain2[1];\n\n    var baseTickValues = (0, _d3Array.range)(min, max, (max - min) / tickInterval);\n    tickValues = tickIntervalFunction ? tickIntervalFunction(min, max, tickInterval) : baseTickValues;\n  } else if ((0, _utils.isDefined)(scale.ticks)) {\n    tickValues = scale.ticks(tickArguments, flexTicks);\n  } else {\n    tickValues = scale.domain();\n  }\n\n  var baseFormat = scale.tickFormat ? scale.tickFormat(tickArguments) : _utils.identity;\n  var format = (0, _utils.isNotDefined)(tickFormat) ? baseFormat : function (d) {\n    return tickFormat(d) || \"\";\n  };\n  var sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n  var tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n  var ticks = void 0,\n      dy = void 0,\n      canvas_dy = void 0,\n      textAnchor = void 0;\n\n  if (orient === \"bottom\" || orient === \"top\") {\n    dy = sign < 0 ? \"0em\" : \".71em\";\n    canvas_dy = sign < 0 ? 0 : fontSize * .71;\n    textAnchor = \"middle\";\n    ticks = tickValues.map(function (d) {\n      var x = Math.round(scale(d));\n      return {\n        value: d,\n        x1: x,\n        y1: 0,\n        x2: x,\n        y2: sign * innerTickSize,\n        labelX: x,\n        labelY: sign * tickSpacing\n      };\n    });\n\n    if (showTicks && flexTicks) {\n      // console.log(ticks, showTicks);\n      var nodes = ticks.map(function (d) {\n        return {\n          id: d.value,\n          value: d.value,\n          fy: d.y2,\n          origX: d.x1\n        };\n      });\n      var simulation = (0, _d3Force.forceSimulation)(nodes).force(\"x\", (0, _d3Force.forceX)(function (d) {\n        return d.origX;\n      }).strength(1)).force(\"collide\", (0, _d3Force.forceCollide)(22)) // .force(\"center\", forceCenter())\n      .stop();\n\n      for (var i = 0; i < 100; ++i) {\n        simulation.tick();\n      } // console.log(nodes);\n\n\n      var zip = (0, _utils.zipper)().combine(function (a, b) {\n        if (Math.abs(b.x - b.origX) > 0.01) {\n          return _extends({}, a, {\n            x2: b.x,\n            labelX: b.x\n          });\n        }\n\n        return a;\n      });\n      ticks = zip(ticks, nodes);\n    }\n  } else {\n    ticks = tickValues.map(function (d) {\n      var y = Math.round(scale(d));\n      return {\n        value: d,\n        x1: 0,\n        y1: y,\n        x2: sign * innerTickSize,\n        y2: y,\n        labelX: sign * tickSpacing,\n        labelY: y\n      };\n    });\n    dy = \".32em\";\n    canvas_dy = fontSize * .32;\n    textAnchor = sign < 0 ? \"end\" : \"start\";\n  }\n\n  return {\n    ticks: ticks,\n    scale: scale,\n    tickStroke: tickStroke,\n    tickLabelFill: tickLabelFill || tickStroke,\n    tickStrokeOpacity: tickStrokeOpacity,\n    tickStrokeWidth: tickStrokeWidth,\n    tickStrokeDasharray: tickStrokeDasharray,\n    dy: dy,\n    canvas_dy: canvas_dy,\n    textAnchor: textAnchor,\n    fontSize: fontSize,\n    fontFamily: fontFamily,\n    fontWeight: fontWeight,\n    format: format,\n    showTickLabel: showTickLabel\n  };\n}\n/* eslint-disable react/prop-types */\n\n\nfunction axisLineSVG(props, range) {\n  var orient = props.orient,\n      outerTickSize = props.outerTickSize;\n  var domainClassName = props.domainClassName,\n      fill = props.fill,\n      stroke = props.stroke,\n      strokeWidth = props.strokeWidth,\n      opacity = props.opacity;\n  var sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n  var d = void 0;\n\n  if (orient === \"bottom\" || orient === \"top\") {\n    d = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n  } else {\n    d = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n  }\n\n  return _react2.default.createElement(\"path\", {\n    className: domainClassName,\n    d: d,\n    fill: fill,\n    opacity: opacity,\n    stroke: stroke,\n    strokeWidth: strokeWidth\n  });\n}\n/* eslint-enable react/prop-types */\n\n\nfunction drawAxisLine(ctx, props, range) {\n  // props = { ...AxisLine.defaultProps, ...props };\n  var orient = props.orient,\n      outerTickSize = props.outerTickSize,\n      stroke = props.stroke,\n      strokeWidth = props.strokeWidth,\n      opacity = props.opacity;\n  var sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n  var xAxis = orient === \"bottom\" || orient === \"top\"; // var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n  ctx.lineWidth = strokeWidth;\n  ctx.strokeStyle = (0, _utils.hexToRGBA)(stroke, opacity);\n  ctx.beginPath();\n\n  if (xAxis) {\n    ctx.moveTo((0, _utils.first)(range), sign * outerTickSize);\n    ctx.lineTo((0, _utils.first)(range), 0);\n    ctx.lineTo((0, _utils.last)(range), 0);\n    ctx.lineTo((0, _utils.last)(range), sign * outerTickSize);\n  } else {\n    ctx.moveTo(sign * outerTickSize, (0, _utils.first)(range));\n    ctx.lineTo(0, (0, _utils.first)(range));\n    ctx.lineTo(0, (0, _utils.last)(range));\n    ctx.lineTo(sign * outerTickSize, (0, _utils.last)(range));\n  }\n\n  ctx.stroke();\n}\n\nfunction Tick(props) {\n  var tickLabelFill = props.tickLabelFill,\n      tickStroke = props.tickStroke,\n      tickStrokeOpacity = props.tickStrokeOpacity,\n      tickStrokeDasharray = props.tickStrokeDasharray,\n      tickStrokeWidth = props.tickStrokeWidth,\n      textAnchor = props.textAnchor,\n      fontSize = props.fontSize,\n      fontFamily = props.fontFamily,\n      fontWeight = props.fontWeight;\n  var x1 = props.x1,\n      y1 = props.y1,\n      x2 = props.x2,\n      y2 = props.y2,\n      labelX = props.labelX,\n      labelY = props.labelY,\n      dy = props.dy;\n  return _react2.default.createElement(\"g\", {\n    className: \"tick\"\n  }, _react2.default.createElement(\"line\", {\n    shapeRendering: \"crispEdges\",\n    opacity: tickStrokeOpacity,\n    stroke: tickStroke,\n    strokeWidth: tickStrokeWidth,\n    strokeDasharray: (0, _utils.getStrokeDasharray)(tickStrokeDasharray),\n    x1: x1,\n    y1: y1,\n    x2: x2,\n    y2: y2\n  }), _react2.default.createElement(\"text\", {\n    dy: dy,\n    x: labelX,\n    y: labelY,\n    fill: tickLabelFill,\n    fontSize: fontSize,\n    fontWeight: fontWeight,\n    fontFamily: fontFamily,\n    textAnchor: textAnchor\n  }, props.children));\n}\n\nTick.propTypes = {\n  children: _propTypes2.default.string.isRequired,\n  x1: _propTypes2.default.number.isRequired,\n  y1: _propTypes2.default.number.isRequired,\n  x2: _propTypes2.default.number.isRequired,\n  y2: _propTypes2.default.number.isRequired,\n  labelX: _propTypes2.default.number.isRequired,\n  labelY: _propTypes2.default.number.isRequired,\n  dy: _propTypes2.default.string.isRequired,\n  tickStroke: _propTypes2.default.string,\n  tickLabelFill: _propTypes2.default.string,\n  tickStrokeWidth: _propTypes2.default.number,\n  tickStrokeOpacity: _propTypes2.default.number,\n  tickStrokeDasharray: _propTypes2.default.oneOf(_utils.strokeDashTypes),\n  textAnchor: _propTypes2.default.string,\n  fontSize: _propTypes2.default.number,\n  fontFamily: _propTypes2.default.string,\n  fontWeight: _propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])\n};\n\nfunction axisTicksSVG(props, scale) {\n  var result = tickHelper(props, scale);\n  var tickLabelFill = result.tickLabelFill,\n      tickStroke = result.tickStroke,\n      tickStrokeOpacity = result.tickStrokeOpacity,\n      tickStrokeWidth = result.tickStrokeWidth,\n      tickStrokeDasharray = result.tickStrokeDasharray,\n      textAnchor = result.textAnchor;\n  var fontSize = result.fontSize,\n      fontFamily = result.fontFamily,\n      fontWeight = result.fontWeight,\n      ticks = result.ticks,\n      format = result.format;\n  var dy = result.dy;\n  return _react2.default.createElement(\"g\", null, ticks.map(function (tick, idx) {\n    return _react2.default.createElement(Tick, {\n      key: idx,\n      tickStroke: tickStroke,\n      tickLabelFill: tickLabelFill,\n      tickStrokeWidth: tickStrokeWidth,\n      tickStrokeOpacity: tickStrokeOpacity,\n      tickStrokeDasharray: tickStrokeDasharray,\n      dy: dy,\n      x1: tick.x1,\n      y1: tick.y1,\n      x2: tick.x2,\n      y2: tick.y2,\n      labelX: tick.labelX,\n      labelY: tick.labelY,\n      textAnchor: textAnchor,\n      fontSize: fontSize,\n      fontWeight: fontWeight,\n      fontFamily: fontFamily\n    }, format(tick.value));\n  }));\n}\n\nfunction drawTicks(ctx, result) {\n  var tickStroke = result.tickStroke,\n      tickStrokeOpacity = result.tickStrokeOpacity,\n      tickLabelFill = result.tickLabelFill;\n  var textAnchor = result.textAnchor,\n      fontSize = result.fontSize,\n      fontFamily = result.fontFamily,\n      fontWeight = result.fontWeight,\n      ticks = result.ticks,\n      showTickLabel = result.showTickLabel;\n  ctx.strokeStyle = (0, _utils.hexToRGBA)(tickStroke, tickStrokeOpacity);\n  ctx.fillStyle = tickStroke; // ctx.textBaseline = 'middle';\n\n  ticks.forEach(function (tick) {\n    drawEachTick(ctx, tick, result);\n  });\n  ctx.font = fontWeight + \" \" + fontSize + \"px \" + fontFamily;\n  ctx.fillStyle = tickLabelFill;\n  ctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n  if (showTickLabel) {\n    ticks.forEach(function (tick) {\n      drawEachTickLabel(ctx, tick, result);\n    });\n  }\n}\n\nfunction drawEachTick(ctx, tick, result) {\n  var tickStrokeWidth = result.tickStrokeWidth,\n      tickStrokeDasharray = result.tickStrokeDasharray;\n  ctx.beginPath();\n  ctx.moveTo(tick.x1, tick.y1);\n  ctx.lineTo(tick.x2, tick.y2);\n  ctx.lineWidth = tickStrokeWidth;\n  ctx.setLineDash((0, _utils.getStrokeDasharray)(tickStrokeDasharray).split(\",\"));\n  ctx.stroke();\n}\n\nfunction drawEachTickLabel(ctx, tick, result) {\n  var canvas_dy = result.canvas_dy,\n      format = result.format;\n  ctx.beginPath();\n  ctx.fillText(format(tick.value), tick.labelX, tick.labelY + canvas_dy);\n}\n\nexports.default = Axis;","map":{"version":3,"mappings":"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","names":["Axis","props","_classCallCheck","_this","renderSVG","bind","drawOnCanvas","saveNode","getMoreProps","node","ctx","moreProps","showDomain","showTicks","transform","range","getScale","save","translate","drawAxisLine","tickProps","tickHelper","drawTicks","restore","className","ticks","axisTicksSVG","domain","axisLineSVG","_react2","bg","axisZoomCallback","zoomCursorClassName","zoomEnabled","inverted","getMouseDelta","edgeClip","onContextMenu","onDoubleClick","zoomCapture","ref","canvasToDraw","clip","svgDraw","canvasDraw","drawOn","propTypes","innerTickSize","_propTypes2","number","outerTickSize","tickFormat","func","tickPadding","tickSize","tickLabelFill","string","tickStroke","tickStrokeOpacity","tickStrokeWidth","tickStrokeDasharray","oneOf","tickValues","oneOfType","array","tickInterval","tickIntervalFunction","bool","arrayOf","isRequired","object","defaultProps","scale","orient","fontSize","fontFamily","fontWeight","flexTicks","showTickLabel","tickArguments","tickValuesProp","min","max","baseTickValues","baseFormat","format","d","sign","tickSpacing","Math","dy","canvas_dy","textAnchor","map","x","round","value","x1","y1","x2","y2","labelX","labelY","nodes","id","fy","origX","simulation","force","strength","stop","i","tick","zip","combine","a","b","abs","y","domainClassName","fill","stroke","strokeWidth","opacity","xAxis","lineWidth","strokeStyle","beginPath","moveTo","lineTo","Tick","shapeRendering","strokeDasharray","children","result","idx","key","fillStyle","forEach","drawEachTick","font","textAlign","drawEachTickLabel","setLineDash","split","fillText"],"sources":["../../../src/lib/axes/Axis.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { forceSimulation, forceX, forceCollide } from \"d3-force\";\nimport { range as d3Range } from \"d3-array\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { getAxisCanvas } from \"../GenericComponent\";\nimport AxisZoomCapture from \"./AxisZoomCapture\";\n\nimport { first, last, hexToRGBA, isNotDefined, isDefined, identity, zipper, strokeDashTypes, getStrokeDasharray } from \"../utils\";\n\nclass Axis extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t\tthis.saveNode = this.saveNode.bind(this);\n\t\tthis.getMoreProps = this.getMoreProps.bind(this);\n\t}\n\tsaveNode(node) {\n\t\tthis.node = node;\n\t}\n\tgetMoreProps() {\n\t\treturn this.node.getMoreProps();\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst { showDomain, showTicks, transform, range, getScale } = this.props;\n\n\t\tctx.save();\n\t\tctx.translate(transform[0], transform[1]);\n\n\t\tif (showDomain) drawAxisLine(ctx, this.props, range);\n\t\tif (showTicks) {\n\t\t\tconst tickProps = tickHelper(this.props, getScale(moreProps));\n\t\t\tdrawTicks(ctx, tickProps);\n\t\t}\n\n\t\tctx.restore();\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { className } = this.props;\n\t\tconst { showDomain, showTicks, range, getScale } = this.props;\n\n\t\tconst ticks = showTicks ? axisTicksSVG(this.props, getScale(moreProps)) : null;\n\t\tconst domain = showDomain ? axisLineSVG(this.props, range) : null;\n\n\t\treturn <g className={className}>\n\t\t\t{ticks}\n\t\t\t{domain}\n\t\t</g>;\n\t}\n\trender() {\n\t\tconst { bg, axisZoomCallback, className, zoomCursorClassName, zoomEnabled, getScale, inverted } = this.props;\n\t\tconst { transform, getMouseDelta, edgeClip } = this.props;\n\t\tconst { onContextMenu, onDoubleClick } = this.props;\n\n\t\tconst zoomCapture = zoomEnabled\n\t\t\t? <AxisZoomCapture\n\t\t\t\tbg={bg}\n\t\t\t\tgetScale={getScale}\n\t\t\t\tgetMoreProps={this.getMoreProps}\n\t\t\t\tgetMouseDelta={getMouseDelta}\n\t\t\t\taxisZoomCallback={axisZoomCallback}\n\t\t\t\tclassName={className}\n\t\t\t\tzoomCursorClassName={zoomCursorClassName}\n\t\t\t\tinverted={inverted}\n\t\t\t\tonContextMenu={onContextMenu}\n\t\t\t\tonDoubleClick={onDoubleClick}\n\t\t\t/>\n\t\t\t: null;\n\n\t\treturn <g transform={`translate(${ transform[0] }, ${ transform[1] })`}>\n\t\t\t{zoomCapture}\n\t\t\t<GenericChartComponent ref={this.saveNode}\n\t\t\t\tcanvasToDraw={getAxisCanvas}\n\t\t\t\tclip={false}\n\t\t\t\tedgeClip={edgeClip}\n\t\t\t\tsvgDraw={this.renderSVG}\n\t\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\t\tdrawOn={[\"pan\"]}\n\t\t\t/>\n\t\t</g>;\n\t}\n}\n\nAxis.propTypes = {\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickLabelFill: PropTypes.string,\n\ttickStroke: PropTypes.string,\n\ttickStrokeOpacity: PropTypes.number,\n\ttickStrokeWidth: PropTypes.number,\n\ttickStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\ttickValues: PropTypes.oneOfType([PropTypes.array, PropTypes.func]),\n\ttickInterval: PropTypes.number,\n\ttickIntervalFunction: PropTypes.func,\n\tshowDomain: PropTypes.bool,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\taxisZoomCallback: PropTypes.func,\n\tzoomEnabled: PropTypes.bool,\n\tinverted: PropTypes.bool,\n\tzoomCursorClassName: PropTypes.string,\n\ttransform: PropTypes.arrayOf(PropTypes.number).isRequired,\n\trange: PropTypes.arrayOf(PropTypes.number).isRequired,\n\tgetMouseDelta: PropTypes.func.isRequired,\n\tgetScale: PropTypes.func.isRequired,\n\tbg: PropTypes.object.isRequired,\n\tedgeClip: PropTypes.bool.isRequired,\n\tonContextMenu: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n};\n\nAxis.defaultProps = {\n\tzoomEnabled: false,\n\tzoomCursorClassName: \"\",\n\tedgeClip: false,\n};\n\nfunction tickHelper(props, scale) {\n\tconst {\n\t\torient, innerTickSize, tickFormat, tickPadding,\n\t\ttickLabelFill, tickStrokeWidth, tickStrokeDasharray,\n\t\tfontSize, fontFamily, fontWeight, showTicks, flexTicks,\n\t\tshowTickLabel\n\t} = props;\n\tconst {\n\t\tticks: tickArguments, tickValues: tickValuesProp,\n\t\ttickStroke, tickStrokeOpacity, tickInterval, tickIntervalFunction\n\t} = props;\n\n\t// if (tickArguments) tickArguments = [tickArguments];\n\n\tlet tickValues;\n\tif (isDefined(tickValuesProp)) {\n\t\tif (typeof tickValuesProp === \"function\") {\n\t\t\ttickValues = tickValuesProp(scale.domain());\n\t\t} else {\n\t\t\ttickValues = tickValuesProp;\n\t\t}\n\t} else if (isDefined(tickInterval)) {\n\t\tconst [min, max] = scale.domain();\n\t\tconst baseTickValues = d3Range(min, max, (max - min) / tickInterval);\n\n\t\ttickValues = tickIntervalFunction\n\t\t\t? tickIntervalFunction(min, max, tickInterval)\n\t\t\t: baseTickValues;\n\t} else if (isDefined(scale.ticks)) {\n\t\ttickValues = scale.ticks(tickArguments, flexTicks);\n\t} else {\n\t\ttickValues = scale.domain();\n\t}\n\n\tconst baseFormat = scale.tickFormat\n\t\t? scale.tickFormat(tickArguments)\n\t\t: identity;\n\n\tconst format = isNotDefined(tickFormat)\n\t\t? baseFormat\n\t\t: d => tickFormat(d) || \"\";\n\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tconst tickSpacing = Math.max(innerTickSize, 0) + tickPadding;\n\n\tlet ticks, dy, canvas_dy, textAnchor;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\tdy = sign < 0 ? \"0em\" : \".71em\";\n\t\tcanvas_dy = sign < 0 ? 0 : (fontSize * .71);\n\t\ttextAnchor = \"middle\";\n\n\t\tticks = tickValues.map(d => {\n\t\t\tconst x = Math.round(scale(d));\n\t\t\treturn {\n\t\t\t\tvalue: d,\n\t\t\t\tx1: x,\n\t\t\t\ty1: 0,\n\t\t\t\tx2: x,\n\t\t\t\ty2: sign * innerTickSize,\n\t\t\t\tlabelX: x,\n\t\t\t\tlabelY: sign * tickSpacing,\n\t\t\t};\n\t\t});\n\n\t\tif (showTicks && flexTicks) {\n\t\t\t// console.log(ticks, showTicks);\n\n\t\t\tconst nodes = ticks.map(d => ({ id: d.value, value: d.value, fy: d.y2, origX: d.x1 }));\n\n\t\t\tconst simulation = forceSimulation(nodes)\n\t\t\t\t.force(\"x\", forceX(d => d.origX).strength(1))\n\t\t\t\t.force(\"collide\", forceCollide(22))\n\t\t\t\t// .force(\"center\", forceCenter())\n\t\t\t\t.stop();\n\n\t\t\tfor (let i = 0; i < 100; ++i) simulation.tick();\n\t\t\t// console.log(nodes);\n\n\t\t\tconst zip = zipper()\n\t\t\t\t.combine((a, b) => {\n\t\t\t\t\tif (Math.abs(b.x - b.origX) > 0.01) {\n\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t...a,\n\t\t\t\t\t\t\tx2: b.x,\n\t\t\t\t\t\t\tlabelX: b.x\n\t\t\t\t\t\t};\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t});\n\n\t\t\tticks = zip(ticks, nodes);\n\t\t}\n\n\n\t} else {\n\t\tticks = tickValues.map(d => {\n\t\t\tconst y = Math.round(scale(d));\n\t\t\treturn {\n\t\t\t\tvalue: d,\n\t\t\t\tx1: 0,\n\t\t\t\ty1: y,\n\t\t\t\tx2: sign * innerTickSize,\n\t\t\t\ty2: y,\n\t\t\t\tlabelX: sign * tickSpacing,\n\t\t\t\tlabelY: y,\n\t\t\t};\n\t\t});\n\n\t\tdy = \".32em\";\n\t\tcanvas_dy = (fontSize * .32);\n\t\ttextAnchor = sign < 0 ? \"end\" : \"start\";\n\t}\n\n\treturn {\n\t\tticks, scale, tickStroke,\n\t\ttickLabelFill: (tickLabelFill || tickStroke),\n\t\ttickStrokeOpacity,\n\t\ttickStrokeWidth,\n\t\ttickStrokeDasharray,\n\t\tdy,\n\t\tcanvas_dy,\n\t\ttextAnchor,\n\t\tfontSize,\n\t\tfontFamily,\n\t\tfontWeight,\n\t\tformat,\n\t\tshowTickLabel,\n\t};\n}\n\n/* eslint-disable react/prop-types */\nfunction axisLineSVG(props, range) {\n\tconst { orient, outerTickSize } = props;\n\tconst { domainClassName, fill, stroke, strokeWidth, opacity } = props;\n\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\n\tlet d;\n\n\tif (orient === \"bottom\" || orient === \"top\") {\n\t\td = \"M\" + range[0] + \",\" + sign * outerTickSize + \"V0H\" + range[1] + \"V\" + sign * outerTickSize;\n\t} else {\n\t\td = \"M\" + sign * outerTickSize + \",\" + range[0] + \"H0V\" + range[1] + \"H\" + sign * outerTickSize;\n\t}\n\n\treturn (\n\t\t<path\n\t\t\tclassName={domainClassName}\n\t\t\td={d}\n\t\t\tfill={fill}\n\t\t\topacity={opacity}\n\t\t\tstroke={stroke}\n\t\t\tstrokeWidth={strokeWidth} >\n\t\t</path>\n\t);\n}\n/* eslint-enable react/prop-types */\n\n\nfunction drawAxisLine(ctx, props, range) {\n\t// props = { ...AxisLine.defaultProps, ...props };\n\n\tconst { orient, outerTickSize, stroke, strokeWidth, opacity } = props;\n\n\tconst sign = orient === \"top\" || orient === \"left\" ? -1 : 1;\n\tconst xAxis = (orient === \"bottom\" || orient === \"top\");\n\n\t// var range = d3_scaleRange(xAxis ? xScale : yScale);\n\n\tctx.lineWidth = strokeWidth;\n\tctx.strokeStyle = hexToRGBA(stroke, opacity);\n\n\tctx.beginPath();\n\n\tif (xAxis) {\n\t\tctx.moveTo(first(range), sign * outerTickSize);\n\t\tctx.lineTo(first(range), 0);\n\t\tctx.lineTo(last(range), 0);\n\t\tctx.lineTo(last(range), sign * outerTickSize);\n\t} else {\n\t\tctx.moveTo(sign * outerTickSize, first(range));\n\t\tctx.lineTo(0, first(range));\n\t\tctx.lineTo(0, last(range));\n\t\tctx.lineTo(sign * outerTickSize, last(range));\n\t}\n\tctx.stroke();\n}\n\nfunction Tick(props) {\n\tconst { tickLabelFill, tickStroke, tickStrokeOpacity, tickStrokeDasharray, tickStrokeWidth, textAnchor, fontSize, fontFamily, fontWeight } = props;\n\tconst { x1, y1, x2, y2, labelX, labelY, dy } = props;\n\treturn (\n\t\t<g className=\"tick\">\n\t\t\t<line\n\t\t\t\tshapeRendering=\"crispEdges\"\n\t\t\t\topacity={tickStrokeOpacity}\n\t\t\t\tstroke={tickStroke}\n\t\t\t\tstrokeWidth={tickStrokeWidth}\n\t\t\t\tstrokeDasharray={getStrokeDasharray(tickStrokeDasharray)}\n\t\t\t\tx1={x1} y1={y1}\n\t\t\t\tx2={x2} y2={y2} />\n\t\t\t<text\n\t\t\t\tdy={dy} x={labelX} y={labelY}\n\t\t\t\tfill={tickLabelFill}\n\t\t\t\tfontSize={fontSize}\n\t\t\t\tfontWeight={fontWeight}\n\t\t\t\tfontFamily={fontFamily}\n\t\t\t\ttextAnchor={textAnchor}>\n\t\t\t\t{props.children}\n\t\t\t</text>\n\t\t</g>\n\t);\n}\n\nTick.propTypes = {\n\tchildren: PropTypes.string.isRequired,\n\tx1: PropTypes.number.isRequired,\n\ty1: PropTypes.number.isRequired,\n\tx2: PropTypes.number.isRequired,\n\ty2: PropTypes.number.isRequired,\n\tlabelX: PropTypes.number.isRequired,\n\tlabelY: PropTypes.number.isRequired,\n\tdy: PropTypes.string.isRequired,\n\ttickStroke: PropTypes.string,\n\ttickLabelFill: PropTypes.string,\n\ttickStrokeWidth: PropTypes.number,\n\ttickStrokeOpacity: PropTypes.number,\n\ttickStrokeDasharray: PropTypes.oneOf(strokeDashTypes),\n\ttextAnchor: PropTypes.string,\n\tfontSize: PropTypes.number,\n\tfontFamily: PropTypes.string,\n\tfontWeight: PropTypes.oneOfType([\n\t  PropTypes.string,\n\t  PropTypes.number\n\t]),\n};\n\nfunction axisTicksSVG(props, scale) {\n\tconst result = tickHelper(props, scale);\n\n\tconst { tickLabelFill, tickStroke, tickStrokeOpacity, tickStrokeWidth, tickStrokeDasharray, textAnchor } = result;\n\tconst { fontSize, fontFamily, fontWeight, ticks, format } = result;\n\n\tconst { dy } = result;\n\n\treturn (\n\t\t<g>\n\t\t\t{ticks.map((tick, idx) => {\n\t\t\t\treturn (\n\t\t\t\t\t<Tick key={idx}\n\t\t\t\t\t\ttickStroke={tickStroke}\n\t\t\t\t\t\ttickLabelFill={tickLabelFill}\n\t\t\t\t\t\ttickStrokeWidth={tickStrokeWidth}\n\t\t\t\t\t\ttickStrokeOpacity={tickStrokeOpacity}\n\t\t\t\t\t\ttickStrokeDasharray={tickStrokeDasharray}\n\t\t\t\t\t\tdy={dy}\n\t\t\t\t\t\tx1={tick.x1} y1={tick.y1}\n\t\t\t\t\t\tx2={tick.x2} y2={tick.y2}\n\t\t\t\t\t\tlabelX={tick.labelX} labelY={tick.labelY}\n\t\t\t\t\t\ttextAnchor={textAnchor}\n\t\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\t\tfontFamily={fontFamily}>{format(tick.value)}</Tick>\n\t\t\t\t);\n\t\t\t})}\n\t\t</g>\n\t);\n}\n\nfunction drawTicks(ctx, result) {\n\n\tconst { tickStroke, tickStrokeOpacity, tickLabelFill } = result;\n\tconst { textAnchor, fontSize, fontFamily, fontWeight, ticks, showTickLabel } = result;\n\n\tctx.strokeStyle = hexToRGBA(tickStroke, tickStrokeOpacity);\n\n\tctx.fillStyle = tickStroke;\n\t// ctx.textBaseline = 'middle';\n\n\tticks.forEach((tick) => {\n\t\tdrawEachTick(ctx, tick, result);\n\t});\n\n\tctx.font = `${fontWeight} ${fontSize}px ${fontFamily}`;\n\tctx.fillStyle = tickLabelFill;\n\tctx.textAlign = textAnchor === \"middle\" ? \"center\" : textAnchor;\n\n\tif (showTickLabel) {\n\t\tticks.forEach((tick) => {\n\t\t\tdrawEachTickLabel(ctx, tick, result);\n\t\t});\n\t}\n}\n\nfunction drawEachTick(ctx, tick, result) {\n\tconst { tickStrokeWidth, tickStrokeDasharray } = result;\n\n\tctx.beginPath();\n\n\tctx.moveTo(tick.x1, tick.y1);\n\tctx.lineTo(tick.x2, tick.y2);\n\tctx.lineWidth = tickStrokeWidth;\n\tctx.setLineDash(getStrokeDasharray(tickStrokeDasharray).split(\",\"));\n\tctx.stroke();\n}\n\nfunction drawEachTickLabel(ctx, tick, result) {\n\tconst { canvas_dy, format } = result;\n\n\tctx.beginPath();\n\tctx.fillText(format(tick.value), tick.labelX, tick.labelY + canvas_dy);\n}\n\nexport default Axis;\n"]},"metadata":{},"sourceType":"script"}