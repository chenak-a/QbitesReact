{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Axis = require(\"./Axis\");\n\nvar _Axis2 = _interopRequireDefault(_Axis);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar XAxis = function (_Component) {\n  _inherits(XAxis, _Component);\n\n  function XAxis(props, context) {\n    _classCallCheck(this, XAxis);\n\n    var _this = _possibleConstructorReturn(this, (XAxis.__proto__ || Object.getPrototypeOf(XAxis)).call(this, props, context));\n\n    _this.axisZoomCallback = _this.axisZoomCallback.bind(_this);\n    return _this;\n  }\n\n  _createClass(XAxis, [{\n    key: \"axisZoomCallback\",\n    value: function axisZoomCallback(newXDomain) {\n      var xAxisZoom = this.context.xAxisZoom;\n      xAxisZoom(newXDomain);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var showTicks = this.props.showTicks;\n      var moreProps = helper(this.props, this.context);\n      return _react2.default.createElement(_Axis2.default, _extends({}, this.props, moreProps, {\n        x: true,\n        zoomEnabled: this.props.zoomEnabled && showTicks,\n        axisZoomCallback: this.axisZoomCallback,\n        zoomCursorClassName: \"react-stockcharts-ew-resize-cursor\"\n      }));\n    }\n  }]);\n\n  return XAxis;\n}(_react.Component);\n\nXAxis.propTypes = {\n  axisAt: _propTypes2.default.oneOfType([_propTypes2.default.oneOf([\"top\", \"bottom\", \"middle\"]), _propTypes2.default.number]).isRequired,\n  orient: _propTypes2.default.oneOf([\"top\", \"bottom\"]).isRequired,\n  innerTickSize: _propTypes2.default.number,\n  outerTickSize: _propTypes2.default.number,\n  tickFormat: _propTypes2.default.func,\n  tickPadding: _propTypes2.default.number,\n  tickSize: _propTypes2.default.number,\n  ticks: _propTypes2.default.number,\n  tickValues: _propTypes2.default.array,\n  showTicks: _propTypes2.default.bool,\n  className: _propTypes2.default.string,\n  zoomEnabled: _propTypes2.default.bool,\n  onContextMenu: _propTypes2.default.func,\n  onDoubleClick: _propTypes2.default.func\n};\nXAxis.defaultProps = {\n  showTicks: true,\n  showTickLabel: true,\n  showDomain: true,\n  className: \"react-stockcharts-x-axis\",\n  ticks: 10,\n  outerTickSize: 0,\n  fill: \"none\",\n  stroke: \"#000000\",\n  // x axis stroke color\n  strokeWidth: 1,\n  opacity: 1,\n  // x axis opacity\n  domainClassName: \"react-stockcharts-axis-domain\",\n  innerTickSize: 5,\n  tickPadding: 6,\n  tickStroke: \"#000000\",\n  // tick/grid stroke\n  tickStrokeOpacity: 1,\n  fontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n  fontSize: 12,\n  fontWeight: 400,\n  xZoomHeight: 25,\n  zoomEnabled: true,\n  getMouseDelta: function getMouseDelta(startXY, mouseXY) {\n    return startXY[0] - mouseXY[0];\n  }\n};\nXAxis.contextTypes = {\n  chartConfig: _propTypes2.default.object.isRequired,\n  xAxisZoom: _propTypes2.default.func.isRequired\n};\n\nfunction helper(props, context) {\n  var axisAt = props.axisAt,\n      xZoomHeight = props.xZoomHeight,\n      orient = props.orient;\n  var _context$chartConfig = context.chartConfig,\n      width = _context$chartConfig.width,\n      height = _context$chartConfig.height;\n  var axisLocation = void 0;\n  var x = 0,\n      w = width,\n      h = xZoomHeight;\n  if (axisAt === \"top\") axisLocation = 0;else if (axisAt === \"bottom\") axisLocation = height;else if (axisAt === \"middle\") axisLocation = height / 2;else axisLocation = axisAt;\n  var y = orient === \"top\" ? -xZoomHeight : 0;\n  return {\n    transform: [0, axisLocation],\n    range: [0, width],\n    getScale: getXScale,\n    bg: {\n      x: x,\n      y: y,\n      h: h,\n      w: w\n    }\n  };\n}\n\nfunction getXScale(moreProps) {\n  var scale = moreProps.xScale,\n      width = moreProps.width;\n\n  if (scale.invert) {\n    var trueRange = [0, width];\n    var trueDomain = trueRange.map(scale.invert);\n    return scale.copy().domain(trueDomain).range(trueRange);\n  }\n\n  return scale;\n}\n\nexports.default = XAxis;","map":{"version":3,"mappings":"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","names":["XAxis","props","context","_classCallCheck","_this","axisZoomCallback","bind","newXDomain","xAxisZoom","showTicks","moreProps","helper","_react2","x","zoomEnabled","zoomCursorClassName","propTypes","axisAt","_propTypes2","oneOfType","oneOf","number","isRequired","orient","innerTickSize","outerTickSize","tickFormat","func","tickPadding","tickSize","ticks","tickValues","array","bool","className","string","onContextMenu","onDoubleClick","defaultProps","showTickLabel","showDomain","fill","stroke","strokeWidth","opacity","domainClassName","tickStroke","tickStrokeOpacity","fontFamily","fontSize","fontWeight","xZoomHeight","getMouseDelta","startXY","mouseXY","contextTypes","chartConfig","object","width","height","axisLocation","w","h","y","transform","range","getScale","getXScale","bg","scale","xScale","invert","trueRange","trueDomain","map","copy","domain"],"sources":["../../../src/lib/axes/XAxis.js"],"sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport Axis from \"./Axis\";\n\nclass XAxis extends Component {\n\tconstructor(props, context) {\n\t\tsuper(props, context);\n\t\tthis.axisZoomCallback = this.axisZoomCallback.bind(this);\n\t}\n\taxisZoomCallback(newXDomain) {\n\t\tconst { xAxisZoom } = this.context;\n\t\txAxisZoom(newXDomain);\n\t}\n\trender() {\n\t\tconst { showTicks } = this.props;\n\t\tconst moreProps = helper(this.props, this.context);\n\n\t\treturn <Axis {...this.props} {...moreProps} x\n\t\t\tzoomEnabled={this.props.zoomEnabled && showTicks}\n\t\t\taxisZoomCallback={this.axisZoomCallback}\n\t\t\tzoomCursorClassName=\"react-stockcharts-ew-resize-cursor\" />;\n\t}\n}\n\nXAxis.propTypes = {\n\taxisAt: PropTypes.oneOfType([\n\t\tPropTypes.oneOf([\"top\", \"bottom\", \"middle\"]),\n\t\tPropTypes.number\n\t]).isRequired,\n\torient: PropTypes.oneOf([\"top\", \"bottom\"]).isRequired,\n\tinnerTickSize: PropTypes.number,\n\touterTickSize: PropTypes.number,\n\ttickFormat: PropTypes.func,\n\ttickPadding: PropTypes.number,\n\ttickSize: PropTypes.number,\n\tticks: PropTypes.number,\n\ttickValues: PropTypes.array,\n\tshowTicks: PropTypes.bool,\n\tclassName: PropTypes.string,\n\tzoomEnabled: PropTypes.bool,\n\tonContextMenu: PropTypes.func,\n\tonDoubleClick: PropTypes.func,\n};\n\nXAxis.defaultProps = {\n\tshowTicks: true,\n\tshowTickLabel: true,\n\tshowDomain: true,\n\tclassName: \"react-stockcharts-x-axis\",\n\tticks: 10,\n\touterTickSize: 0,\n\tfill: \"none\",\n\tstroke: \"#000000\", // x axis stroke color\n\tstrokeWidth: 1,\n\topacity: 1, // x axis opacity\n\tdomainClassName: \"react-stockcharts-axis-domain\",\n\tinnerTickSize: 5,\n\ttickPadding: 6,\n\ttickStroke: \"#000000\", // tick/grid stroke\n\ttickStrokeOpacity: 1,\n\tfontFamily: \"Helvetica Neue, Helvetica, Arial, sans-serif\",\n\tfontSize: 12,\n\tfontWeight: 400,\n\txZoomHeight: 25,\n\tzoomEnabled: true,\n\tgetMouseDelta: (startXY, mouseXY) => startXY[0] - mouseXY[0],\n};\n\nXAxis.contextTypes = {\n\tchartConfig: PropTypes.object.isRequired,\n\txAxisZoom: PropTypes.func.isRequired,\n};\n\nfunction helper(props, context) {\n\tconst { axisAt, xZoomHeight, orient } = props;\n\tconst { chartConfig: { width, height } } = context;\n\n\tlet axisLocation;\n\tconst x = 0, w = width, h = xZoomHeight;\n\n\tif (axisAt === \"top\") axisLocation = 0;\n\telse if (axisAt === \"bottom\") axisLocation = height;\n\telse if (axisAt === \"middle\") axisLocation = (height) / 2;\n\telse axisLocation = axisAt;\n\n\tconst y = (orient === \"top\") ? -xZoomHeight : 0;\n\n\treturn {\n\t\ttransform: [0, axisLocation],\n\t\trange: [0, width],\n\t\tgetScale: getXScale,\n\t\tbg: { x, y, h, w },\n\t};\n}\n\nfunction getXScale(moreProps) {\n\tconst { xScale: scale, width } = moreProps;\n\n\tif (scale.invert) {\n\t\tconst trueRange = [0, width];\n\t\tconst trueDomain = trueRange.map(scale.invert);\n\t\treturn scale.copy()\n\t\t\t.domain(trueDomain)\n\t\t\t.range(trueRange);\n\t}\n\n\treturn scale;\n}\n\n\nexport default XAxis;\n"]},"metadata":{},"sourceType":"script"}