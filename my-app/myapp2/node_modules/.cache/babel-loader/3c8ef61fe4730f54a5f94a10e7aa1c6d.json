{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _GenericChartComponent = require(\"../GenericChartComponent\");\n\nvar _GenericChartComponent2 = _interopRequireDefault(_GenericChartComponent);\n\nvar _utils = require(\"../utils\");\n\nvar _GenericComponent = require(\"../GenericComponent\");\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar CurrentCoordinate = function (_Component) {\n  _inherits(CurrentCoordinate, _Component);\n\n  function CurrentCoordinate(props) {\n    _classCallCheck(this, CurrentCoordinate);\n\n    var _this = _possibleConstructorReturn(this, (CurrentCoordinate.__proto__ || Object.getPrototypeOf(CurrentCoordinate)).call(this, props));\n\n    _this.renderSVG = _this.renderSVG.bind(_this);\n    _this.drawOnCanvas = _this.drawOnCanvas.bind(_this);\n    return _this;\n  }\n\n  _createClass(CurrentCoordinate, [{\n    key: \"drawOnCanvas\",\n    value: function drawOnCanvas(ctx, moreProps) {\n      var circle = helper(this.props, moreProps);\n      if (!circle) return null;\n      ctx.fillStyle = circle.fill;\n      ctx.beginPath();\n      ctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n      ctx.fill();\n    }\n  }, {\n    key: \"renderSVG\",\n    value: function renderSVG(moreProps) {\n      var className = this.props.className;\n      var circle = helper(this.props, moreProps);\n      if (!circle) return null;\n      var fillColor = circle.fill instanceof Function ? circle.fill(moreProps.currentItem) : circle.fill;\n      return _react2.default.createElement(\"circle\", {\n        className: className,\n        cx: circle.x,\n        cy: circle.y,\n        r: circle.r,\n        fill: fillColor\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react2.default.createElement(_GenericChartComponent2.default, {\n        svgDraw: this.renderSVG,\n        canvasDraw: this.drawOnCanvas,\n        canvasToDraw: _GenericComponent.getMouseCanvas,\n        drawOn: [\"mousemove\", \"pan\"]\n      });\n    }\n  }]);\n\n  return CurrentCoordinate;\n}(_react.Component);\n\nCurrentCoordinate.propTypes = {\n  yAccessor: _propTypes2.default.func,\n  r: _propTypes2.default.number.isRequired,\n  className: _propTypes2.default.string\n};\nCurrentCoordinate.defaultProps = {\n  r: 3,\n  className: \"react-stockcharts-current-coordinate\"\n};\n\nfunction helper(props, moreProps) {\n  var fill = props.fill,\n      yAccessor = props.yAccessor,\n      r = props.r;\n  var show = moreProps.show,\n      xScale = moreProps.xScale,\n      yScale = moreProps.chartConfig.yScale,\n      currentItem = moreProps.currentItem,\n      xAccessor = moreProps.xAccessor; // console.log(show);\n\n  if (!show || (0, _utils.isNotDefined)(currentItem)) return null;\n  var xValue = xAccessor(currentItem);\n  var yValue = yAccessor(currentItem);\n  if ((0, _utils.isNotDefined)(yValue)) return null; // console.log(chartConfig);\n\n  var x = Math.round(xScale(xValue));\n  var y = Math.round(yScale(yValue));\n  return {\n    x: x,\n    y: y,\n    r: r,\n    fill: fill\n  };\n}\n\nexports.default = CurrentCoordinate;","map":{"version":3,"sources":["../../../src/lib/coordinates/CurrentCoordinate.js"],"names":["CurrentCoordinate","ctx","moreProps","circle","helper","Math","className","fillColor","yAccessor","r","string","fill","props","show","xScale","yScale","currentItem","xAccessor","xValue","yValue","x","y"],"mappings":"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","sourcesContent":["\n\nimport React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport GenericChartComponent from \"../GenericChartComponent\";\nimport { isNotDefined } from \"../utils\";\nimport { getMouseCanvas } from \"../GenericComponent\";\n\nclass CurrentCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.renderSVG = this.renderSVG.bind(this);\n\t\tthis.drawOnCanvas = this.drawOnCanvas.bind(this);\n\t}\n\tdrawOnCanvas(ctx, moreProps) {\n\t\tconst circle = helper(this.props, moreProps);\n\t\tif (!circle) return null;\n\n\t\tctx.fillStyle = circle.fill;\n\t\tctx.beginPath();\n\t\tctx.arc(circle.x, circle.y, circle.r, 0, 2 * Math.PI, false);\n\t\tctx.fill();\n\t}\n\trenderSVG(moreProps) {\n\t\tconst { className } = this.props;\n\n\t\tconst circle = helper(this.props, moreProps);\n\t\tif (!circle) return null;\n\n\t\tconst fillColor = circle.fill instanceof Function ? circle.fill(moreProps.currentItem) : circle.fill;\n\n\t\treturn (\n\t\t\t<circle className={className} cx={circle.x} cy={circle.y} r={circle.r} fill={fillColor} />\n\t\t);\n\t}\n\trender() {\n\t\treturn <GenericChartComponent\n\t\t\tsvgDraw={this.renderSVG}\n\t\t\tcanvasDraw={this.drawOnCanvas}\n\t\t\tcanvasToDraw={getMouseCanvas}\n\t\t\tdrawOn={[\"mousemove\", \"pan\"]}\n\t\t/>;\n\t}\n}\n\nCurrentCoordinate.propTypes = {\n\tyAccessor: PropTypes.func,\n\tr: PropTypes.number.isRequired,\n\tclassName: PropTypes.string,\n};\n\n\nCurrentCoordinate.defaultProps = {\n\tr: 3,\n\tclassName: \"react-stockcharts-current-coordinate\",\n};\n\nfunction helper(props, moreProps) {\n\tconst { fill, yAccessor, r } = props;\n\n\tconst { show, xScale, chartConfig: { yScale }, currentItem, xAccessor } = moreProps;\n\n\t// console.log(show);\n\tif (!show || isNotDefined(currentItem)) return null;\n\n\tconst xValue = xAccessor(currentItem);\n\tconst yValue = yAccessor(currentItem);\n\n\tif (isNotDefined(yValue)) return null;\n\n\t// console.log(chartConfig);\n\tconst x = Math.round(xScale(xValue));\n\tconst y = Math.round(yScale(yValue));\n\n\treturn { x, y, r, fill };\n}\n\nexport default CurrentCoordinate;\n"]},"metadata":{},"sourceType":"script"}