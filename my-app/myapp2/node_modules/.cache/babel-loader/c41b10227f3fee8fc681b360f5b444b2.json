{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _utils = require(\"../../utils\");\n\nvar _utils2 = require(\"../utils\");\n\nvar _ClickableShape = require(\"../components/ClickableShape\");\n\nvar _ClickableShape2 = _interopRequireDefault(_ClickableShape);\n\nvar _InteractiveYCoordinate = require(\"../components/InteractiveYCoordinate\");\n\nvar _InteractiveYCoordinate2 = _interopRequireDefault(_InteractiveYCoordinate);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar EachInteractiveYCoordinate = function (_Component) {\n  _inherits(EachInteractiveYCoordinate, _Component);\n\n  function EachInteractiveYCoordinate(props) {\n    _classCallCheck(this, EachInteractiveYCoordinate);\n\n    var _this = _possibleConstructorReturn(this, (EachInteractiveYCoordinate.__proto__ || Object.getPrototypeOf(EachInteractiveYCoordinate)).call(this, props));\n\n    _this.handleHover = _this.handleHover.bind(_this);\n    _this.handleCloseIconHover = _this.handleCloseIconHover.bind(_this);\n    _this.handleDragStart = _this.handleDragStart.bind(_this);\n    _this.handleDrag = _this.handleDrag.bind(_this);\n    _this.handleDelete = _this.handleDelete.bind(_this);\n    _this.isHover = _utils2.isHover.bind(_this);\n    _this.saveNodeType = _utils2.saveNodeType.bind(_this);\n    _this.nodes = {};\n    _this.state = {\n      hover: false,\n      closeIconHover: false\n    };\n    return _this;\n  }\n\n  _createClass(EachInteractiveYCoordinate, [{\n    key: \"handleDragStart\",\n    value: function handleDragStart(moreProps) {\n      var yValue = this.props.yValue;\n      var mouseXY = moreProps.mouseXY;\n      var yScale = moreProps.chartConfig.yScale;\n\n      var _mouseXY = _slicedToArray(mouseXY, 2),\n          mouseY = _mouseXY[1];\n\n      var dy = mouseY - yScale(yValue);\n      this.dragStartPosition = {\n        yValue: yValue,\n        dy: dy\n      };\n    }\n  }, {\n    key: \"handleDrag\",\n    value: function handleDrag(moreProps) {\n      var _props = this.props,\n          index = _props.index,\n          onDrag = _props.onDrag;\n\n      var _moreProps$mouseXY = _slicedToArray(moreProps.mouseXY, 2),\n          mouseY = _moreProps$mouseXY[1],\n          yScale = moreProps.chartConfig.yScale;\n\n      var dy = this.dragStartPosition.dy;\n      var newYValue = yScale.invert(mouseY - dy);\n      onDrag(index, newYValue);\n    }\n  }, {\n    key: \"handleDelete\",\n    value: function handleDelete(moreProps) {\n      var _props2 = this.props,\n          index = _props2.index,\n          onDelete = _props2.onDelete;\n      onDelete(index, moreProps);\n    }\n  }, {\n    key: \"handleHover\",\n    value: function handleHover(moreProps) {\n      if (this.state.hover !== moreProps.hovering) {\n        this.setState({\n          hover: moreProps.hovering,\n          closeIconHover: moreProps.hovering ? this.state.closeIconHover : false\n        });\n      }\n    }\n  }, {\n    key: \"handleCloseIconHover\",\n    value: function handleCloseIconHover(moreProps) {\n      if (this.state.closeIconHover !== moreProps.hovering) {\n        this.setState({\n          closeIconHover: moreProps.hovering\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _props3 = this.props,\n          yValue = _props3.yValue,\n          bgFill = _props3.bgFill,\n          bgOpacity = _props3.bgOpacity,\n          textFill = _props3.textFill,\n          fontFamily = _props3.fontFamily,\n          fontSize = _props3.fontSize,\n          fontWeight = _props3.fontWeight,\n          fontStyle = _props3.fontStyle,\n          text = _props3.text,\n          selected = _props3.selected,\n          onDragComplete = _props3.onDragComplete,\n          stroke = _props3.stroke,\n          strokeOpacity = _props3.strokeOpacity,\n          strokeDasharray = _props3.strokeDasharray,\n          strokeWidth = _props3.strokeWidth,\n          edge = _props3.edge,\n          textBox = _props3.textBox,\n          draggable = _props3.draggable;\n      var _state = this.state,\n          hover = _state.hover,\n          closeIconHover = _state.closeIconHover;\n      var hoverHandler = {\n        onHover: this.handleHover,\n        onUnHover: this.handleHover\n      };\n      var dragProps = draggable ? {\n        onDragStart: this.handleDragStart,\n        onDrag: this.handleDrag,\n        onDragComplete: onDragComplete\n      } : {};\n      return _react2.default.createElement(\"g\", null, _react2.default.createElement(_InteractiveYCoordinate2.default, _extends({\n        ref: this.saveNodeType(\"priceCoordinate\"),\n        selected: selected && !closeIconHover,\n        hovering: hover || closeIconHover,\n        interactiveCursorClass: \"react-stockcharts-move-cursor\"\n      }, hoverHandler, dragProps, {\n        yValue: yValue,\n        bgFill: bgFill,\n        bgOpacity: bgOpacity,\n        textFill: textFill,\n        fontFamily: fontFamily,\n        fontStyle: fontStyle,\n        fontWeight: fontWeight,\n        fontSize: fontSize,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        strokeDasharray: strokeDasharray,\n        strokeWidth: strokeWidth,\n        text: text,\n        textBox: textBox,\n        edge: edge\n      })), _react2.default.createElement(_ClickableShape2.default, {\n        show: true,\n        hovering: closeIconHover,\n        text: text,\n        yValue: yValue,\n        fontFamily: fontFamily,\n        fontStyle: fontStyle,\n        fontWeight: fontWeight,\n        fontSize: fontSize,\n        textBox: textBox,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        onHover: this.handleCloseIconHover,\n        onUnHover: this.handleCloseIconHover,\n        onClick: this.handleDelete\n      }));\n    }\n  }]);\n\n  return EachInteractiveYCoordinate;\n}(_react.Component);\n\nEachInteractiveYCoordinate.propTypes = {\n  index: _propTypes2.default.number,\n  draggable: _propTypes2.default.bool.isRequired,\n  yValue: _propTypes2.default.number.isRequired,\n  bgFill: _propTypes2.default.string.isRequired,\n  bgOpacity: _propTypes2.default.number.isRequired,\n  stroke: _propTypes2.default.string.isRequired,\n  strokeWidth: _propTypes2.default.number.isRequired,\n  strokeOpacity: _propTypes2.default.number.isRequired,\n  strokeDasharray: _propTypes2.default.string.isRequired,\n  textFill: _propTypes2.default.string.isRequired,\n  fontWeight: _propTypes2.default.string.isRequired,\n  fontFamily: _propTypes2.default.string.isRequired,\n  fontStyle: _propTypes2.default.string.isRequired,\n  fontSize: _propTypes2.default.number.isRequired,\n  text: _propTypes2.default.string.isRequired,\n  selected: _propTypes2.default.bool.isRequired,\n  edge: _propTypes2.default.object.isRequired,\n  textBox: _propTypes2.default.object.isRequired,\n  onDrag: _propTypes2.default.func.isRequired,\n  onDragComplete: _propTypes2.default.func.isRequired,\n  onDelete: _propTypes2.default.func.isRequired\n};\nEachInteractiveYCoordinate.defaultProps = {\n  onDrag: _utils.noop,\n  onDragComplete: _utils.noop,\n  strokeWidth: 1,\n  opacity: 1,\n  selected: false,\n  fill: \"#FFFFFF\",\n  draggable: false\n};\nexports.default = EachInteractiveYCoordinate;","map":{"version":3,"sources":["../../../../src/lib/interactive/wrapper/EachInteractiveYCoordinate.js"],"names":["EachInteractiveYCoordinate","hover","closeIconHover","moreProps","yValue","mouseXY","yScale","mouseY","dy","index","onDrag","newYValue","onDelete","hovering","bgFill","bgOpacity","textFill","fontFamily","fontSize","fontWeight","fontStyle","text","selected","onDragComplete","stroke","strokeOpacity","strokeDasharray","strokeWidth","edge","textBox","draggable","hoverHandler","onHover","onUnHover","handleHover","dragProps","onDragStart","handleDelete","isRequired","opacity","fill"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\n\nimport { noop } from \"../../utils\";\nimport { saveNodeType, isHover } from \"../utils\";\n\nimport ClickableShape from \"../components/ClickableShape\";\nimport InteractiveYCoordinate from \"../components/InteractiveYCoordinate\";\n\nclass EachInteractiveYCoordinate extends Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.handleHover = this.handleHover.bind(this);\n\t\tthis.handleCloseIconHover = this.handleCloseIconHover.bind(this);\n\n\t\tthis.handleDragStart = this.handleDragStart.bind(this);\n\t\tthis.handleDrag = this.handleDrag.bind(this);\n\n\t\tthis.handleDelete = this.handleDelete.bind(this);\n\n\t\tthis.isHover = isHover.bind(this);\n\t\tthis.saveNodeType = saveNodeType.bind(this);\n\t\tthis.nodes = {};\n\n\t\tthis.state = {\n\t\t\thover: false,\n\t\t\tcloseIconHover: false,\n\t\t};\n\t}\n\thandleDragStart(moreProps) {\n\t\tconst {\n\t\t\tyValue,\n\t\t} = this.props;\n\t\tconst { mouseXY } = moreProps;\n\t\tconst { chartConfig: { yScale } } = moreProps;\n\t\tconst [, mouseY] = mouseXY;\n\n\t\tconst dy = mouseY - yScale(yValue);\n\n\t\tthis.dragStartPosition = {\n\t\t\tyValue, dy\n\t\t};\n\t}\n\thandleDrag(moreProps) {\n\t\tconst { index, onDrag } = this.props;\n\t\tconst {\n\t\t\tmouseXY: [, mouseY],\n\t\t\tchartConfig: { yScale },\n\t\t} = moreProps;\n\n\t\tconst { dy } = this.dragStartPosition;\n\n\t\tconst newYValue = yScale.invert(mouseY - dy);\n\n\t\tonDrag(index, newYValue);\n\t}\n\thandleDelete(moreProps) {\n\t\tconst { index, onDelete } = this.props;\n\t\tonDelete(index, moreProps);\n\t}\n\thandleHover(moreProps) {\n\t\tif (this.state.hover !== moreProps.hovering) {\n\t\t\tthis.setState({\n\t\t\t\thover: moreProps.hovering,\n\t\t\t\tcloseIconHover: moreProps.hovering ? this.state.closeIconHover : false\n\t\t\t});\n\t\t}\n\t}\n\thandleCloseIconHover(moreProps) {\n\t\tif (this.state.closeIconHover !== moreProps.hovering) {\n\t\t\tthis.setState({\n\t\t\t\tcloseIconHover: moreProps.hovering\n\t\t\t});\n\t\t}\n\t}\n\trender() {\n\t\tconst {\n\t\t\tyValue,\n\t\t\tbgFill,\n\t\t\tbgOpacity,\n\t\t\ttextFill,\n\t\t\tfontFamily,\n\t\t\tfontSize,\n\t\t\tfontWeight,\n\t\t\tfontStyle,\n\t\t\ttext,\n\t\t\t// hoverText,\n\t\t\tselected,\n\t\t\tonDragComplete,\n\t\t\tstroke,\n\t\t\tstrokeOpacity,\n\t\t\tstrokeDasharray,\n\t\t\tstrokeWidth,\n\t\t\tedge,\n\t\t\ttextBox,\n\t\t\tdraggable,\n\t\t} = this.props;\n\t\tconst { hover, closeIconHover } = this.state;\n\n\t\tconst hoverHandler = {\n\t\t\tonHover: this.handleHover,\n\t\t\tonUnHover: this.handleHover\n\t\t};\n\n\t\tconst dragProps = draggable\n\t\t\t? {\n\t\t\t\tonDragStart: this.handleDragStart,\n\t\t\t\tonDrag: this.handleDrag,\n\t\t\t\tonDragComplete: onDragComplete,\n\t\t\t}\n\t\t\t: {};\n\t\treturn (\n\t\t\t<g>\n\t\t\t\t<InteractiveYCoordinate\n\t\t\t\t\tref={this.saveNodeType(\"priceCoordinate\")}\n\t\t\t\t\tselected={selected && !closeIconHover}\n\t\t\t\t\thovering={hover || closeIconHover}\n\t\t\t\t\tinteractiveCursorClass=\"react-stockcharts-move-cursor\"\n\t\t\t\t\t{...hoverHandler}\n\n\t\t\t\t\t{...dragProps}\n\n\t\t\t\t\tyValue={yValue}\n\t\t\t\t\tbgFill={bgFill}\n\t\t\t\t\tbgOpacity={bgOpacity}\n\t\t\t\t\ttextFill={textFill}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontStyle={fontStyle}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\t\t\t\t\tstrokeDasharray={strokeDasharray}\n\t\t\t\t\tstrokeWidth={strokeWidth}\n\t\t\t\t\ttext={text}\n\t\t\t\t\ttextBox={textBox}\n\t\t\t\t\tedge={edge}\n\t\t\t\t/>\n\t\t\t\t<ClickableShape\n\t\t\t\t\tshow\n\t\t\t\t\thovering={closeIconHover}\n\t\t\t\t\ttext={text}\n\t\t\t\t\tyValue={yValue}\n\t\t\t\t\tfontFamily={fontFamily}\n\t\t\t\t\tfontStyle={fontStyle}\n\t\t\t\t\tfontWeight={fontWeight}\n\t\t\t\t\tfontSize={fontSize}\n\t\t\t\t\ttextBox={textBox}\n\n\t\t\t\t\tstroke={stroke}\n\t\t\t\t\tstrokeOpacity={strokeOpacity}\n\n\t\t\t\t\tonHover={this.handleCloseIconHover}\n\t\t\t\t\tonUnHover={this.handleCloseIconHover}\n\t\t\t\t\tonClick={this.handleDelete}\n\t\t\t\t/>\n\t\t\t\t{/* <HoverTextNearMouse\n\t\t\t\t\tshow={hoverTextEnabled && hover && !selected}\n\t\t\t\t\t{...restHoverTextProps}\n\t\t\t\t/> */}\n\t\t\t</g>\n\t\t);\n\t}\n}\n\nEachInteractiveYCoordinate.propTypes = {\n\tindex: PropTypes.number,\n\n\tdraggable: PropTypes.bool.isRequired,\n\tyValue: PropTypes.number.isRequired,\n\n\tbgFill: PropTypes.string.isRequired,\n\tbgOpacity: PropTypes.number.isRequired,\n\tstroke: PropTypes.string.isRequired,\n\tstrokeWidth: PropTypes.number.isRequired,\n\tstrokeOpacity: PropTypes.number.isRequired,\n\tstrokeDasharray: PropTypes.string.isRequired,\n\ttextFill: PropTypes.string.isRequired,\n\n\tfontWeight: PropTypes.string.isRequired,\n\tfontFamily: PropTypes.string.isRequired,\n\tfontStyle: PropTypes.string.isRequired,\n\tfontSize: PropTypes.number.isRequired,\n\n\ttext: PropTypes.string.isRequired,\n\tselected: PropTypes.bool.isRequired,\n\n\tedge: PropTypes.object.isRequired,\n\ttextBox: PropTypes.object.isRequired,\n\n\tonDrag: PropTypes.func.isRequired,\n\tonDragComplete: PropTypes.func.isRequired,\n\tonDelete: PropTypes.func.isRequired,\n};\n\nEachInteractiveYCoordinate.defaultProps = {\n\tonDrag: noop,\n\tonDragComplete: noop,\n\n\tstrokeWidth: 1,\n\topacity: 1,\n\tselected: false,\n\tfill: \"#FFFFFF\",\n\tdraggable: false,\n};\n\nexport default EachInteractiveYCoordinate;"]},"metadata":{},"sourceType":"script"}